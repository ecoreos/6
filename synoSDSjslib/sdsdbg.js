/* Copyright (c) 2016 Synology Inc. All rights reserved. */

(function(){var k={Prototype:"scripts/prototype-1.7.2/DebugJSFileList.js",EXT:"scripts/ext-3/DebugJSFileList.js",SDS:"synoSDSjslib/js/JSFileList.js",Desktop:"webman/sds/JSFileList.js"},d=[k.Prototype,k.EXT,k.SDS,k.Desktop],g=[],e;e={Prototype:["scripts/prototype-1.7.2/prototype.js"],EXT:["scripts/ext-3/adapter/ext/ext-base.js","scripts/ext-3/ext-all.js","scripts/ext-3/ux/ux-all.js","scripts/scrollbar/flexcroll.js"],SDS:["synoSDSjslib/sds.js"],Desktop:["webman/desktop.js"]};function i(t,r){var s=r.split("."),p,q;for(q=0;q<s.length;++q){p=s[q];if(t[p]===undefined){t[p]={}}t=t[p]}}function f(s,v,q){var r=document.getElementsByTagName("head")[0];var p=document.createElement("script");function t(){if(typeof v==="function"){v.call(q||window,true,s)}}function u(){if(typeof v==="function"){v.call(q||window,false,s)}}console.log("Load",s);p.type="text/javascript";p.src=s;p.onload=t;p.onerror=u;r.appendChild(p)}function j(q,v,s){var r=q.concat(),t=[];function p(){f(r.shift(),u,this)}function u(w,x){if(!w){t.push(x)}if(r.length===0){if(typeof v==="function"){v.call(s||window,t.length===0,t)}return}p()}p()}function c(p){return g.indexOf(p)!==-1}function l(q,t,r){var s=k[q],p=q+"FileList";if(c(s)){SYNO.SDS.DebugInitiator[p]=e[q]}j(SYNO.SDS.DebugInitiator[p],function(){console.log(q,"init done");t.call(r||window)},this)}function m(p,q){if(!p){g=q.concat()}b()}function b(){l("Prototype",n,this)}function n(){l("EXT",o,this)}function o(){l("SDS",a,this)}function a(){l("Desktop",h,this)}function h(){console.info("[DBGInit] InitDone")}i(window,"SYNO.SDS.DebugInitiator");j(d,m,this)})();