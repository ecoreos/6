/* Copyright (c) 2016 Synology Inc. All rights reserved. */

Ext.define("SYNO.SDS.Utils.PercentageBar",{extend:"Ext.XTemplate",defaultConf:{barWidth:150,barHeight:16,value:0,showValueText:true,fixed:true,fixedBarTpl:['<div class="{cls} syno-percentage-cmp">','<div class="percentage-cmp-hbar-background" style="width:{barWidth}px; height:{barHeight}px;">','<div class="percentage-cmp-hbar-fill" style="width:{fillW}px; height:{barHeight}px;" ></div>',"</div>",'<tpl if="(this.showValueText)">','<div class="percentage-cmp-value" style="line-height: {barHeight}px;"> {value} %</div>',"</tpl>","</div>"],flexBarTpl:['<div class="{cls} syno-percentage-cmp">','<tpl if="(this.showExtraText)">','<div class="percentage-cmp-value extra-info" style="line-height: {barHeight}px;"> {extraInfo}</div>',"</tpl>",'<tpl if="(this.showValueText)">','<div class="percentage-cmp-value" style="line-height: {barHeight}px;"> {value} %</div>',"</tpl>",'<div class="percentage-cmp-hbar-background" style="height:{barHeight}px;">','<div class="percentage-cmp-hbar-fill" style="width:{fillW}%; height:{barHeight}px;" ></div>',"</div>","</div>"]},constructor:function(a){Ext.apply(this,this.defaultConf);Ext.apply(this,a);if(this.fixed){SYNO.SDS.Utils.PercentageBar.superclass.constructor.apply(this,this.fixedBarTpl)}else{SYNO.SDS.Utils.PercentageBar.superclass.constructor.apply(this,this.flexBarTpl)}},fill:function(d,e,c){var b=(this.fixed)?d*(this.barWidth/100):d,a;c=c||(d===100);a={barHeight:this.barHeight,barWidth:this.barWidth,fillW:b,extraInfo:e,value:d,cls:this.cls+(c?" no-animation":"")};return this.applyTemplate(a)}});Ext.define("SYNO.SDS.Utils.ProgressBar",{extend:"SYNO.SDS.Utils.PercentageBar",constructor:function(a){this.callParent(arguments);this.cls=this.cls?this.cls:"sds-ux-progressbar"}});