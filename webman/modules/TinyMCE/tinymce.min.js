/* Copyright (c) 2016 Synology Inc. All rights reserved. */

(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){var k,n,p,j,m;for(k=0;k<l.length;k++){n=b;p=l[k];j=p.split(/[.\/]/);for(var o=0;o<j.length-1;++o){if(n[j[o]]===g){n[j[o]]={}}n=n[j[o]]}n[j[j.length-1]]=d[p]}if(b.AMDLC_TESTS){m=b.privateModules||{};for(p in d){m[p]=d[p]}for(k=0;k<l.length;k++){delete m[l[k]]}b.privateModules=m}}h("tinymce/geom/Rect",[],function(){var k=Math.min,p=Math.max,r=Math.round;function i(z,s,D){var B,v,C,u,A,t;B=s.x;v=s.y;C=z.w;u=z.h;A=s.w;t=s.h;D=(D||"").split("");if(D[0]==="b"){v+=t}if(D[1]==="r"){B+=A}if(D[0]==="c"){v+=r(t/2)}if(D[1]==="c"){B+=r(A/2)}if(D[3]==="b"){v-=u}if(D[4]==="r"){B-=C}if(D[3]==="c"){v-=r(u/2)}if(D[4]==="c"){B-=r(C/2)}return l(B,v,C,u)}function n(v,w,u,s){var x,t;for(t=0;t<s.length;t++){x=i(v,w,s[t]);if(x.x>=u.x&&x.x+x.w<=u.w+u.x&&x.y>=u.y&&x.y+x.h<=u.h+u.y){return s[t]}}return null}function q(u,s,t){return l(u.x-s,u.y-t,u.w+s*2,u.h+t*2)}function j(x,u){var t,w,s,v;t=p(x.x,u.x);w=p(x.y,u.y);s=k(x.x+x.w,u.x+u.w);v=k(x.y+x.h,u.y+u.h);if(s-t<0||v-w<0){return null}return l(t,w,s-t,v-w)}function m(D,C,s){var A,x,y,v,u,E,t,B,z,w;u=D.x;E=D.y;t=D.x+D.w;B=D.y+D.h;z=C.x+C.w;w=C.y+C.h;A=p(0,C.x-u);x=p(0,C.y-E);y=p(0,t-z);v=p(0,B-w);u+=A;E+=x;if(s){t+=A;B+=x;u-=y;E-=v}t-=y;B-=v;return l(u,E,t-u,B-E)}function l(s,v,t,u){return{x:s,y:v,w:t,h:u}}function o(s){return l(s.left,s.top,s.width,s.height)}return{inflate:q,relativePosition:i,findBestRelativePosition:n,intersect:j,clamp:m,create:l,fromClientRect:o}});h("tinymce/util/Promise",[],function(){if(window.Promise){return window.Promise}var i=o.immediateFn||(typeof setImmediate==="function"&&setImmediate)||function(s){setTimeout(s,1)};function n(t,s){return function(){t.apply(s,arguments)}}var j=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function o(s){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof s!=="function"){throw new TypeError("not a function")}this._state=null;this._value=null;this._deferreds=[];q(s,n(p,this),n(r,this))}function k(s){var t=this;if(this._state===null){this._deferreds.push(s);return}i(function(){var u=t._state?s.onFulfilled:s.onRejected;if(u===null){(t._state?s.resolve:s.reject)(t._value);return}var v;try{v=u(t._value)}catch(w){s.reject(w);return}s.resolve(v)})}function p(t){try{if(t===this){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var u=t.then;if(typeof u==="function"){q(n(u,t),n(p,this),n(r,this));return}}this._state=true;this._value=t;l.call(this)}catch(s){r.call(this,s)}}function r(s){this._state=false;this._value=s;l.call(this)}function l(){for(var t=0,s=this._deferreds.length;t<s;t++){k.call(this,this._deferreds[t])}this._deferreds=null}function m(v,s,u,t){this.onFulfilled=typeof v==="function"?v:null;this.onRejected=typeof s==="function"?s:null;this.resolve=u;this.reject=t}function q(v,w,t){var s=false;try{v(function(x){if(s){return}s=true;w(x)},function(x){if(s){return}s=true;t(x)})}catch(u){if(s){return}s=true;t(u)}}o.prototype["catch"]=function(s){return this.then(null,s)};o.prototype.then=function(u,s){var t=this;return new o(function(w,v){k.call(t,new m(u,s,w,v))})};o.all=function(){var s=Array.prototype.slice.call(arguments.length===1&&j(arguments[0])?arguments[0]:arguments);return new o(function(x,w){if(s.length===0){return x([])}var v=s.length;function u(z,B){try{if(B&&(typeof B==="object"||typeof B==="function")){var A=B.then;if(typeof A==="function"){A.call(B,function(C){u(z,C)},w);return}}s[z]=B;if(--v===0){x(s)}}catch(y){w(y)}}for(var t=0;t<s.length;t++){u(t,s[t])}})};o.resolve=function(s){if(s&&typeof s==="object"&&s.constructor===o){return s}return new o(function(t){t(s)})};o.reject=function(s){return new o(function(u,t){t(s)})};o.race=function(s){return new o(function(w,v){for(var u=0,t=s.length;u<t;u++){s[u].then(w,v)}})};return o});h("tinymce/util/Delay",["tinymce/util/Promise"],function(m){var k;function n(u,s){var r,q=window.requestAnimationFrame,t=["ms","moz","webkit"];function p(v){window.setTimeout(v,0)}for(r=0;r<t.length&&!q;r++){q=window[t[r]+"RequestAnimationFrame"]}if(!q){q=p}q(u,s)}function j(q,p){if(typeof p!="number"){p=0}return setTimeout(q,p)}function o(q,p){if(typeof p!="number"){p=0}return setInterval(q,p)}function i(p){return clearTimeout(p)}function l(p){return clearInterval(p)}return{requestAnimationFrame:function(q,p){if(k){k.then(q);return}k=new m(function(r){if(!p){p=document.body}n(r,p)}).then(q)},setTimeout:j,setInterval:o,setEditorTimeout:function(p,r,q){return j(function(){if(!p.removed){r()}},q)},setEditorInterval:function(p,s,q){var r;r=o(function(){if(!p.removed){s()}else{clearInterval(r)}},q);return r},throttle:function(r,p){var q;return function(){var s=arguments;clearTimeout(q);q=j(function(){r.apply(this,s)},p)}},clearInterval:l,clearTimeout:i}});h("tinymce/dom/EventUtils",["tinymce/util/Delay"],function(j){var o="mce-data-";var q=/^(?:mouse|contextmenu)|click/;var m={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};function l(t,s,u,r){if(t.addEventListener){t.addEventListener(s,u,r||false)}else{if(t.attachEvent){t.attachEvent("on"+s,u)}}}function p(t,s,u,r){if(t.removeEventListener){t.removeEventListener(s,u,r||false)}else{if(t.detachEvent){t.detachEvent("on"+s,u)}}}function n(t,x){var s,r=x||{},v;function u(){return false}function w(){return true}for(s in t){if(!m[s]){r[s]=t[s]}}if(!r.target){r.target=r.srcElement||document}if(t&&q.test(t.type)&&t.pageX===v&&t.clientX!==v){var A=r.target.ownerDocument||document;var z=A.documentElement;var y=A.body;r.pageX=t.clientX+(z&&z.scrollLeft||y&&y.scrollLeft||0)-(z&&z.clientLeft||y&&y.clientLeft||0);r.pageY=t.clientY+(z&&z.scrollTop||y&&y.scrollTop||0)-(z&&z.clientTop||y&&y.clientTop||0)}r.preventDefault=function(){r.isDefaultPrevented=w;if(t){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}}};r.stopPropagation=function(){r.isPropagationStopped=w;if(t){if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}}};r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=w;r.stopPropagation()};if(!r.isDefaultPrevented){r.isDefaultPrevented=u;r.isPropagationStopped=u;r.isImmediatePropagationStopped=u}if(typeof r.metaKey=="undefined"){r.metaKey=false}return r}function k(w,y,t){var v=w.document,u={type:"ready"};if(t.domLoaded){y(u);return}function s(){if(!t.domLoaded){t.domLoaded=true;y(u)}}function r(){if(v.readyState==="complete"||(v.readyState==="interactive"&&v.body)){p(v,"readystatechange",r);s()}}function x(){try{v.documentElement.doScroll("left")}catch(z){j.setTimeout(x);return}s()}if(v.addEventListener){if(v.readyState==="complete"){s()}else{l(w,"DOMContentLoaded",s)}}else{l(v,"readystatechange",r);if(v.documentElement.doScroll&&w.self===w.top){x()}}l(w,"load",s)}function i(){var r=this,t={},v,y,s,u,x;y=o+(+new Date()).toString(32);u="onmouseenter" in document.documentElement;s="onfocusin" in document.documentElement;x={mouseenter:"mouseover",mouseleave:"mouseout"};v=1;r.domLoaded=false;r.events=t;function w(C,F){var B,D,A,E,z=t[F];B=z&&z[C.type];if(B){for(D=0,A=B.length;D<A;D++){E=B[D];if(E&&E.func.call(E.scope,C)===false){C.preventDefault()}if(C.isImmediatePropagationStopped()){return}}}}r.bind=function(E,H,K,L){var A,B,C,z,I,G,J,D=window;function F(M){w(n(M||D.event),A)}if(!E||E.nodeType===3||E.nodeType===8){return}if(!E[y]){A=v++;E[y]=A;t[A]={}}else{A=E[y]}L=L||E;H=H.split(" ");C=H.length;while(C--){z=H[C];G=F;I=J=false;if(z==="DOMContentLoaded"){z="ready"}if(r.domLoaded&&z==="ready"&&E.readyState=="complete"){K.call(L,n({type:z}));continue}if(!u){I=x[z];if(I){G=function(M){var O,N;O=M.currentTarget;N=M.relatedTarget;if(N&&O.contains){N=O.contains(N)}else{while(N&&N!==O){N=N.parentNode}}if(!N){M=n(M||D.event);M.type=M.type==="mouseout"?"mouseleave":"mouseenter";M.target=O;w(M,A)}}}}if(!s&&(z==="focusin"||z==="focusout")){J=true;I=z==="focusin"?"focus":"blur";G=function(M){M=n(M||D.event);M.type=M.type==="focus"?"focusin":"focusout";w(M,A)}}B=t[A][z];if(!B){t[A][z]=B=[{func:K,scope:L}];B.fakeName=I;B.capture=J;B.nativeHandler=G;if(z==="ready"){k(E,G,r)}else{l(E,I||z,G,J)}}else{if(z==="ready"&&r.domLoaded){K({type:z})}else{B.push({func:K,scope:L})}}}E=B=0;return K};r.unbind=function(E,H,K){var A,C,D,L,z,B;if(!E||E.nodeType===3||E.nodeType===8){return r}A=E[y];if(A){B=t[A];if(H){H=H.split(" ");D=H.length;while(D--){z=H[D];C=B[z];if(C){if(K){L=C.length;while(L--){if(C[L].func===K){var G=C.nativeHandler;var I=C.fakeName,J=C.capture;C=C.slice(0,L).concat(C.slice(L+1));C.nativeHandler=G;C.fakeName=I;C.capture=J;B[z]=C}}}if(!K||C.length===0){delete B[z];p(E,C.fakeName||z,C.nativeHandler,C.capture)}}}}else{for(z in B){C=B[z];p(E,C.fakeName||z,C.nativeHandler,C.capture)}B={}}for(z in B){return r}delete t[A];try{delete E[y]}catch(F){E[y]=null}}return r};r.fire=function(B,A,z){var C;if(!B||B.nodeType===3||B.nodeType===8){return r}z=n(null,z);z.type=A;z.target=B;do{C=B[y];if(C){w(z,C)}B=B.parentNode||B.ownerDocument||B.defaultView||B.parentWindow}while(B&&!z.isPropagationStopped());return r};r.clean=function(C){var A,z,B=r.unbind;if(!C||C.nodeType===3||C.nodeType===8){return r}if(C[y]){B(C)}if(!C.getElementsByTagName){C=C.document}if(C&&C.getElementsByTagName){B(C);z=C.getElementsByTagName("*");A=z.length;while(A--){C=z[A];if(C[y]){B(C)}}}return r};r.destroy=function(){t={}};r.cancel=function(z){if(z){z.preventDefault();z.stopImmediatePropagation()}return false}}i.Event=new i();i.Event.bind(window,"ready",function(){});return i});h("tinymce/dom/Sizzle",[],function(){var J,aD,z,S,V,t,ah,aC,aH,T,ai,ak,N,A,au,ao,aB,q,Q,aw="sizzle"+-(new Date()),U=window.document,aE=0,ap=0,l=L(),av=L(),R=L(),P=function(aI,i){if(aI===i){ai=true}return 0},aA=typeof g,ab=1<<31,Z=({}).hasOwnProperty,ay=[],az=ay.pop,X=ay.push,j=ay.push,y=ay.slice,p=ay.indexOf||function(aK){var aJ=0,aI=this.length;for(;aJ<aI;aJ++){if(this[aJ]===aK){return aJ}}return -1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ar="\\["+B+"*("+W+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+B+"*\\]",w=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ar+")*)|.*)\\)|)",D=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),M=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),F=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),ad=new RegExp(w),af=new RegExp("^"+W+"$"),an={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+ar),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},o=/^(?:input|select|textarea|button)$/i,x=/^h\d$/i,aa=/^[^{]+\{\s*\[native \w/,ac=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,am=/[+~]/,Y=/'|\\/g,E=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),aq=function(i,aK,aI){var aJ="0x"+aK-65536;return aJ!==aJ||aI?aK:aJ<0?String.fromCharCode(aJ+65536):String.fromCharCode(aJ>>10|55296,aJ&1023|56320)};try{j.apply((ay=y.call(U.childNodes)),U.childNodes);ay[U.childNodes.length].nodeType}catch(O){j={apply:ay.length?function(aI,i){X.apply(aI,y.call(i))}:function(aL,aK){var aI=aL.length,aJ=0;while((aL[aI++]=aK[aJ++])){}aL.length=aI-1}}}function H(aQ,aJ,aU,aW){var aV,aN,aO,aS,aT,aM,aL,aI,aK,aR;if((aJ?aJ.ownerDocument||aJ:U)!==N){ak(aJ)}aJ=aJ||N;aU=aU||[];if(!aQ||typeof aQ!=="string"){return aU}if((aS=aJ.nodeType)!==1&&aS!==9){return[]}if(au&&!aW){if((aV=ac.exec(aQ))){if((aO=aV[1])){if(aS===9){aN=aJ.getElementById(aO);if(aN&&aN.parentNode){if(aN.id===aO){aU.push(aN);return aU}}else{return aU}}else{if(aJ.ownerDocument&&(aN=aJ.ownerDocument.getElementById(aO))&&Q(aJ,aN)&&aN.id===aO){aU.push(aN);return aU}}}else{if(aV[2]){j.apply(aU,aJ.getElementsByTagName(aQ));return aU}else{if((aO=aV[3])&&aD.getElementsByClassName){j.apply(aU,aJ.getElementsByClassName(aO));return aU}}}}if(aD.qsa&&(!ao||!ao.test(aQ))){aI=aL=aw;aK=aJ;aR=aS===9&&aQ;if(aS===1&&aJ.nodeName.toLowerCase()!=="object"){aM=t(aQ);if((aL=aJ.getAttribute("id"))){aI=aL.replace(Y,"\\$&")}else{aJ.setAttribute("id",aI)}aI="[id='"+aI+"'] ";aT=aM.length;while(aT--){aM[aT]=aI+u(aM[aT])}aK=am.test(aQ)&&ae(aJ.parentNode)||aJ;aR=aM.join(",")}if(aR){try{j.apply(aU,aK.querySelectorAll(aR));return aU}catch(aP){}finally{if(!aL){aJ.removeAttribute("id")}}}}}return aC(aQ.replace(D,"$1"),aJ,aU,aW)}function L(){var aI=[];function i(aJ,aK){if(aI.push(aJ+" ")>z.cacheLength){delete i[aI.shift()]}return(i[aJ+" "]=aK)}return i}function v(i){i[aw]=true;return i}function r(i){var aJ=N.createElement("div");try{return !!i(aJ)}catch(aI){return false}finally{if(aJ.parentNode){aJ.parentNode.removeChild(aJ)}aJ=null}}function aF(aJ,aL){var aI=aJ.split("|"),aK=aJ.length;while(aK--){z.attrHandle[aI[aK]]=aL}}function m(aI,i){var aK=i&&aI,aJ=aK&&aI.nodeType===1&&i.nodeType===1&&(~i.sourceIndex||ab)-(~aI.sourceIndex||ab);if(aJ){return aJ}if(aK){while((aK=aK.nextSibling)){if(aK===i){return -1}}}return aI?1:-1}function I(i){return function(aJ){var aI=aJ.nodeName.toLowerCase();return aI==="input"&&aJ.type===i}}function n(i){return function(aJ){var aI=aJ.nodeName.toLowerCase();return(aI==="input"||aI==="button")&&aJ.type===i}}function at(i){return v(function(aI){aI=+aI;return v(function(aJ,aN){var aL,aK=i([],aJ.length,aI),aM=aK.length;while(aM--){if(aJ[(aL=aK[aM])]){aJ[aL]=!(aN[aL]=aJ[aL])}}})})}function ae(i){return i&&typeof i.getElementsByTagName!==aA&&i}aD=H.support={};V=H.isXML=function(i){var aI=i&&(i.ownerDocument||i).documentElement;return aI?aI.nodeName!=="HTML":false};ak=H.setDocument=function(aJ){var i,aK=aJ?aJ.ownerDocument||aJ:U,aI=aK.defaultView;if(aK===N||aK.nodeType!==9||!aK.documentElement){return N}N=aK;A=aK.documentElement;au=!V(aK);if(aI&&aI!==aI.top){if(aI.addEventListener){aI.addEventListener("unload",function(){ak()},false)}else{if(aI.attachEvent){aI.attachEvent("onunload",function(){ak()})}}}aD.attributes=r(function(aL){aL.className="i";return !aL.getAttribute("className")});aD.getElementsByTagName=r(function(aL){aL.appendChild(aK.createComment(""));return !aL.getElementsByTagName("*").length});aD.getElementsByClassName=aa.test(aK.getElementsByClassName);aD.getById=r(function(aL){A.appendChild(aL).id=aw;return !aK.getElementsByName||!aK.getElementsByName(aw).length});if(aD.getById){z.find.ID=function(aN,aM){if(typeof aM.getElementById!==aA&&au){var aL=aM.getElementById(aN);return aL&&aL.parentNode?[aL]:[]}};z.filter.ID=function(aM){var aL=aM.replace(E,aq);return function(aN){return aN.getAttribute("id")===aL}}}else{delete z.find.ID;z.filter.ID=function(aM){var aL=aM.replace(E,aq);return function(aO){var aN=typeof aO.getAttributeNode!==aA&&aO.getAttributeNode("id");return aN&&aN.value===aL}}}z.find.TAG=aD.getElementsByTagName?function(aL,aM){if(typeof aM.getElementsByTagName!==aA){return aM.getElementsByTagName(aL)}}:function(aL,aP){var aQ,aO=[],aN=0,aM=aP.getElementsByTagName(aL);if(aL==="*"){while((aQ=aM[aN++])){if(aQ.nodeType===1){aO.push(aQ)}}return aO}return aM};z.find.CLASS=aD.getElementsByClassName&&function(aM,aL){if(au){return aL.getElementsByClassName(aM)}};aB=[];ao=[];if((aD.qsa=aa.test(aK.querySelectorAll))){r(function(aL){aL.innerHTML="<select msallowcapture=''><option selected=''></option></select>";if(aL.querySelectorAll("[msallowcapture^='']").length){ao.push("[*^$]="+B+"*(?:''|\"\")")}if(!aL.querySelectorAll("[selected]").length){ao.push("\\["+B+"*(?:value|"+k+")")}if(!aL.querySelectorAll(":checked").length){ao.push(":checked")}});r(function(aM){var aL=aK.createElement("input");aL.setAttribute("type","hidden");aM.appendChild(aL).setAttribute("name","D");if(aM.querySelectorAll("[name=d]").length){ao.push("name"+B+"*[*^$|!~]?=")}if(!aM.querySelectorAll(":enabled").length){ao.push(":enabled",":disabled")}aM.querySelectorAll("*,:x");ao.push(",.*:")})}if((aD.matchesSelector=aa.test((q=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector)))){r(function(aL){aD.disconnectedMatch=q.call(aL,"div");q.call(aL,"[s!='']:x");aB.push("!=",w)})}ao=ao.length&&new RegExp(ao.join("|"));aB=aB.length&&new RegExp(aB.join("|"));i=aa.test(A.compareDocumentPosition);Q=i||aa.test(A.contains)?function(aM,aL){var aO=aM.nodeType===9?aM.documentElement:aM,aN=aL&&aL.parentNode;return aM===aN||!!(aN&&aN.nodeType===1&&(aO.contains?aO.contains(aN):aM.compareDocumentPosition&&aM.compareDocumentPosition(aN)&16))}:function(aM,aL){if(aL){while((aL=aL.parentNode)){if(aL===aM){return true}}}return false};P=i?function(aM,aL){if(aM===aL){ai=true;return 0}var aN=!aM.compareDocumentPosition-!aL.compareDocumentPosition;if(aN){return aN}aN=(aM.ownerDocument||aM)===(aL.ownerDocument||aL)?aM.compareDocumentPosition(aL):1;if(aN&1||(!aD.sortDetached&&aL.compareDocumentPosition(aM)===aN)){if(aM===aK||aM.ownerDocument===U&&Q(U,aM)){return -1}if(aL===aK||aL.ownerDocument===U&&Q(U,aL)){return 1}return T?(p.call(T,aM)-p.call(T,aL)):0}return aN&4?-1:1}:function(aM,aL){if(aM===aL){ai=true;return 0}var aS,aP=0,aR=aM.parentNode,aO=aL.parentNode,aN=[aM],aQ=[aL];if(!aR||!aO){return aM===aK?-1:aL===aK?1:aR?-1:aO?1:T?(p.call(T,aM)-p.call(T,aL)):0}else{if(aR===aO){return m(aM,aL)}}aS=aM;while((aS=aS.parentNode)){aN.unshift(aS)}aS=aL;while((aS=aS.parentNode)){aQ.unshift(aS)}while(aN[aP]===aQ[aP]){aP++}return aP?m(aN[aP],aQ[aP]):aN[aP]===U?-1:aQ[aP]===U?1:0};return aK};H.matches=function(aI,i){return H(aI,null,null,i)};H.matchesSelector=function(aI,aK){if((aI.ownerDocument||aI)!==N){ak(aI)}aK=aK.replace(F,"='$1']");if(aD.matchesSelector&&au&&(!aB||!aB.test(aK))&&(!ao||!ao.test(aK))){try{var i=q.call(aI,aK);if(i||aD.disconnectedMatch||aI.document&&aI.document.nodeType!==11){return i}}catch(aJ){}}return H(aK,N,null,[aI]).length>0};H.contains=function(i,aI){if((i.ownerDocument||i)!==N){ak(i)}return Q(i,aI)};H.attr=function(aJ,i){if((aJ.ownerDocument||aJ)!==N){ak(aJ)}var aI=z.attrHandle[i.toLowerCase()],aK=aI&&Z.call(z.attrHandle,i.toLowerCase())?aI(aJ,i,!au):g;return aK!==g?aK:aD.attributes||!au?aJ.getAttribute(i):(aK=aJ.getAttributeNode(i))&&aK.specified?aK.value:null};H.error=function(i){throw new Error("Syntax error, unrecognized expression: "+i)};H.uniqueSort=function(aK){var aL,aM=[],aI=0,aJ=0;ai=!aD.detectDuplicates;T=!aD.sortStable&&aK.slice(0);aK.sort(P);if(ai){while((aL=aK[aJ++])){if(aL===aK[aJ]){aI=aM.push(aJ)}}while(aI--){aK.splice(aM[aI],1)}}T=null;return aK};S=H.getText=function(aM){var aL,aJ="",aK=0,aI=aM.nodeType;if(!aI){while((aL=aM[aK++])){aJ+=S(aL)}}else{if(aI===1||aI===9||aI===11){if(typeof aM.textContent==="string"){return aM.textContent}else{for(aM=aM.firstChild;aM;aM=aM.nextSibling){aJ+=S(aM)}}}else{if(aI===3||aI===4){return aM.nodeValue}}}return aJ};z=H.selectors={cacheLength:50,createPseudo:v,match:an,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(i){i[1]=i[1].replace(E,aq);i[3]=(i[3]||i[4]||i[5]||"").replace(E,aq);if(i[2]==="~="){i[3]=" "+i[3]+" "}return i.slice(0,4)},CHILD:function(i){i[1]=i[1].toLowerCase();if(i[1].slice(0,3)==="nth"){if(!i[3]){H.error(i[0])}i[4]=+(i[4]?i[5]+(i[6]||1):2*(i[3]==="even"||i[3]==="odd"));i[5]=+((i[7]+i[8])||i[3]==="odd")}else{if(i[3]){H.error(i[0])}}return i},PSEUDO:function(aI){var i,aJ=!aI[6]&&aI[2];if(an.CHILD.test(aI[0])){return null}if(aI[3]){aI[2]=aI[4]||aI[5]||""}else{if(aJ&&ad.test(aJ)&&(i=t(aJ,true))&&(i=aJ.indexOf(")",aJ.length-i)-aJ.length)){aI[0]=aI[0].slice(0,i);aI[2]=aJ.slice(0,i)}}return aI.slice(0,3)}},filter:{TAG:function(aI){var i=aI.replace(E,aq).toLowerCase();return aI==="*"?function(){return true}:function(aJ){return aJ.nodeName&&aJ.nodeName.toLowerCase()===i}},CLASS:function(i){var aI=l[i+" "];return aI||(aI=new RegExp("(^|"+B+")"+i+"("+B+"|$)"))&&l(i,function(aJ){return aI.test(typeof aJ.className==="string"&&aJ.className||typeof aJ.getAttribute!==aA&&aJ.getAttribute("class")||"")})},ATTR:function(aJ,aI,i){return function(aL){var aK=H.attr(aL,aJ);if(aK==null){return aI==="!="}if(!aI){return true}aK+="";return aI==="="?aK===i:aI==="!="?aK!==i:aI==="^="?i&&aK.indexOf(i)===0:aI==="*="?i&&aK.indexOf(i)>-1:aI==="$="?i&&aK.slice(-i.length)===i:aI==="~="?(" "+aK+" ").indexOf(i)>-1:aI==="|="?aK===i||aK.slice(0,i.length+1)===i+"-":false}},CHILD:function(aI,aL,aK,aM,aJ){var aO=aI.slice(0,3)!=="nth",i=aI.slice(-4)!=="last",aN=aL==="of-type";return aM===1&&aJ===0?function(aP){return !!aP.parentNode}:function(aV,aT,aY){var aP,a1,aW,a0,aX,aS,aU=aO!==i?"nextSibling":"previousSibling",aZ=aV.parentNode,aR=aN&&aV.nodeName.toLowerCase(),aQ=!aY&&!aN;if(aZ){if(aO){while(aU){aW=aV;while((aW=aW[aU])){if(aN?aW.nodeName.toLowerCase()===aR:aW.nodeType===1){return false}}aS=aU=aI==="only"&&!aS&&"nextSibling"}return true}aS=[i?aZ.firstChild:aZ.lastChild];if(i&&aQ){a1=aZ[aw]||(aZ[aw]={});aP=a1[aI]||[];aX=aP[0]===aE&&aP[1];a0=aP[0]===aE&&aP[2];aW=aX&&aZ.childNodes[aX];while((aW=++aX&&aW&&aW[aU]||(a0=aX=0)||aS.pop())){if(aW.nodeType===1&&++a0&&aW===aV){a1[aI]=[aE,aX,a0];break}}}else{if(aQ&&(aP=(aV[aw]||(aV[aw]={}))[aI])&&aP[0]===aE){a0=aP[1]}else{while((aW=++aX&&aW&&aW[aU]||(a0=aX=0)||aS.pop())){if((aN?aW.nodeName.toLowerCase()===aR:aW.nodeType===1)&&++a0){if(aQ){(aW[aw]||(aW[aw]={}))[aI]=[aE,a0]}if(aW===aV){break}}}}}a0-=aJ;return a0===aM||(a0%aM===0&&a0/aM>=0)}}},PSEUDO:function(aK,aJ){var i,aI=z.pseudos[aK]||z.setFilters[aK.toLowerCase()]||H.error("unsupported pseudo: "+aK);if(aI[aw]){return aI(aJ)}if(aI.length>1){i=[aK,aK,"",aJ];return z.setFilters.hasOwnProperty(aK.toLowerCase())?v(function(aN,aP){var aM,aL=aI(aN,aJ),aO=aL.length;while(aO--){aM=p.call(aN,aL[aO]);aN[aM]=!(aP[aM]=aL[aO])}}):function(aL){return aI(aL,0,i)}}return aI}},pseudos:{not:v(function(i){var aI=[],aJ=[],aK=ah(i.replace(D,"$1"));return aK[aw]?v(function(aM,aR,aP,aN){var aQ,aL=aK(aM,null,aN,[]),aO=aM.length;while(aO--){if((aQ=aL[aO])){aM[aO]=!(aR[aO]=aQ)}}}):function(aN,aM,aL){aI[0]=aN;aK(aI,null,aL,aJ);return !aJ.pop()}}),has:v(function(i){return function(aI){return H(i,aI).length>0}}),contains:v(function(i){i=i.replace(E,aq);return function(aI){return(aI.textContent||aI.innerText||S(aI)).indexOf(i)>-1}}),lang:v(function(i){if(!af.test(i||"")){H.error("unsupported lang: "+i)}i=i.replace(E,aq).toLowerCase();return function(aJ){var aI;do{if((aI=au?aJ.lang:aJ.getAttribute("xml:lang")||aJ.getAttribute("lang"))){aI=aI.toLowerCase();return aI===i||aI.indexOf(i+"-")===0}}while((aJ=aJ.parentNode)&&aJ.nodeType===1);return false}}),target:function(i){var aI=window.location&&window.location.hash;return aI&&aI.slice(1)===i.id},root:function(i){return i===A},focus:function(i){return i===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(i.type||i.href||~i.tabIndex)},enabled:function(i){return i.disabled===false},disabled:function(i){return i.disabled===true},checked:function(i){var aI=i.nodeName.toLowerCase();return(aI==="input"&&!!i.checked)||(aI==="option"&&!!i.selected)},selected:function(i){if(i.parentNode){i.parentNode.selectedIndex}return i.selected===true},empty:function(i){for(i=i.firstChild;i;i=i.nextSibling){if(i.nodeType<6){return false}}return true},parent:function(i){return !z.pseudos.empty(i)},header:function(i){return x.test(i.nodeName)},input:function(i){return o.test(i.nodeName)},button:function(aI){var i=aI.nodeName.toLowerCase();return i==="input"&&aI.type==="button"||i==="button"},text:function(aI){var i;return aI.nodeName.toLowerCase()==="input"&&aI.type==="text"&&((i=aI.getAttribute("type"))==null||i.toLowerCase()==="text")},first:at(function(){return[0]}),last:at(function(i,aI){return[aI-1]}),eq:at(function(i,aJ,aI){return[aI<0?aI+aJ:aI]}),even:at(function(aI,aK){var aJ=0;for(;aJ<aK;aJ+=2){aI.push(aJ)}return aI}),odd:at(function(aI,aK){var aJ=1;for(;aJ<aK;aJ+=2){aI.push(aJ)}return aI}),lt:at(function(aI,aL,aK){var aJ=aK<0?aK+aL:aK;for(;--aJ>=0;){aI.push(aJ)}return aI}),gt:at(function(aI,aL,aK){var aJ=aK<0?aK+aL:aK;for(;++aJ<aL;){aI.push(aJ)}return aI})}};z.pseudos.nth=z.pseudos.eq;for(J in {radio:true,checkbox:true,file:true,password:true,image:true}){z.pseudos[J]=I(J)}for(J in {submit:true,reset:true}){z.pseudos[J]=n(J)}function ag(){}ag.prototype=z.filters=z.pseudos;z.setFilters=new ag();t=H.tokenize=function(aL,aQ){var aI,aM,aO,aP,aN,aJ,i,aK=av[aL+" "];if(aK){return aQ?0:aK.slice(0)}aN=aL;aJ=[];i=z.preFilter;while(aN){if(!aI||(aM=G.exec(aN))){if(aM){aN=aN.slice(aM[0].length)||aN}aJ.push((aO=[]))}aI=false;if((aM=M.exec(aN))){aI=aM.shift();aO.push({value:aI,type:aM[0].replace(D," ")});aN=aN.slice(aI.length)}for(aP in z.filter){if((aM=an[aP].exec(aN))&&(!i[aP]||(aM=i[aP](aM)))){aI=aM.shift();aO.push({value:aI,type:aP,matches:aM});aN=aN.slice(aI.length)}}if(!aI){break}}return aQ?aN.length:aN?H.error(aL):av(aL,aJ).slice(0)};function u(aL){var aK=0,aJ=aL.length,aI="";for(;aK<aJ;aK++){aI+=aL[aK].value}return aI}function C(aL,aJ,aK){var i=aJ.dir,aM=aK&&i==="parentNode",aI=ap++;return aJ.first?function(aP,aO,aN){while((aP=aP[i])){if(aP.nodeType===1||aM){return aL(aP,aO,aN)}}}:function(aR,aP,aO){var aS,aQ,aN=[aE,aI];if(aO){while((aR=aR[i])){if(aR.nodeType===1||aM){if(aL(aR,aP,aO)){return true}}}}else{while((aR=aR[i])){if(aR.nodeType===1||aM){aQ=aR[aw]||(aR[aw]={});if((aS=aQ[i])&&aS[0]===aE&&aS[1]===aI){return(aN[2]=aS[2])}else{aQ[i]=aN;if((aN[2]=aL(aR,aP,aO))){return true}}}}}}}function aG(i){return i.length>1?function(aL,aK,aI){var aJ=i.length;while(aJ--){if(!i[aJ](aL,aK,aI)){return false}}return true}:i[0]}function K(aJ,aM,aL){var aK=0,aI=aM.length;for(;aK<aI;aK++){H(aJ,aM[aK],aL)}return aL}function al(aI,aJ,aK,aL,aO){var aM,aR=[],aN=0,aP=aI.length,aQ=aJ!=null;for(;aN<aP;aN++){if((aM=aI[aN])){if(!aK||aK(aM,aL,aO)){aR.push(aM);if(aQ){aJ.push(aN)}}}}return aR}function s(aJ,aI,aL,aK,aM,i){if(aK&&!aK[aw]){aK=s(aK)}if(aM&&!aM[aw]){aM=s(aM,i)}return v(function(aX,aU,aP,aW){var aZ,aV,aR,aQ=[],aY=[],aO=aU.length,aN=aX||K(aI||"*",aP.nodeType?[aP]:aP,[]),aS=aJ&&(aX||!aI)?al(aN,aQ,aJ,aP,aW):aN,aT=aL?aM||(aX?aJ:aO||aK)?[]:aU:aS;if(aL){aL(aS,aT,aP,aW)}if(aK){aZ=al(aT,aY);aK(aZ,[],aP,aW);aV=aZ.length;while(aV--){if((aR=aZ[aV])){aT[aY[aV]]=!(aS[aY[aV]]=aR)}}}if(aX){if(aM||aJ){if(aM){aZ=[];aV=aT.length;while(aV--){if((aR=aT[aV])){aZ.push((aS[aV]=aR))}}aM(null,(aT=[]),aZ,aW)}aV=aT.length;while(aV--){if((aR=aT[aV])&&(aZ=aM?p.call(aX,aR):aQ[aV])>-1){aX[aZ]=!(aU[aZ]=aR)}}}}else{aT=al(aT===aU?aT.splice(aO,aT.length):aT);if(aM){aM(null,aU,aT,aW)}else{j.apply(aU,aT)}}})}function ax(aO){var aJ,aM,aK,aN=aO.length,aR=z.relative[aO[0].type],aS=aR||z.relative[" "],aL=aR?1:0,aP=C(function(i){return i===aJ},aS,true),aQ=C(function(i){return p.call(aJ,i)>-1},aS,true),aI=[function(aU,aT,i){return(!aR&&(i||aT!==aH))||((aJ=aT).nodeType?aP(aU,aT,i):aQ(aU,aT,i))}];for(;aL<aN;aL++){if((aM=z.relative[aO[aL].type])){aI=[C(aG(aI),aM)]}else{aM=z.filter[aO[aL].type].apply(null,aO[aL].matches);if(aM[aw]){aK=++aL;for(;aK<aN;aK++){if(z.relative[aO[aK].type]){break}}return s(aL>1&&aG(aI),aL>1&&u(aO.slice(0,aL-1).concat({value:aO[aL-2].type===" "?"*":""})).replace(D,"$1"),aM,aL<aK&&ax(aO.slice(aL,aK)),aK<aN&&ax((aO=aO.slice(aK))),aK<aN&&u(aO))}aI.push(aM)}}return aG(aI)}function aj(aK,aJ){var i=aJ.length>0,aL=aK.length>0,aI=function(aV,aP,aU,aT,aY){var aQ,aR,aW,a0=0,aS="0",aM=aV&&[],a1=[],aZ=aH,aO=aV||aL&&z.find.TAG("*",aY),aN=(aE+=aZ==null?1:Math.random()||0.1),aX=aO.length;if(aY){aH=aP!==N&&aP}for(;aS!==aX&&(aQ=aO[aS])!=null;aS++){if(aL&&aQ){aR=0;while((aW=aK[aR++])){if(aW(aQ,aP,aU)){aT.push(aQ);break}}if(aY){aE=aN}}if(i){if((aQ=!aW&&aQ)){a0--}if(aV){aM.push(aQ)}}}a0+=aS;if(i&&aS!==a0){aR=0;while((aW=aJ[aR++])){aW(aM,a1,aP,aU)}if(aV){if(a0>0){while(aS--){if(!(aM[aS]||a1[aS])){a1[aS]=az.call(aT)}}}a1=al(a1)}j.apply(aT,a1);if(aY&&!aV&&a1.length>0&&(a0+aJ.length)>1){H.uniqueSort(aT)}}if(aY){aE=aN;aH=aZ}return aM};return i?v(aI):aI}ah=H.compile=function(aI,aK){var aL,aJ=[],aN=[],aM=R[aI+" "];if(!aM){if(!aK){aK=t(aI)}aL=aK.length;while(aL--){aM=ax(aK[aL]);if(aM[aw]){aJ.push(aM)}else{aN.push(aM)}}aM=R(aI,aj(aN,aJ));aM.selector=aI}return aM};aC=H.select=function(aK,aI,aL,aO){var aM,aR,aJ,aS,aP,aQ=typeof aK==="function"&&aK,aN=!aO&&t((aK=aQ.selector||aK));aL=aL||[];if(aN.length===1){aR=aN[0]=aN[0].slice(0);if(aR.length>2&&(aJ=aR[0]).type==="ID"&&aD.getById&&aI.nodeType===9&&au&&z.relative[aR[1].type]){aI=(z.find.ID(aJ.matches[0].replace(E,aq),aI)||[])[0];if(!aI){return aL}else{if(aQ){aI=aI.parentNode}}aK=aK.slice(aR.shift().value.length)}aM=an.needsContext.test(aK)?0:aR.length;while(aM--){aJ=aR[aM];if(z.relative[(aS=aJ.type)]){break}if((aP=z.find[aS])){if((aO=aP(aJ.matches[0].replace(E,aq),am.test(aR[0].type)&&ae(aI.parentNode)||aI))){aR.splice(aM,1);aK=aO.length&&u(aR);if(!aK){j.apply(aL,aO);return aL}break}}}}(aQ||ah(aK,aN))(aO,aI,!au,aL,am.test(aK)&&ae(aI.parentNode)||aI);return aL};aD.sortStable=aw.split("").sort(P).join("")===aw;aD.detectDuplicates=!!ai;ak();aD.sortDetached=r(function(i){return i.compareDocumentPosition(N.createElement("div"))&1});if(!r(function(i){i.innerHTML="<a href='#'></a>";return i.firstChild.getAttribute("href")==="#"})){aF("type|href|height|width",function(aI,i,aJ){if(!aJ){return aI.getAttribute(i,i.toLowerCase()==="type"?1:2)}})}if(!aD.attributes||!r(function(i){i.innerHTML="<input/>";i.firstChild.setAttribute("value","");return i.firstChild.getAttribute("value")===""})){aF("value",function(aI,i,aJ){if(!aJ&&aI.nodeName.toLowerCase()==="input"){return aI.defaultValue}})}if(!r(function(i){return i.getAttribute("disabled")==null})){aF(k,function(aI,i,aK){var aJ;if(!aK){return aI[i]===true?i.toLowerCase():(aJ=aI.getAttributeNode(i))&&aJ.specified?aJ.value:null}})}return H});h("tinymce/Env",[],function(){var i=navigator,x=i.userAgent;var n,v,j,r,p,m,u,o,l,q,s,w;function k(y){return"matchMedia" in window?matchMedia(y).matches:false}n=window.opera&&window.opera.buildNumber;l=/Android/.test(x);v=/WebKit/.test(x);j=!v&&!n&&(/MSIE/gi).test(x)&&(/Explorer/gi).test(i.appName);j=j&&/MSIE (\w+)\./.exec(x)[1];r=x.indexOf("Trident/")!=-1&&(x.indexOf("rv:")!=-1||i.appName.indexOf("Netscape")!=-1)?11:false;p=(x.indexOf("Edge/")!=-1&&!j&&!r)?12:false;j=j||r||p;m=!v&&!r&&/Gecko/.test(x);u=x.indexOf("Mac")!=-1;o=/(iPad|iPhone)/.test(x);q="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL;s=k("only screen and (max-device-width: 480px)")&&(l||o);w=k("only screen and (min-width: 800px)")&&(l||o);if(p){v=false}var t=!o||q||x.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:n,webkit:v,ie:j,gecko:m,mac:u,iOS:o,android:l,contentEditable:t,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:j!=8,range:window.getSelection&&"Range" in window,documentMode:j&&!p?(document.documentMode||7):10,fileApi:q,ceFalse:(j===false||j>8),desktop:!s&&!w}});h("tinymce/util/Arr",[],function(){var m=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function l(u){var v=u,t,s;if(!m(u)){v=[];for(t=0,s=u.length;t<s;t++){v[t]=u[t]}}return v}function q(w,t,v){var x,u;if(!w){return 0}v=v||w;if(w.length!==g){for(x=0,u=w.length;x<u;x++){if(t.call(v,w[x],x,w)===false){return 0}}}else{for(x in w){if(w.hasOwnProperty(x)){if(t.call(v,w[x],x,w)===false){return 0}}}}return 1}function j(u,t){var s=[];q(u,function(w,v){s.push(t(w,v,u))});return s}function k(s,t){var u=[];q(s,function(w,x){if(!t||t(w,x,s)){u.push(w)}});return u}function p(t,u){var w,s;if(t){for(w=0,s=t.length;w<s;w++){if(t[w]===u){return w}}}return -1}function o(w,v,t,s){var u=0;if(arguments.length<3){t=w[0]}for(;u<w.length;u++){t=v.call(s,t,w[u],u)}return t}function i(w,s,u){var v,t;for(v=0,t=w.length;v<t;v++){if(s.call(u,w[v],v,w)){return v}}return -1}function n(v,t,u){var s=i(v,t,u);if(s!==-1){return v[s]}return g}function r(s){return s[s.length-1]}return{isArray:m,toArray:l,each:q,map:j,filter:k,indexOf:p,reduce:o,findIndex:i,find:n,last:r}});h("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(p,o){var u=/^\s*|\s*$/g;function j(v){return(v===null||v===g)?"":(""+v).replace(u,"")}function m(w,v){if(!v){return w!==g}if(v=="array"&&o.isArray(w)){return true}return typeof w==v}function k(v,y,x){var w;v=v||[];y=y||",";if(typeof v=="string"){v=v.split(y)}x=x||{};w=v.length;while(w--){x[v[w]]={}}return x}function n(E,v,z){var D=this,w,y,A,B,x,C=0;E=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(E);A=E[3].match(/(^|\.)(\w+)$/i)[2];y=D.createNS(E[3].replace(/\.\w+$/,""),z);if(y[A]){return}if(E[2]=="static"){y[A]=v;if(this.onCreate){this.onCreate(E[2],E[3],y[A])}return}if(!v[A]){v[A]=function(){};C=1}y[A]=v[A];D.extend(y[A].prototype,v);if(E[5]){w=D.resolve(E[5]).prototype;B=E[5].match(/\.(\w+)$/i)[1];x=y[A];if(C){y[A]=function(){return w[B].apply(this,arguments)}}else{y[A]=function(){this.parent=w[B];return x.apply(this,arguments)}}y[A].prototype[A]=y[A];D.each(w,function(F,G){y[A].prototype[G]=w[G]});D.each(v,function(F,G){if(w[G]){y[A].prototype[G]=function(){this.parent=w[G];return F.apply(this,arguments)}}else{if(G!=A){y[A].prototype[G]=F}}})}D.each(v["static"],function(F,G){y[A][G]=F})}function q(B,z){var y,v,x,w=arguments,A;for(y=1,v=w.length;y<v;y++){z=w[y];for(x in z){if(z.hasOwnProperty(x)){A=z[x];if(A!==g){B[x]=A}}}}return B}function s(x,w,y,v){v=v||this;if(x){if(y){x=x[y]}o.each(x,function(A,z){if(w.call(v,A,z,y)===false){return false}s(A,w,y,v)})}}function l(z,y){var x,w;y=y||window;z=z.split(".");for(x=0;x<z.length;x++){w=z[x];if(!y[w]){y[w]={}}y=y[w]}return y}function t(y,x){var w,v;x=x||window;y=y.split(".");for(w=0,v=y.length;w<v;w++){x=x[y[w]];if(!x){break}}return x}function r(v,w){if(!v||m(v,"array")){return v}return o.map(v.split(w||","),j)}function i(w){var v=p.cacheSuffix;if(v){w+=(w.indexOf("?")===-1?"?":"&")+v}return w}return{trim:j,isArray:o.isArray,is:m,toArray:o.toArray,makeMap:k,each:o.each,map:o.map,grep:o.filter,inArray:o.indexOf,extend:q,create:n,walk:s,createNS:l,resolve:t,explode:r,_addCacheSuffix:i}});h("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,q,n,o){var Q=document,v=Array.prototype.push,F=Array.prototype.slice;var C=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var P=t.Event,p;var y=n.makeMap("children,contents,next,prev");function k(R){return typeof R!=="undefined"}function z(R){return typeof R==="string"}function K(R){return R&&R==R.window}function E(T,S){var V,U,R;S=S||Q;R=S.createElement("div");V=S.createDocumentFragment();R.innerHTML=T;while((U=R.firstChild)){V.appendChild(U)}return V}function B(R,U,V,S){var T;if(z(U)){U=E(U,A(R[0]))}else{if(U.length&&!U.nodeType){U=r.makeArray(U);if(S){for(T=U.length-1;T>=0;T--){B(R,U[T],V,S)}}else{for(T=0;T<U.length;T++){B(R,U[T],V,S)}}return R}}if(U.nodeType){T=R.length;while(T--){V.call(R[T],U)}}return R}function l(S,R){return S&&R&&(" "+S.className+" ").indexOf(" "+R+" ")!==-1}function x(U,V,S){var R,T;V=r(V)[0];U.each(function(){var W=this;if(!S||R!=W.parentNode){R=W.parentNode;T=V.cloneNode(false);W.parentNode.insertBefore(T,W);T.appendChild(W)}else{T.appendChild(W)}});return U}var j=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");var H=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ");var L={"for":"htmlFor","class":"className",readonly:"readOnly"};var m={"float":"cssFloat"};var N={},O={};function r(R,S){return new r.fn.init(R,S)}function I(S,T){var R;if(T.indexOf){return T.indexOf(S)}R=T.length;while(R--){if(T[R]===S){return R}}return -1}var M=/^\s*|\s*$/g;function G(R){return(R===null||R===p)?"":(""+R).replace(M,"")}function s(W,X){var U,S,R,T,V;if(W){U=W.length;if(U===T){for(S in W){if(W.hasOwnProperty(S)){V=W[S];if(X.call(V,S,V)===false){break}}}}else{for(R=0;R<U;R++){V=W[R];if(X.call(V,R,V)===false){break}}}}return W}function w(T,S){var R=[];s(T,function(U,V){if(S(V,U)){R.push(V)}});return R}function A(R){if(!R){return Q}if(R.nodeType==9){return R}return R.ownerDocument}r.fn=r.prototype={constructor:r,selector:"",context:null,length:0,init:function(R,U){var S=this,T,V;if(!R){return S}if(R.nodeType){S.context=S[0]=R;S.length=1;return S}if(U&&U.nodeType){S.context=U}else{if(U){return r(R).attr(U)}S.context=U=document}if(z(R)){S.selector=R;if(R.charAt(0)==="<"&&R.charAt(R.length-1)===">"&&R.length>=3){T=[null,R,null]}else{T=C.exec(R)}if(T){if(T[1]){V=E(R,A(U)).firstChild;while(V){v.call(S,V);V=V.nextSibling}}else{V=A(U).getElementById(T[2]);if(!V){return S}if(V.id!==T[2]){return S.find(R)}S.length=1;S[0]=V}}else{return r(U).find(R)}}else{this.add(R,false)}return S},toArray:function(){return n.toArray(this)},add:function(T,V){var S=this,R,U;if(z(T)){return S.add(r(T))}if(V!==false){R=r.unique(S.toArray().concat(r.makeArray(T)));S.length=R.length;for(U=0;U<R.length;U++){S[U]=R[U]}}else{v.apply(S,r.makeArray(T))}return S},attr:function(S,U){var R=this,T;if(typeof S==="object"){s(S,function(V,W){R.attr(V,W)})}else{if(k(U)){this.each(function(){var V;if(this.nodeType===1){V=N[S];if(V&&V.set){V.set(this,U);return}if(U===null){this.removeAttribute(S,2)}else{this.setAttribute(S,U,2)}}})}else{if(R[0]&&R[0].nodeType===1){T=N[S];if(T&&T.get){return T.get(R[0],S)}if(H[S]){return R.prop(S)?S:p}U=R[0].getAttribute(S,2);if(U===null){U=p}}return U}}return R},removeAttr:function(R){return this.attr(R,null)},prop:function(S,T){var R=this;S=L[S]||S;if(typeof S==="object"){s(S,function(U,V){R.prop(U,V)})}else{if(k(T)){this.each(function(){if(this.nodeType==1){this[S]=T}})}else{if(R[0]&&R[0].nodeType&&S in R[0]){return R[0][S]}return T}}return R},css:function(T,X){var S=this,Y,W;function V(Z){return Z.replace(/-(\D)/g,function(ab,aa){return aa.toUpperCase()})}function R(Z){return Z.replace(/[A-Z]/g,function(aa){return"-"+aa})}if(typeof T==="object"){s(T,function(Z,aa){S.css(Z,aa)})}else{if(k(X)){T=V(T);if(typeof X==="number"&&!j[T]){X+="px"}S.each(function(){var aa=this.style;W=O[T];if(W&&W.set){W.set(this,X);return}try{this.style[m[T]||T]=X}catch(Z){}if(X===null||X===""){if(aa.removeProperty){aa.removeProperty(R(T))}else{aa.removeAttribute(T)}}})}else{Y=S[0];W=O[T];if(W&&W.get){return W.get(Y)}if(Y.ownerDocument.defaultView){try{return Y.ownerDocument.defaultView.getComputedStyle(Y,null).getPropertyValue(R(T))}catch(U){return p}}else{if(Y.currentStyle){return Y.currentStyle[V(T)]}}}}return S},remove:function(){var R=this,T,S=this.length;while(S--){T=R[S];P.clean(T);if(T.parentNode){T.parentNode.removeChild(T)}}return this},empty:function(){var R=this,T,S=this.length;while(S--){T=R[S];while(T.firstChild){T.removeChild(T.firstChild)}}return this},html:function(U){var R=this,T;if(k(U)){T=R.length;try{while(T--){R[T].innerHTML=U}}catch(S){r(R[T]).empty().append(U)}return R}return R[0]?R[0].innerHTML:""},text:function(T){var R=this,S;if(k(T)){S=R.length;while(S--){if("innerText" in R[S]){R[S].innerText=T}else{R[0].textContent=T}}return R}return R[0]?(R[0].innerText||R[0].textContent):""},append:function(){return B(this,arguments,function(R){if(this.nodeType===1){this.appendChild(R)}})},prepend:function(){return B(this,arguments,function(R){if(this.nodeType===1){this.insertBefore(R,this.firstChild)}},true)},before:function(){var R=this;if(R[0]&&R[0].parentNode){return B(R,arguments,function(S){this.parentNode.insertBefore(S,this)})}return R},after:function(){var R=this;if(R[0]&&R[0].parentNode){return B(R,arguments,function(S){this.parentNode.insertBefore(S,this.nextSibling)},true)}return R},appendTo:function(R){r(R).append(this);return this},prependTo:function(R){r(R).prepend(this);return this},replaceWith:function(R){return this.before(R).remove()},wrap:function(R){return x(this,R)},wrapAll:function(R){return x(this,R,true)},wrapInner:function(R){this.each(function(){r(this).contents().wrapAll(R)});return this},unwrap:function(){return this.parent().each(function(){r(this).replaceWith(this.childNodes)})},clone:function(){var R=[];this.each(function(){R.push(this.cloneNode(true))});return r(R)},addClass:function(R){return this.toggleClass(R,true)},removeClass:function(R){return this.toggleClass(R,false)},toggleClass:function(S,T){var R=this;if(typeof S!="string"){return R}if(S.indexOf(" ")!==-1){s(S.split(" "),function(){R.toggleClass(this,T)})}else{R.each(function(U,W){var V,X;X=l(W,S);if(X!==T){V=W.className;if(X){W.className=G((" "+V+" ").replace(" "+S+" "," "))}else{W.className+=V?" "+S:S}}})}return R},hasClass:function(R){return l(this[0],R)},each:function(R){return s(this,R)},on:function(R,S){return this.each(function(){P.bind(this,R,S)})},off:function(R,S){return this.each(function(){P.unbind(this,R,S)})},trigger:function(R){return this.each(function(){if(typeof R=="object"){P.fire(this,R.type,R)}else{P.fire(this,R)}})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new r(F.apply(this,arguments))},eq:function(R){return R===-1?this.slice(R):this.slice(R,+R+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(R){var U,S,T=[];for(U=0,S=this.length;U<S;U++){r.find(R,this[U],T)}return r(T)},filter:function(R){if(typeof R=="function"){return r(w(this.toArray(),function(T,S){return R(S,T)}))}return r(r.filter(R,this.toArray()))},closest:function(S){var R=[];if(S instanceof r){S=S[0]}this.each(function(T,U){while(U){if(typeof S=="string"&&r(U).is(S)){R.push(U);break}else{if(U==S){R.push(U);break}}U=U.parentNode}});return r(R)},offset:function(U){var X,T,S;var R=0,W=0,V;if(!U){X=this[0];if(X){T=X.ownerDocument;S=T.documentElement;if(X.getBoundingClientRect){V=X.getBoundingClientRect();R=V.left+(S.scrollLeft||T.body.scrollLeft)-S.clientLeft;W=V.top+(S.scrollTop||T.body.scrollTop)-S.clientTop}}return{left:R,top:W}}return this.css(U)},push:v,sort:[].sort,splice:[].splice};n.extend(r,{extend:n.extend,makeArray:function(R){if(K(R)||R.nodeType){return[R]}return n.toArray(R)},inArray:I,isArray:n.isArray,each:s,trim:G,grep:w,find:q,expr:q.selectors,unique:q.uniqueSort,text:q.getText,contains:q.contains,filter:function(U,R,T){var S=R.length;if(T){U=":not("+U+")"}while(S--){if(R[S].nodeType!=1){R.splice(S,1)}}if(R.length===1){R=r.find.matchesSelector(R[0],U)?[R[0]]:[]}else{R=r.find.matches(U,R)}return R}});function D(S,V,U){var R=[],T=S[V];if(typeof U!="string"&&U instanceof r){U=U[0]}while(T&&T.nodeType!==9){if(U!==g){if(T===U){break}if(typeof U=="string"&&r(T).is(U)){break}}if(T.nodeType===1){R.push(T)}T=T[V]}return R}function J(U,T,S,V){var R=[];if(V instanceof r){V=V[0]}for(;U;U=U[T]){if(S&&U.nodeType!==S){continue}if(V!==g){if(U===V){break}if(typeof V=="string"&&r(U).is(V)){break}}R.push(U)}return R}function i(T,S,R){for(T=T[S];T;T=T[S]){if(T.nodeType==R){return T}}return null}s({parent:function(S){var R=S.parentNode;return R&&R.nodeType!==11?R:null},parents:function(R){return D(R,"parentNode")},next:function(R){return i(R,"nextSibling",1)},prev:function(R){return i(R,"previousSibling",1)},children:function(R){return J(R.firstChild,"nextSibling",1)},contents:function(R){return n.toArray((R.nodeName==="iframe"?R.contentDocument||R.contentWindow.document:R).childNodes)}},function(R,S){r.fn[R]=function(U){var V=this,T=[];V.each(function(){var W=S.call(T,this,U,T);if(W){if(r.isArray(W)){T.push.apply(T,W)}else{T.push(W)}}});if(this.length>1){if(!y[R]){T=r.unique(T)}if(R.indexOf("parents")===0){T=T.reverse()}}T=r(T);if(U){return T.filter(U)}return T}});s({parentsUntil:function(R,S){return D(R,"parentNode",S)},nextUntil:function(R,S){return J(R,"nextSibling",1,S).slice(1)},prevUntil:function(R,S){return J(R,"previousSibling",1,S).slice(1)}},function(R,S){r.fn[R]=function(U,W){var V=this,T=[];V.each(function(){var X=S.call(T,this,U,T);if(X){if(r.isArray(X)){T.push.apply(T,X)}else{T.push(X)}}});if(this.length>1){T=r.unique(T);if(R.indexOf("parents")===0||R==="prevUntil"){T=T.reverse()}}T=r(T);if(W){return T.filter(W)}return T}});r.fn.is=function(R){return !!R&&this.filter(R).length>0};r.fn.init.prototype=r.fn;r.overrideDefaults=function(T){var S;function R(U,V){S=S||T();if(arguments.length===0){U=S.element}if(!V){V=S.context}return new R.fn.init(U,V)}r.extend(R,this);return R};function u(T,S,R){s(R,function(U,V){T[U]=T[U]||{};T[U][S]=V})}if(o.ie&&o.ie<8){u(N,"get",{maxlength:function(S){var R=S.maxLength;if(R===2147483647){return p}return R},size:function(S){var R=S.size;if(R===20){return p}return R},"class":function(R){return R.className},style:function(S){var R=S.style.cssText;if(R.length===0){return p}return R}});u(N,"set",{"class":function(S,R){S.className=R},style:function(S,R){S.style.cssText=R}})}if(o.ie&&o.ie<9){m["float"]="styleFloat";u(O,"set",{opacity:function(T,S){var R=T.style;if(S===null||S===""){R.removeAttribute("filter")}else{R.zoom=1;R.filter="alpha(opacity="+(S*100)+")"}}})}r.attrHooks=N;r.cssHooks=O;return r});h("tinymce/html/Styles",[],function(){return function(o,q){var u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,p,s,k={},t,n,j,v="\uFEFF";o=o||{};if(q){n=q.getValidStyles();j=q.getInvalidStyles()}t=("\\\" \\' \\; \\: ; : "+v).split(" ");for(s=0;s<t.length;s++){k[t[s]]=v+s;k[v+s]=t[s]}function m(x,A,z,i){function y(B){B=parseInt(B,10).toString(16);return B.length>1?B:"0"+B}return"#"+y(A)+y(z)+y(i)}return{toHex:function(i){return i.replace(u,m)},parse:function(C){var I={},A,x,G,B,F=o.url_converter;var H=o.url_converter_scope||this;function z(O,R,L){var Q,M,K,P;Q=I[O+"-top"+R];if(!Q){return}M=I[O+"-right"+R];if(!M){return}K=I[O+"-bottom"+R];if(!K){return}P=I[O+"-left"+R];if(!P){return}var N=[Q,M,K,P];s=N.length-1;while(s--){if(N[s]!==N[s+1]){break}}if(s>-1&&L){return}I[O+R]=s==-1?N[0]:N.join(" ");delete I[O+"-top"+R];delete I[O+"-right"+R];delete I[O+"-bottom"+R];delete I[O+"-left"+R]}function E(L){var M=I[L],K;if(!M){return}M=M.split(" ");K=M.length;while(K--){if(M[K]!==M[0]){return false}}I[L]=M[0];return true}function J(M,L,K,N){if(!E(L)){return}if(!E(K)){return}if(!E(N)){return}I[M]=I[L]+" "+I[K]+" "+I[N];delete I[L];delete I[K];delete I[N]}function D(K){B=true;return k[K]}function i(L,K){if(B){L=L.replace(/\uFEFF[0-9]/g,function(M){return k[M]})}if(!K){L=L.replace(/\\([\'\";:])/g,"$1")}return L}function y(L,K,O,N,Q,M){Q=Q||M;if(Q){Q=i(Q);return"'"+Q.replace(/\'/g,"\\'")+"'"}K=i(K||O||N);if(!o.allow_script_urls){var P=K.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(P)){return""}if(!o.allow_svg_data_urls&&/^data:image\/svg/i.test(P)){return""}}if(F){K=F.call(H,K,"style")}return"url('"+K.replace(/\'/g,"\\'")+"')"}if(C){C=C.replace(/[\u0000-\u001F]/g,"");C=C.replace(/\\[\"\';:\uFEFF]/g,D).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(K){return K.replace(/[;:]/g,D)});while((A=l.exec(C))){x=A[1].replace(w,"").toLowerCase();G=A[2].replace(w,"");G=G.replace(/\\[0-9a-f]+/g,function(K){return String.fromCharCode(parseInt(K.substr(1),16))});if(x&&G.length>0){if(!o.allow_script_urls&&(x=="behavior"||/expression\s*\(|\/\*|\*\//.test(G))){continue}if(x==="font-weight"&&G==="700"){G="bold"}else{if(x==="color"||x==="background-color"){G=G.toLowerCase()}}G=G.replace(u,m);G=G.replace(r,y);I[x]=B?i(G,true):G}l.lastIndex=A.index+A[0].length}z("border","",true);z("border","-width");z("border","-color");z("border","-style");z("padding","");z("margin","");J("border","border-width","border-style","border-color");if(I.border==="medium none"){delete I.border}if(I["border-image"]==="none"){delete I["border-image"]}}return I},serialize:function(A,i){var z="",y,B;function x(E){var H,F,D,G;H=n[E];if(H){for(F=0,D=H.length;F<D;F++){E=H[F];G=A[E];if(G!==p&&G.length>0){z+=(z.length>0?" ":"")+E+": "+G+";"}}}}function C(E,D){var F;F=j["*"];if(F&&F[E]){return false}F=j[D];if(F&&F[E]){return false}return true}if(i&&n){x("*");x(i)}else{for(y in A){B=A[y];if(B!==p&&B.length>0){if(!j||C(y,i)){z+=(z.length>0?" ":"")+y+": "+B+";"}}}}return z}}}});h("tinymce/dom/TreeWalker",[],function(){return function(j,i){var k=j;function l(q,m,n,r){var p,o;if(q){if(!r&&q[m]){return q[m]}if(q!=i){p=q[n];if(p){return p}for(o=q.parentNode;o&&o!=i;o=o.parentNode){p=o[n];if(p){return p}}}}}this.current=function(){return k};this.next=function(m){k=l(k,"firstChild","nextSibling",m);return k};this.prev=function(m){k=l(k,"lastChild","previousSibling",m);return k}}});h("tinymce/dom/Range",["tinymce/util/Tools"],function(i){function j(k){var o=this,m=k.doc,aa=0,M=1,s=2,L=true,Y=false,ac="startOffset",q="startContainer",W="endContainer",H="endOffset",t=i.extend,w=k.nodeIndex;function E(){return m.createDocumentFragment()}function z(ae,ad){J(L,ae,ad)}function B(ae,ad){J(Y,ae,ad)}function p(ad){z(ad.parentNode,w(ad))}function Q(ad){z(ad.parentNode,w(ad)+1)}function R(ad){B(ad.parentNode,w(ad))}function C(ad){B(ad.parentNode,w(ad)+1)}function I(ad){if(ad){o[W]=o[q];o[H]=o[ac]}else{o[q]=o[W];o[ac]=o[H]}o.collapsed=L}function F(ad){p(ad);C(ad)}function N(ad){z(ad,0);B(ad,ad.nodeType===1?ad.childNodes.length:ad.nodeValue.length)}function D(ah,ad){var ak=o[q],af=o[ac],aj=o[W],ae=o[H],ai=ad.startContainer,am=ad.startOffset,ag=ad.endContainer,al=ad.endOffset;if(ah===0){return O(ak,af,ai,am)}if(ah===1){return O(aj,ae,ai,am)}if(ah===2){return O(aj,ae,ag,al)}if(ah===3){return O(ak,af,ag,al)}}function y(){u(s)}function P(){return u(aa)}function l(){return u(M)}function K(ah){var ae=this[q],ad=this[ac],ag,af;if((ae.nodeType===3||ae.nodeType===4)&&ae.nodeValue){if(!ad){ae.parentNode.insertBefore(ah,ae)}else{if(ad>=ae.nodeValue.length){k.insertAfter(ah,ae)}else{ag=ae.splitText(ad);ae.parentNode.insertBefore(ah,ag)}}}else{if(ae.childNodes.length>0){af=ae.childNodes[ad]}if(af){ae.insertBefore(ah,af)}else{if(ae.nodeType==3){k.insertAfter(ah,ae)}else{ae.appendChild(ah)}}}}function U(ae){var ad=o.extractContents();o.insertNode(ae);ae.appendChild(ad);o.selectNode(ae)}function S(){return t(new j(k),{startContainer:o[q],startOffset:o[ac],endContainer:o[W],endOffset:o[H],collapsed:o.collapsed,commonAncestorContainer:o.commonAncestorContainer})}function V(ad,ae){var af;if(ad.nodeType==3){return ad}if(ae<0){return ad}af=ad.firstChild;while(af&&ae>0){--ae;af=af.nextSibling}if(af){return af}return ad}function v(){return(o[q]==o[W]&&o[ac]==o[H])}function O(ag,ai,ae,ah){var aj,af,ad,ak,am,al;if(ag==ae){if(ai==ah){return 0}if(ai<ah){return -1}return 1}aj=ae;while(aj&&aj.parentNode!=ag){aj=aj.parentNode}if(aj){af=0;ad=ag.firstChild;while(ad!=aj&&af<ai){af++;ad=ad.nextSibling}if(ai<=af){return -1}return 1}aj=ag;while(aj&&aj.parentNode!=ae){aj=aj.parentNode}if(aj){af=0;ad=ae.firstChild;while(ad!=aj&&af<ah){af++;ad=ad.nextSibling}if(af<ah){return -1}return 1}ak=k.findCommonAncestor(ag,ae);am=ag;while(am&&am.parentNode!=ak){am=am.parentNode}if(!am){am=ak}al=ae;while(al&&al.parentNode!=ak){al=al.parentNode}if(!al){al=ak}if(am==al){return 0}ad=ak.firstChild;while(ad){if(ad==am){return -1}if(ad==al){return 1}ad=ad.nextSibling}}function J(ae,ah,ag){var ad,af;if(ae){o[q]=ah;o[ac]=ag}else{o[W]=ah;o[H]=ag}ad=o[W];while(ad.parentNode){ad=ad.parentNode}af=o[q];while(af.parentNode){af=af.parentNode}if(af==ad){if(O(o[q],o[ac],o[W],o[H])>0){o.collapse(ae)}}else{o.collapse(ae)}o.collapsed=v();o.commonAncestorContainer=k.findCommonAncestor(o[q],o[W])}function u(ak){var aj,ag=0,am=0,ae,ai,af,ah,ad,al;if(o[q]==o[W]){return n(ak)}for(aj=o[W],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[q]){return A(aj,ak)}++ag}for(aj=o[q],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[W]){return ab(aj,ak)}++am}ai=am-ag;af=o[q];while(ai>0){af=af.parentNode;ai--}ah=o[W];while(ai<0){ah=ah.parentNode;ai++}for(ad=af.parentNode,al=ah.parentNode;ad!=al;ad=ad.parentNode,al=al.parentNode){af=ad;ah=al}return x(af,ah,ak)}function n(aj){var al,am,ad,af,ag,ak,ah,ae,ai;if(aj!=s){al=E()}if(o[ac]==o[H]){return al}if(o[q].nodeType==3){am=o[q].nodeValue;ad=am.substring(o[ac],o[H]);if(aj!=M){af=o[q];ae=o[ac];ai=o[H]-o[ac];if(ae===0&&ai>=af.nodeValue.length-1){af.parentNode.removeChild(af)}else{af.deleteData(ae,ai)}o.collapse(L)}if(aj==s){return}if(ad.length>0){al.appendChild(m.createTextNode(ad))}return al}af=V(o[q],o[ac]);ag=o[H]-o[ac];while(af&&ag>0){ak=af.nextSibling;ah=G(af,aj);if(al){al.appendChild(ah)}--ag;af=ak}if(aj!=M){o.collapse(L)}return al}function A(ak,ah){var aj,ai,ae,ad,ag,af;if(ah!=s){aj=E()}ai=r(ak,ah);if(aj){aj.appendChild(ai)}ae=w(ak);ad=ae-o[ac];if(ad<=0){if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}ai=ak.previousSibling;while(ad>0){ag=ai.previousSibling;af=G(ai,ah);if(aj){aj.insertBefore(af,aj.firstChild)}--ad;ai=ag}if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}function ab(ai,ah){var ak,ae,aj,ad,ag,af;if(ah!=s){ak=E()}aj=X(ai,ah);if(ak){ak.appendChild(aj)}ae=w(ai);++ae;ad=o[H]-ae;aj=ai.nextSibling;while(aj&&ad>0){ag=aj.nextSibling;af=G(aj,ah);if(ak){ak.appendChild(af)}--ad;aj=ag}if(ah!=M){o.setStartAfter(ai);o.collapse(L)}return ak}function x(ah,ad,ak){var ae,am,ai,aj,af,al,ag;if(ak!=s){am=E()}ae=X(ah,ak);if(am){am.appendChild(ae)}ai=w(ah);aj=w(ad);++ai;af=aj-ai;al=ah.nextSibling;while(af>0){ag=al.nextSibling;ae=G(al,ak);if(am){am.appendChild(ae)}al=ag;--af}ae=r(ad,ak);if(am){am.appendChild(ae)}if(ak!=M){o.setStartAfter(ah);o.collapse(L)}return am}function r(aj,ak){var af=V(o[W],o[H]-1),al,ai;var ah,ad,ae,ag=af!=o[W];if(af==aj){return T(af,ag,Y,ak)}al=af.parentNode;ai=T(al,Y,Y,ak);while(al){while(af){ah=af.previousSibling;ad=T(af,ag,Y,ak);if(ak!=s){ai.insertBefore(ad,ai.firstChild)}ag=L;af=ah}if(al==aj){return ai}af=al.previousSibling;al=al.parentNode;ae=T(al,Y,Y,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function X(aj,ak){var ag=V(o[q],o[ac]),ah=ag!=o[q];var al,ai,af,ad,ae;if(ag==aj){return T(ag,ah,L,ak)}al=ag.parentNode;ai=T(al,Y,L,ak);while(al){while(ag){af=ag.nextSibling;ad=T(ag,ah,L,ak);if(ak!=s){ai.appendChild(ad)}ah=L;ag=af}if(al==aj){return ai}ag=al.nextSibling;al=al.parentNode;ae=T(al,Y,L,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function T(ad,ah,ak,al){var ag,af,ai,ae,aj;if(ah){return G(ad,al)}if(ad.nodeType==3){ag=ad.nodeValue;if(ak){ae=o[ac];af=ag.substring(ae);ai=ag.substring(0,ae)}else{ae=o[H];af=ag.substring(0,ae);ai=ag.substring(ae)}if(al!=M){ad.nodeValue=ai}if(al==s){return}aj=k.clone(ad,Y);aj.nodeValue=af;return aj}if(al==s){return}return k.clone(ad,Y)}function G(ae,ad){if(ad!=s){return ad==M?k.clone(ae,L):ae}ae.parentNode.removeChild(ae)}function Z(){return k.create("body",null,l()).outerText}t(o,{startContainer:m,startOffset:0,endContainer:m,endOffset:0,collapsed:L,commonAncestorContainer:m,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:z,setEnd:B,setStartBefore:p,setStartAfter:Q,setEndBefore:R,setEndAfter:C,collapse:I,selectNode:F,selectNodeContents:N,compareBoundaryPoints:D,deleteContents:y,extractContents:P,cloneContents:l,insertNode:K,surroundContents:U,cloneRange:S,toStringIE:Z});return o}j.prototype.toString=function(){return this.toStringIE()};return j});h("tinymce/html/Entities",["tinymce/util/Tools"],function(l){var m=l.makeMap;var i,r,o,u=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q=/[<>&\"\']/g,n=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,t={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","\u0060":"&#96;"};o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function s(v){var w;w=document.createElement("div");w.innerHTML=v;return w.textContent||w.innerText||v}function p(w,z){var x,y,v,A={};if(w){w=w.split(",");z=z||10;for(x=0;x<w.length;x+=2){y=String.fromCharCode(parseInt(w[x],z));if(!r[y]){v="&"+w[x+1]+";";A[y]=v;A[v]=y}}return A}}i=p("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var k={encodeRaw:function(w,v){return w.replace(v?u:j,function(x){return r[x]||x})},encodeAllRaw:function(v){return(""+v).replace(q,function(w){return r[w]||w})},encodeNumeric:function(w,v){return w.replace(v?u:j,function(x){if(x.length>1){return"&#"+(((x.charCodeAt(0)-55296)*1024)+(x.charCodeAt(1)-56320)+65536)+";"}return r[x]||"&#"+x.charCodeAt(0)+";"})},encodeNamed:function(x,v,w){w=w||i;return x.replace(v?u:j,function(y){return r[y]||w[y]||y})},getEncodeFunc:function(v,y){y=p(y)||i;function w(A,z){return A.replace(z?u:j,function(B){return r[B]||y[B]||"&#"+B.charCodeAt(0)+";"||B})}function x(A,z){return k.encodeNamed(A,z,y)}v=m(v.replace(/\+/g,","));if(v.named&&v.numeric){return w}if(v.named){if(y){return x}return k.encodeNamed}if(v.numeric){return k.encodeNumeric}return k.encodeRaw},decode:function(v){return v.replace(n,function(x,w){if(w){if(w.charAt(0).toLowerCase()==="x"){w=parseInt(w.substr(1),16)}else{w=parseInt(w,10)}if(w>65535){w-=65536;return String.fromCharCode(55296+(w>>10),56320+(w&1023))}return t[w]||String.fromCharCode(w)}return o[x]||i[x]||s(x)})}};return k});h("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(i,j){return function(k,o){var l=0,n={},q;o=o||{};q=o.maxLoadTime||5000;function m(r){k.getElementsByTagName("head")[0].appendChild(r)}function p(t,x,B){var C,s,u,r;function y(){var F=r.passed,E=F.length;while(E--){F[E]()}r.status=2;r.passed=[];r.failed=[]}function A(){var F=r.failed,E=F.length;while(E--){F[E]()}r.status=3;r.passed=[];r.failed=[]}function D(){var E=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(E&&E[1]<536)}function z(E,F){if(!E()){if((new Date().getTime())-u<q){j.setTimeout(F)}else{A()}}}function v(){z(function(){var G=k.styleSheets,H,F=G.length,E;while(F--){H=G[F];E=H.ownerNode?H.ownerNode:H.owningElement;if(E&&E.id===C.id){y();return true}}},v)}function w(){z(function(){try{var E=s.sheet.cssRules;y();return !!E}catch(F){}},w)}t=i._addCacheSuffix(t);if(!n[t]){r={passed:[],failed:[]};n[t]=r}else{r=n[t]}if(x){r.passed.push(x)}if(B){r.failed.push(B)}if(r.status==1){return}if(r.status==2){y();return}if(r.status==3){A();return}r.status=1;C=k.createElement("link");C.rel="stylesheet";C.type="text/css";C.id="u"+(l++);C.async=false;C.defer=false;u=new Date().getTime();if("onload" in C&&!D()){C.onload=v;C.onerror=A}else{if(navigator.userAgent.indexOf("Firefox")>0){s=k.createElement("style");s.textContent='@import "'+t+'"';w();m(s);return}v()}m(C);C.href=t}this.load=p}});h("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(k,o,r,n,p,B,l,j,i,v){var m=i.each,q=i.is,t=i.grep,x=i.trim;var w=j.ie;var u=/^([a-z0-9],?)+$/i;var C=/^[ \t\r\n]*$/;function z(E,G){var F={},D=G.keep_values,H;H={set:function(I,K,J){if(G.url_converter){K=G.url_converter.call(G.url_converter_scope||E,K,J,I[0])}I.attr("data-mce-"+J,K).attr(J,K)},get:function(I,J){return I.attr("data-mce-"+J)||I.attr(J)}};F={style:{set:function(I,J){if(J!==null&&typeof J==="object"){I.css(J);return}if(D){I.attr("data-mce-style",J)}I.attr("style",J)},get:function(I){var J=I.attr("data-mce-style")||I.attr("style");J=E.serializeStyle(E.parseStyle(J),I[0].nodeName);return J}}};if(D){F.href=F.src=H}return F}function s(D,E){var F=E.attr("style");F=D.serializeStyle(D.parseStyle(F),E[0].nodeName);if(!F){F=null}E.attr("data-mce-style",F)}function y(G,H){var D=0,F,E;if(G){for(F=G.nodeType,G=G.previousSibling;G;G=G.previousSibling){E=G.nodeType;if(H&&E==3){if(E==F||!G.nodeValue.length){continue}}D++;F=E}}return D}function A(G,E){var D=this,F;D.doc=G;D.win=window;D.files={};D.counter=0;D.stdMode=!w||G.documentMode>=8;D.boxModel=!w||G.compatMode=="CSS1Compat"||D.stdMode;D.styleSheetLoader=new v(G);D.boundEvents=[];D.settings=E=E||{};D.schema=E.schema;D.styles=new r({url_converter:E.url_converter,url_converter_scope:E.url_converter_scope},E.schema);D.fixDoc(G);D.events=E.ownEvents?new n(E.proxy):n.Event;D.attrHooks=z(D,E);F=E.schema?E.schema.getBlockElements():{};D.$=o.overrideDefaults(function(){return{context:G,element:D.getRoot()}});D.isBlock=function(I){if(!I){return false}var H=I.nodeType;if(H){return !!(H===1&&F[I.nodeName])}return !!F[I]}}A.prototype={$$:function(D){if(typeof D=="string"){D=this.get(D)}return this.$(D)},root:null,fixDoc:function(F){var E=this.settings,D;if(w&&E.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(G){F.createElement(G)});for(D in E.schema.getCustomElements()){F.createElement(D)}}},clone:function(F,D){var E=this,H,G;if(!w||F.nodeType!==1||D){return F.cloneNode(D)}G=E.doc;if(!D){H=G.createElement(F.nodeName);m(E.getAttribs(F),function(I){E.setAttrib(H,I.nodeName,E.getAttrib(F,I.nodeName))});return H}return H.firstChild},getRoot:function(){var D=this;return D.settings.root_element||D.doc.body},getViewPort:function(E){var D,F;E=!E?this.win:E;D=E.document;F=this.boxModel?D.documentElement:D.body;return{x:E.pageXOffset||F.scrollLeft,y:E.pageYOffset||F.scrollTop,w:E.innerWidth||F.clientWidth,h:E.innerHeight||F.clientHeight}},getRect:function(G){var D=this,F,E;G=D.get(G);F=D.getPos(G);E=D.getSize(G);return{x:F.x,y:F.y,w:E.w,h:E.h}},getSize:function(G){var E=this,D,F;G=E.get(G);D=E.getStyle(G,"width");F=E.getStyle(G,"height");if(D.indexOf("px")===-1){D=0}if(F.indexOf("px")===-1){F=0}return{w:parseInt(D,10)||G.offsetWidth||G.clientWidth,h:parseInt(F,10)||G.offsetHeight||G.clientHeight}},getParent:function(F,D,E){return this.getParents(F,D,E,false)},getParents:function(I,E,F,J){var H=this,G,D=[];I=H.get(I);J=J===g;F=F||(H.getRoot().nodeName!="BODY"?H.getRoot().parentNode:null);if(q(E,"string")){G=E;if(E==="*"){E=function(K){return K.nodeType==1}}else{E=function(K){return H.is(K,G)}}}while(I){if(I==F||!I.nodeType||I.nodeType===9){break}if(!E||E(I)){if(J){D.push(I)}else{return I}}I=I.parentNode}return J?D:null},get:function(E){var D;if(E&&this.doc&&typeof E=="string"){D=E;E=this.doc.getElementById(E);if(E&&E.id!==D){return this.doc.getElementsByName(D)[1]}}return E},getNext:function(E,D){return this._findSib(E,D,"nextSibling")},getPrev:function(E,D){return this._findSib(E,D,"previousSibling")},select:function(D,F){var E=this;return k(D,E.get(F)||E.settings.root_element||E.doc,[])},is:function(G,D){var E;if(G.length===g){if(D==="*"){return G.nodeType==1}if(u.test(D)){D=D.toLowerCase().split(/,/);G=G.nodeName.toLowerCase();for(E=D.length-1;E>=0;E--){if(D[E]==G){return true}}return false}}if(G.nodeType&&G.nodeType!=1){return false}var F=G.nodeType?[G]:G;return k(D,F[0].ownerDocument||F[0],null,F).length>0},add:function(I,F,E,H,G){var D=this;return this.run(I,function(K){var J;J=q(F,"string")?D.doc.createElement(F):F;D.setAttribs(J,E);if(H){if(H.nodeType){J.appendChild(H)}else{D.setHTML(J,H)}}return !G?K.appendChild(J):J})},create:function(E,D,F){return this.add(this.doc.createElement(E),E,D,F,1)},createHTML:function(E,D,G){var H="",F;H+="<"+E;for(F in D){if(D.hasOwnProperty(F)&&D[F]!==null&&typeof D[F]!="undefined"){H+=" "+F+'="'+this.encode(D[F])+'"'}}if(typeof G!="undefined"){return H+">"+G+"</"+E+">"}return H+" />"},createFragment:function(E){var H,F,G=this.doc,D;D=G.createElement("div");H=G.createDocumentFragment();if(E){D.innerHTML=E}while((F=D.firstChild)){H.appendChild(F)}return H},remove:function(D,E){D=this.$$(D);if(E){D.each(function(){var F;while((F=this.firstChild)){if(F.nodeType==3&&F.data.length===0){this.removeChild(F)}else{this.parentNode.insertBefore(F,this)}}}).remove()}else{D.remove()}return D.length>1?D.toArray():D[0]},setStyle:function(F,D,E){F=this.$$(F).css(D,E);if(this.settings.update_styles){s(this,F)}},getStyle:function(F,D,E){F=this.$$(F);if(E){return F.css(D)}D=D.replace(/-(\D)/g,function(H,G){return G.toUpperCase()});if(D=="float"){D=j.ie&&j.ie<12?"styleFloat":"cssFloat"}return F[0]&&F[0].style?F[0].style[D]:g},setStyles:function(E,D){E=this.$$(E).css(D);if(this.settings.update_styles){s(this,E)}},removeAllAttribs:function(D){return this.run(D,function(G){var F,E=G.attributes;for(F=E.length-1;F>=0;F--){G.removeAttributeNode(E.item(F))}})},setAttrib:function(J,F,I){var E=this,D,H,G=E.settings;if(I===""){I=null}J=E.$$(J);D=J.attr(F);if(!J.length){return}H=E.attrHooks[F];if(H&&H.set){H.set(J,I,F)}else{J.attr(F,I)}if(D!=I&&G.onSetAttrib){G.onSetAttrib({attrElm:J,attrName:F,attrValue:I})}},setAttribs:function(F,E){var D=this;D.$$(F).each(function(G,H){m(E,function(J,I){D.setAttrib(H,I,J)})})},getAttrib:function(I,E,H){var D=this,G,F;I=D.$$(I);if(I.length){G=D.attrHooks[E];if(G&&G.get){F=G.get(I,E)}else{F=I.attr(E)}}if(typeof F=="undefined"){F=H||""}return F},getPos:function(F,G){var L=this,J=0,I=0,D,K=L.doc,E=K.body,H;F=L.get(F);G=G||E;if(F){if(G===E&&F.getBoundingClientRect&&o(E).css("position")==="static"){H=F.getBoundingClientRect();G=L.boxModel?K.documentElement:E;J=H.left+(K.documentElement.scrollLeft||E.scrollLeft)-G.clientLeft;I=H.top+(K.documentElement.scrollTop||E.scrollTop)-G.clientTop;return{x:J,y:I}}D=F;while(D&&D!=G&&D.nodeType){J+=D.offsetLeft||0;I+=D.offsetTop||0;D=D.offsetParent}D=F.parentNode;while(D&&D!=G&&D.nodeType){J-=D.scrollLeft||0;I-=D.scrollTop||0;D=D.parentNode}}return{x:J,y:I}},parseStyle:function(D){return this.styles.parse(D)},serializeStyle:function(E,D){return this.styles.serialize(E,D)},addStyle:function(G){var E=this,H=E.doc,F,I;if(E!==A.DOM&&H===document){var D=A.DOM.addedStyles;D=D||[];if(D[G]){return}D[G]=true;A.DOM.addedStyles=D}I=H.getElementById("mceDefaultStyles");if(!I){I=H.createElement("style");I.id="mceDefaultStyles";I.type="text/css";F=H.getElementsByTagName("head")[0];if(F.firstChild){F.insertBefore(I,F.firstChild)}else{F.appendChild(I)}}if(I.styleSheet){I.styleSheet.cssText+=G}else{I.appendChild(H.createTextNode(G))}},loadCSS:function(E){var D=this,G=D.doc,F;if(D!==A.DOM&&G===document){A.DOM.loadCSS(E);return}if(!E){E=""}F=G.getElementsByTagName("head")[0];m(E.split(","),function(H){var I;H=i._addCacheSuffix(H);if(D.files[H]){return}D.files[H]=true;I=D.create("link",{rel:"stylesheet",href:H});if(w&&G.documentMode&&G.recalc){I.onload=function(){if(G.recalc){G.recalc()}I.onload=null}}F.appendChild(I)})},addClass:function(E,D){this.$$(E).addClass(D)},removeClass:function(E,D){this.toggleClass(E,D,false)},hasClass:function(E,D){return this.$$(E).hasClass(D)},toggleClass:function(F,D,E){this.$$(F).toggleClass(D,E).each(function(){if(this.className===""){o(this).attr("class",null)}})},show:function(D){this.$$(D).show()},hide:function(D){this.$$(D).hide()},isHidden:function(D){return this.$$(D).css("display")=="none"},uniqueId:function(D){return(!D?"mce_":D)+(this.counter++)},setHTML:function(E,D){E=this.$$(E);if(w){E.each(function(G,H){if(H.canHaveHTML===false){return}while(H.firstChild){H.removeChild(H.firstChild)}try{H.innerHTML="<br>"+D;H.removeChild(H.firstChild)}catch(F){o("<div>").html("<br>"+D).contents().slice(1).appendTo(H)}return D})}else{E.html(D)}},getOuterHTML:function(D){D=this.get(D);return D.nodeType==1&&"outerHTML" in D?D.outerHTML:o("<div>").append(o(D).clone()).html()},setOuterHTML:function(F,E){var D=this;D.$$(F).each(function(){try{if("outerHTML" in this){this.outerHTML=E;return}}catch(G){}D.remove(o(this).html(E),true)})},decode:l.decode,encode:l.encodeAllRaw,insertAfter:function(E,D){D=this.get(D);return this.run(E,function(G){var F,H;F=D.parentNode;H=D.nextSibling;if(H){F.insertBefore(G,H)}else{F.appendChild(G)}return G})},replace:function(F,E,G){var D=this;return D.run(E,function(H){if(q(H,"array")){F=F.cloneNode(true)}if(G){m(t(H.childNodes),function(I){F.appendChild(I)})}return H.parentNode.replaceChild(F,H)})},rename:function(G,E){var D=this,F;if(G.nodeName!=E.toUpperCase()){F=D.create(E);m(D.getAttribs(G),function(H){D.setAttrib(F,H.nodeName,D.getAttrib(G,H.nodeName))});D.replace(F,G,1)}return F||G},findCommonAncestor:function(F,D){var G=F,E;while(G){E=D;while(E&&G!=E){E=E.parentNode}if(G==E){break}G=G.parentNode}if(!G&&F.ownerDocument){return F.ownerDocument.documentElement}return G},toHex:function(D){return this.styles.toHex(i.trim(D))},run:function(H,G,F){var E=this,D;if(typeof H==="string"){H=E.get(H)}if(!H){return false}F=F||this;if(!H.nodeType&&(H.length||H.length===0)){D=[];m(H,function(J,I){if(J){if(typeof J=="string"){J=E.get(J)}D.push(G.call(F,J,I))}});return D}return G.call(F,H)},getAttribs:function(F){var D;F=this.get(F);if(!F){return[]}if(w){D=[];if(F.nodeName=="OBJECT"){return F.attributes}if(F.nodeName==="OPTION"&&this.getAttrib(F,"selected")){D.push({specified:1,nodeName:"selected"})}var E=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;F.cloneNode(false).outerHTML.replace(E,"").replace(/[\w:\-]+/gi,function(G){D.push({specified:1,nodeName:G})});return D}return F.attributes},isEmpty:function(G,E){var L=this,I,H,K,D,F,J=0;G=G.firstChild;if(G){D=new p(G,G.parentNode);E=E||(L.schema?L.schema.getNonEmptyElements():null);do{K=G.nodeType;if(K===1){if(G.getAttribute("data-mce-bogus")){continue}F=G.nodeName.toLowerCase();if(E&&E[F]){if(F==="br"){J++;continue}return false}H=L.getAttribs(G);I=H.length;while(I--){F=H[I].nodeName;if(F==="name"||F==="data-mce-bookmark"){return false}}}if(K==8){return false}if((K===3&&!C.test(G.nodeValue))){return false}}while((G=D.next()))}return J<=1},createRng:function(){var D=this.doc;return D.createRange?D.createRange():new B(this)},nodeIndex:y,split:function(H,I,E){var L=this,D=L.createRng(),J,G,K;function F(Q){var O,N=Q.childNodes,P=Q.nodeType;function R(U){var T=U.previousSibling&&U.previousSibling.nodeName=="SPAN";var S=U.nextSibling&&U.nextSibling.nodeName=="SPAN";return T&&S}if(P==1&&Q.getAttribute("data-mce-type")=="bookmark"){return}for(O=N.length-1;O>=0;O--){F(N[O])}if(P!=9){if(P==3&&Q.nodeValue.length>0){var M=x(Q.nodeValue).length;if(!L.isBlock(Q.parentNode)||M>0||M===0&&R(Q)){return}}else{if(P==1){N=Q.childNodes;if(N.length==1&&N[0]&&N[0].nodeType==1&&N[0].getAttribute("data-mce-type")=="bookmark"){Q.parentNode.insertBefore(N[0],Q)}if(N.length||/^(br|hr|input|img)$/i.test(Q.nodeName)){return}}}L.remove(Q)}return Q}if(H&&I){D.setStart(H.parentNode,L.nodeIndex(H));D.setEnd(I.parentNode,L.nodeIndex(I));J=D.extractContents();D=L.createRng();D.setStart(I.parentNode,L.nodeIndex(I)+1);D.setEnd(H.parentNode,L.nodeIndex(H)+1);G=D.extractContents();K=H.parentNode;K.insertBefore(F(J),H);if(E){K.insertBefore(E,H)}else{K.insertBefore(I,H)}K.insertBefore(F(G),H);L.remove(H);return E||I}},bind:function(I,E,H,G){var D=this;if(i.isArray(I)){var F=I.length;while(F--){I[F]=D.bind(I[F],E,H,G)}return I}if(D.settings.collect&&(I===D.doc||I===D.win)){D.boundEvents.push([I,E,H,G])}return D.events.bind(I,E,H,G||D)},unbind:function(I,E,H){var D=this,F;if(i.isArray(I)){F=I.length;while(F--){I[F]=D.unbind(I[F],E,H)}return I}if(D.boundEvents&&(I===D.doc||I===D.win)){F=D.boundEvents.length;while(F--){var G=D.boundEvents[F];if(I==G[0]&&(!E||E==G[1])&&(!H||H==G[2])){this.events.unbind(G[0],G[1],G[2])}}}return this.events.unbind(I,E,H)},fire:function(F,E,D){return this.events.fire(F,E,D)},getContentEditable:function(E){var D;if(!E||E.nodeType!=1){return null}D=E.getAttribute("data-mce-contenteditable");if(D&&D!=="inherit"){return D}return E.contentEditable!=="inherit"?E.contentEditable:null},getContentEditableParent:function(E){var D=this.getRoot(),F=null;for(;E&&E!==D;E=E.parentNode){F=this.getContentEditable(E);if(F!==null){break}}return F},destroy:function(){var D=this;if(D.boundEvents){var E=D.boundEvents.length;while(E--){var F=D.boundEvents[E];this.events.unbind(F[0],F[1],F[2])}D.boundEvents=null}if(k.setDocument){k.setDocument()}D.win=D.doc=D.root=D.events=D.frag=null},isChildOf:function(E,D){while(E){if(D===E){return true}E=E.parentNode}return false},dumpRng:function(D){return("startContainer: "+D.startContainer.nodeName+", startOffset: "+D.startOffset+", endContainer: "+D.endContainer.nodeName+", endOffset: "+D.endOffset)},_findSib:function(H,D,F){var E=this,G=D;if(H){if(typeof G=="string"){G=function(I){return E.is(I,D)}}for(H=H[F];H;H=H[F]){if(G(H)){return H}}}return null}};A.DOM=new A(document);A.nodeIndex=y;return A});h("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(m,i){var k=m.DOM;var l=i.each,j=i.grep;function n(){var p=0,w=1,u=2,x={},v=[],r={},q=[],t=0,s;function o(y,F,G){var A=k,C,z;var E;E="?"+Ext.urlEncode({v:SYNO.SDS.Session.fullversion,pkg:G});function B(){A.remove(z);if(C){C.onreadystatechange=C.onload=C=null}F()}function D(){if(typeof console!=="undefined"&&console.log){console.log("Failed to load: "+y)}}z=A.uniqueId();C=document.createElement("script");C.id=z;C.type="text/javascript";C.src=i._addCacheSuffix(y+E);if("onreadystatechange" in C){C.onreadystatechange=function(){if(/loaded|complete/.test(C.readyState)){B()}}}else{C.onload=B}C.onerror=D;(document.getElementsByTagName("head")[0]||document.body).appendChild(C)}this.isDone=function(y){return x[y]==u};this.markDone=function(y){x[y]=u};this.markUndefined=function(y){x[y]=g};this.add=this.load=function(y,B,z){var A=x[y];if(A==s){v.push(y);x[y]=p}if(B){if(!r[y]){r[y]=[]}r[y].push({func:B,scope:z||this})}};this.loadQueue=function(A,y,z){this.loadScripts(v,A,y,z)};this.loadScripts=function(y,D,B,C){var A;function z(E){l(r[E],function(F){F.func.call(F.scope)});r[E]=s}q.push({func:D,scope:B||this});A=function(){var E=j(y);y.length=0;l(E,function(F){if(x[F]==u){z(F);return}if(x[F]!=w){x[F]=w;t++;o(F,function(){x[F]=u;t--;z(F);A()},C)}});if(!t){l(q,function(F){F.func.call(F.scope)});q.length=0}};A()}}n.ScriptLoader=new n();return n});h("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(l,i){var k=i.each;function j(){var m=this;m.items=[];m.urls={};m.lookup={}}j.prototype={get:function(m){if(this.lookup[m]){return this.lookup[m].instance}return g},dependencies:function(n){var m;if(this.lookup[n]){m=this.lookup[n].dependencies}return m||[]},requireLangPack:function(m,n){var o=j.language;if(o&&j.languageLoad!==false){if(n){n=","+n+",";if(n.indexOf(","+o.substr(0,2)+",")!=-1){o=o.substr(0,2)}else{if(n.indexOf(","+o+",")==-1){return}}}l.ScriptLoader.add(this.urls[m]+"/langs/"+o+".js")}},add:function(o,m,n){this.items.push(m);this.lookup[o]={instance:m,dependencies:n};return m},createUrl:function(m,n){if(typeof n==="object"){return n}return{prefix:m.prefix,resource:n,suffix:m.suffix}},addComponents:function(o,m){var n=this.urls[o];k(m,function(p){l.ScriptLoader.add(n+"/"+p)})},load:function(p,r,t,q,m){var n=this,o=r;function s(){var u=n.dependencies(p);k(u,function(w){var v=n.createUrl(r,w);n.load(v.resource,v,g,g)});if(t){if(q){t.call(q)}else{t.call(l)}}}if(m){n.urls[p]=g;n.lookup[p]=g}if(n.urls[p]){return}if(typeof r==="object"){o=r.prefix+r.resource+r.suffix}if(o.indexOf("/")!==0&&o.indexOf("://")==-1){o=j.baseURL+"/"+o}if(m){l.ScriptLoader.markUndefined(o)}n.urls[p]=o.substring(0,o.lastIndexOf("/"));if(n.lookup[p]){s()}else{l.ScriptLoader.add(o,s,q)}}};j.PluginManager=new j();j.ThemeManager=new j();return j});h("tinymce/dom/NodeType",[],function(){function p(q){return function(r){return !!r&&r.nodeType==q}}var j=p(1);function i(q){q=q.toLowerCase().split(" ");return function(t){var s,r;if(t&&t.nodeType){r=t.nodeName.toLowerCase();for(s=0;s<q.length;s++){if(r===q[s]){return true}}}return false}}function o(r,q){q=q.toLowerCase().split(" ");return function(u){var t,s;if(j(u)){for(t=0;t<q.length;t++){s=getComputedStyle(u,null).getPropertyValue(r);if(s===q[t]){return true}}}return false}}function n(q,r){return function(s){return j(s)&&s[q]===r}}function l(q,r){return function(s){return j(s)&&s.getAttribute(q)===r}}function k(q){return j(q)&&q.hasAttribute("data-mce-bogus")}function m(q){return function(r){if(j(r)){if(r.contentEditable===q){return true}if(r.getAttribute("data-mce-contenteditable")===q){return true}}return false}}return{isText:p(3),isElement:j,isComment:p(8),isBr:i("br"),isContentEditableTrue:m("true"),isContentEditableFalse:m("false"),matchNodeNames:i,hasPropValue:n,hasAttributeValue:l,matchStyleValues:o,isBogus:k}});h("tinymce/text/Zwsp",[],function(){var k="\u200b";function j(l){return l==k}function i(l){return l.replace(new RegExp(k,"g"),"")}return{isZwsp:j,ZWSP:k,trim:i}});h("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(j,q){var r=j.isElement,o=j.isText;function p(u){if(o(u)){u=u.parentNode}return r(u)&&u.hasAttribute("data-mce-caret")}function l(u){return o(u)&&q.isZwsp(u.data)}function i(u){return p(u)||l(u)}function n(w,x){var y,v,z,u;y=w.ownerDocument;z=y.createTextNode(q.ZWSP);u=w.parentNode;if(!x){v=w.nextSibling;if(o(v)){if(i(v)){return v}if(k(v)){v.splitText(1);return v}}if(w.nextSibling){u.insertBefore(z,w.nextSibling)}else{u.appendChild(z)}}else{v=w.previousSibling;if(o(v)){if(i(v)){return v}if(s(v)){return v.splitText(v.data.length-1)}}u.insertBefore(z,w)}return z}function t(v,x,y){var z,w,u;z=x.ownerDocument;w=z.createElement(v);w.setAttribute("data-mce-caret",y?"before":"after");w.setAttribute("data-mce-bogus","all");w.appendChild(z.createTextNode("\u00a0"));u=x.parentNode;if(!y){if(x.nextSibling){u.insertBefore(w,x.nextSibling)}else{u.appendChild(w)}}else{u.insertBefore(w,x)}return w}function m(u){var v;if(r(u)&&i(u)){if(u.innerHTML!="&nbsp;"){u.removeAttribute("data-mce-caret")}else{if(u.parentNode){u.parentNode.removeChild(u)}}}if(o(u)){v=q.trim(u.data);if(v.length===0){if(u.parentNode){u.parentNode.removeChild(u)}}u.nodeValue=v}}function k(u){return o(u)&&u.data[0]==q.ZWSP}function s(u){return o(u)&&u.data[u.data.length-1]==q.ZWSP}return{isCaretContainer:i,isCaretContainerBlock:p,isCaretContainerInline:l,insertInline:n,insertBlock:t,remove:m,startsWithCaretContainer:k,endsWithCaretContainer:s}});h("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretContainer"],function(k,q,j,o){var p=k.each,n=j.isContentEditableFalse,i=o.isCaretContainer;function m(s,t){var u=s.childNodes;t--;if(t>u.length-1){t=u.length-1}else{if(t<0){t=0}}return u[t]||s}function l(s){this.walk=function(t,I){var y=t.startContainer,B=t.startOffset,J=t.endContainer,C=t.endOffset,z,w,E,x,H,G,u;u=s.select("td.mce-item-selected,th.mce-item-selected");if(u.length>0){p(u,function(K){I([K])});return}function v(K){var L;L=K[0];if(L.nodeType===3&&L===y&&B>=L.nodeValue.length){K.splice(0,1)}L=K[K.length-1];if(C===0&&K.length>0&&L===J&&L.nodeType===3){K.splice(K.length-1,1)}return K}function F(M,L,K){var N=[];for(;M&&M!=K;M=M[L]){N.push(M)}return N}function D(L,K){do{if(L.parentNode==K){return L}L=L.parentNode}while(L)}function A(M,L,N){var K=N?"nextSibling":"previousSibling";for(x=M,H=x.parentNode;x&&x!=L;x=H){H=x.parentNode;G=F(x==M?x:x[K],K);if(G.length){if(!N){G.reverse()}I(v(G))}}}if(y.nodeType==1&&y.hasChildNodes()){y=y.childNodes[B]}if(J.nodeType==1&&J.hasChildNodes()){J=m(J,C)}if(y==J){return I(v([y]))}z=s.findCommonAncestor(y,J);for(x=y;x;x=x.parentNode){if(x===J){return A(y,z,true)}if(x===z){break}}for(x=J;x;x=x.parentNode){if(x===y){return A(J,z)}if(x===z){break}}w=D(y,z)||y;E=D(J,z)||J;A(y,w,true);G=F(w==y?w:w.nextSibling,"nextSibling",E==J?E.nextSibling:E);if(G.length){I(v(G))}A(J,E)};this.split=function(u){var x=u.startContainer,t=u.startOffset,y=u.endContainer,w=u.endOffset;function v(z,A){return z.splitText(A)}if(x==y&&x.nodeType==3){if(t>0&&t<x.nodeValue.length){y=v(x,t);x=y.previousSibling;if(w>t){w=w-t;x=y=v(y,w).previousSibling;w=y.nodeValue.length;t=0}else{w=0}}}else{if(x.nodeType==3&&t>0&&t<x.nodeValue.length){x=v(x,t);t=0}if(y.nodeType==3&&w>0&&w<y.nodeValue.length){y=v(y,w).previousSibling;w=y.nodeValue.length}}return{startContainer:x,startOffset:t,endContainer:y,endOffset:w}};this.normalize=function(t){var w,v;function u(A){var z,E,x,G=s.getRoot(),B,F;var I,C;function D(L){return L&&/^(TD|TH|CAPTION)$/.test(L.nodeName)}function K(L,M){var N=new q(L,s.getParent(L.parentNode,s.isBlock)||G);while((L=N[M?"prev":"next"]())){if(L.nodeName==="BR"){return true}}}function y(L){while(L&&L!=G){if(n(L)){return true}L=L.parentNode}return false}function H(M,L){return M.previousSibling&&M.previousSibling.nodeName==L}function J(O,L){var P,M,N;L=L||z;N=s.getParent(L.parentNode,s.isBlock)||G;if(O&&L.nodeName=="BR"&&C&&s.isEmpty(N)){z=L.parentNode;E=s.nodeIndex(L);w=true;return}P=new q(L,N);while((B=P[O?"prev":"next"]())){if(s.getContentEditableParent(B)==="false"||i(B)){return}if(B.nodeType===3&&B.nodeValue.length>0){z=B;E=O?B.nodeValue.length:0;w=true;return}if(s.isBlock(B)||F[B.nodeName.toLowerCase()]){return}M=B}if(v&&M){z=M;w=true;E=0}}z=t[(A?"start":"end")+"Container"];E=t[(A?"start":"end")+"Offset"];C=z.nodeType==1&&E===z.childNodes.length;F=s.schema.getNonEmptyElements();I=A;if(i(z)){return}if(z.nodeType==1&&E>z.childNodes.length-1){I=false}if(z.nodeType===9){z=s.getRoot();E=0}if(z===G){if(I){B=z.childNodes[E>0?E-1:0];if(B){if(i(B)){return}if(F[B.nodeName]||B.nodeName=="TABLE"){return}}}if(z.hasChildNodes()){E=Math.min(!I&&E>0?E-1:E,z.childNodes.length-1);z=z.childNodes[E];E=0;if(y(z)||i(z)){return}if(z.hasChildNodes()&&!/TABLE/.test(z.nodeName)){B=z;x=new q(z,G);do{if(n(B)||i(B)){w=false;break}if(B.nodeType===3&&B.nodeValue.length>0){E=I?0:B.nodeValue.length;z=B;w=true;break}if(F[B.nodeName.toLowerCase()]&&!D(B)){E=s.nodeIndex(B);z=B.parentNode;if(B.nodeName=="IMG"&&!I){E++}w=true;break}}while((B=(I?x.next():x.prev())))}}}if(v){if(z.nodeType===3&&E===0){J(true)}if(z.nodeType===1){B=z.childNodes[E];if(!B){B=z.childNodes[E-1]}if(B&&B.nodeName==="BR"&&!H(B,"A")&&!K(B)&&!K(B,true)){J(true,B)}}}if(I&&!v&&z.nodeType===3&&E===z.nodeValue.length){J(false)}if(w){t["set"+(A?"Start":"End")](z,E)}}v=t.collapsed;u(true);if(!v){u()}if(w&&v){t.collapse(true)}return w}}l.compareRanges=function(t,s){if(t&&s){if(t.item||t.duplicate){if(t.item&&s.item&&t.item(0)===s.item(0)){return true}if(t.isEqual&&s.isEqual&&s.isEqual(t)){return true}}else{return t.startContainer==s.startContainer&&t.startOffset==s.startOffset}}return false};function r(x,w,y){var v,s,t;v=y.elementFromPoint(x,w);s=y.body.createTextRange();if(v.tagName=="HTML"){v=y.body}s.moveToElementText(v);t=k.toArray(s.getClientRects());t=t.sort(function(A,z){A=Math.abs(Math.max(A.top-w,A.bottom-w));z=Math.abs(Math.max(z.top-w,z.bottom-w));return A-z});if(t.length>0){w=(t[0].bottom+t[0].top)/2;try{s.moveToPoint(x,w);s.collapse(true);return s}catch(u){}}return null}l.getCaretRangeFromPoint=function(w,v,x){var t,s;if(x.caretPositionFromPoint){s=x.caretPositionFromPoint(w,v);t=x.createRange();t.setStart(s.offsetNode,s.offset);t.collapse(true)}else{if(x.caretRangeFromPoint){t=x.caretRangeFromPoint(w,v)}else{if(x.body.createTextRange){t=x.body.createTextRange();try{t.moveToPoint(w,v);t.collapse(true)}catch(u){t=r(w,v,x)}}}}return t};l.getSelectedNode=function(t){var u=t.startContainer,s=t.startOffset;if(u.hasChildNodes()&&t.endOffset==s+1){return u.childNodes[s]}return null};l.getNode=function(s,t){if(s.nodeType==1&&s.hasChildNodes()){if(t>=s.childNodes.length){t=s.childNodes.length-1}s=s.childNodes[t]}return s};return l});h("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(j,i,k){return function(l){var n,m=[];function o(p){var q,r;r=l.$(p).parentsUntil(l.getBody()).add(p);if(r.length===m.length){for(q=r.length;q>=0;q--){if(r[q]!==m[q]){break}}if(q===-1){m=r;return true}}m=r;return false}if(!("onselectionchange" in l.getDoc())){l.on("NodeChange Click MouseUp KeyUp Focus",function(q){var r,p;r=l.selection.getRng();p={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};if(q.type=="nodechange"||!j.compareRanges(p,n)){l.fire("SelectionChange")}n=p})}l.on("contextmenu",function(){l.fire("SelectionChange")});l.on("SelectionChange",function(){var p=l.selection.getStart(true);if(!i.range&&l.selection.isCollapsed()){return}if(!o(p)&&l.dom.isChildOf(p,l.getBody())){l.nodeChanged({selectionChange:true})}});l.on("MouseUp",function(p){if(!p.isDefaultPrevented()){if(l.selection.getNode().nodeName=="IMG"){k.setEditorTimeout(l,function(){l.nodeChanged()})}else{l.nodeChanged()}}});this.nodeChanged=function(r){var s=l.selection,t,q,p;if(l.initialized&&s&&!l.settings.disable_nodechange&&!l.readonly){p=l.getBody();t=s.getStart()||p;t=t.ownerDocument!=l.getDoc()?l.getBody():t;if(t.nodeName=="IMG"&&s.isCollapsed()){t=t.parentNode}q=[];l.dom.getParent(t,function(u){if(u===p){return true}q.push(u)});r=r||{};r.element=t;r.parents=q;l.fire("NodeChange",r)}}}});h("tinymce/html/Node",[],function(){var k=/^[ \t\r\n]*$/,l={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function i(r,s,q){var p,o,m=q?"lastChild":"firstChild",n=q?"prev":"next";if(r[m]){return r[m]}if(r!==s){p=r[n];if(p){return p}for(o=r.parent;o&&o!==s;o=o.parent){p=o[n];if(p){return p}}}}function j(m,n){this.name=m;this.type=n;if(n===1){this.attributes=[];this.attributes.map={}}}j.prototype={replace:function(n){var m=this;if(n.parent){n.remove()}m.insert(n,m);m.remove();return m},attr:function(o,r){var m=this,n,p,q;if(typeof o!=="string"){for(p in o){m.attr(p,o[p])}return m}if((n=m.attributes)){if(r!==q){if(r===null){if(o in n.map){delete n.map[o];p=n.length;while(p--){if(n[p].name===o){n=n.splice(p,1);return m}}}return m}if(o in n.map){p=n.length;while(p--){if(n[p].name===o){n[p].value=r;break}}}else{n.push({name:o,value:r})}n.map[o]=r;return m}return n.map[o]}},clone:function(){var n=this,s=new j(n.name,n.type),o,m,r,p,q;if((r=n.attributes)){q=[];q.map={};for(o=0,m=r.length;o<m;o++){p=r[o];if(p.name!=="id"){q[q.length]={name:p.name,value:p.value};q.map[p.name]=p.value}}s.attributes=q}s.value=n.value;s.shortEnded=n.shortEnded;return s},wrap:function(n){var m=this;m.parent.insert(n,m);n.append(m);return m},unwrap:function(){var m=this,o,n;for(o=m.firstChild;o;){n=o.next;m.insert(o,m,true);o=n}m.remove()},remove:function(){var m=this,o=m.parent,n=m.next,p=m.prev;if(o){if(o.firstChild===m){o.firstChild=n;if(n){n.prev=null}}else{p.next=n}if(o.lastChild===m){o.lastChild=p;if(p){p.next=null}}else{n.prev=p}m.parent=m.next=m.prev=null}return m},append:function(o){var m=this,n;if(o.parent){o.remove()}n=m.lastChild;if(n){n.next=o;o.prev=n;m.lastChild=o}else{m.lastChild=m.firstChild=o}o.parent=m;return o},insert:function(o,m,p){var n;if(o.parent){o.remove()}n=m.parent||this;if(p){if(m===n.firstChild){n.firstChild=o}else{m.prev.next=o}o.prev=m.prev;o.next=m;m.prev=o}else{if(m===n.lastChild){n.lastChild=o}else{m.next.prev=o}o.next=m.next;o.prev=m;m.next=o}o.parent=n;return o},getAll:function(n){var m=this,o,p=[];for(o=m.firstChild;o;o=i(o,m)){if(o.name===n){p.push(o)}}return p},empty:function(){var n=this,m,o,p;if(n.firstChild){m=[];for(p=n.firstChild;p;p=i(p,n)){m.push(p)}o=m.length;while(o--){p=m[o];p.parent=p.firstChild=p.lastChild=p.next=p.prev=null}}n.firstChild=n.lastChild=null;return n},isEmpty:function(q){var m=this,p=m.firstChild,o,n;if(p){do{if(p.type===1){if(p.attributes.map["data-mce-bogus"]){continue}if(q[p.name]){return false}o=p.attributes.length;while(o--){n=p.attributes[o].name;if(n==="name"||n.indexOf("data-mce-bookmark")===0){return false}}}if(p.type===8){return false}if((p.type===3&&!k.test(p.value))){return false}}while((p=i(p,m)))}return true},walk:function(m){return i(this,null,m)}};j.create=function(n,m){var p,o;p=new j(n,l[n]||1);if(m){for(o in m){p.attr(o,m[o])}}return p};return j});h("tinymce/html/Schema",["tinymce/util/Tools"],function(j){var k={},m={};var l=j.makeMap,q=j.each,n=j.extend,p=j.explode,s=j.inArray;function o(t,u){return t?t.split(u||" "):[]}function r(A){var x={},B,u;var y,z,t,w;function C(G,D,J){var I,H,K,F=arguments;function E(P,O){var N={},M,L;for(M=0,L=P.length;M<L;M++){N[P[M]]=O||{}}return N}J=J||[];D=D||"";if(typeof J==="string"){J=o(J)}for(H=3;H<F.length;H++){if(typeof F[H]==="string"){F[H]=o(F[H])}J.push.apply(J,F[H])}G=o(G);I=G.length;while(I--){K=[].concat(B,o(D));x[G[I]]={attributes:E(K),attributesOrder:K,children:E(J,m)}}}function v(G,F){var I,E,H,D;G=o(G);I=G.length;F=o(F);while(I--){E=x[G[I]];for(H=0,D=F.length;H<D;H++){E.attributes[F[H]]={};E.attributesOrder.push(F[H])}}}if(k[A]){return k[A]}B=o("id accesskey class dir lang style tabindex title");u=o("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");y=o("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");if(A!="html4"){B.push.apply(B,o("contenteditable contextmenu draggable dropzone hidden spellcheck translate"));u.push.apply(u,o("article aside details dialog figure header footer hgroup section nav"));y.push.apply(y,o("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))}if(A!="html5-strict"){B.push("xml:lang");w=o("acronym applet basefont big font strike tt");y.push.apply(y,w);q(w,function(D){C(D,"",y)});t=o("center dir isindex noframes");u.push.apply(u,t);z=[].concat(u,y);q(t,function(D){C(D,"",z)})}z=z||[].concat(u,y);C("html","manifest","head body");C("head","","base command link meta noscript script style title");C("title hr noscript br");C("base","href target");C("link","href rel media hreflang type sizes hreflang");C("meta","name http-equiv content charset");C("style","media type scoped");C("script","src async defer type charset");C("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",z);C("address dt dd div caption","",z);C("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",y);C("blockquote","cite",z);C("ol","reversed start type","li");C("ul","","li");C("li","value",z);C("dl","","dt dd");C("a","href target rel media hreflang type",y);C("q","cite",y);C("ins del","cite datetime",z);C("img","src sizes srcset alt usemap ismap width height");C("iframe","src name width height",z);C("embed","src type width height");C("object","data type typemustmatch name usemap form width height",z,"param");C("param","name value");C("map","name",z,"area");C("area","alt coords shape href target rel media hreflang type");C("table","border","caption colgroup thead tfoot tbody tr"+(A=="html4"?" col":""));C("colgroup","span","col");C("col","span");C("tbody thead tfoot","","tr");C("tr","","td th");C("td","colspan rowspan headers",z);C("th","colspan rowspan headers scope abbr",z);C("form","accept-charset action autocomplete enctype method name novalidate target",z);C("fieldset","disabled form name",z,"legend");C("label","form for",y);C("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");C("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",A=="html4"?z:y);C("select","disabled form multiple name required size","option optgroup");C("optgroup","disabled label","option");C("option","disabled label selected value");C("textarea","cols dirname disabled form maxlength name readonly required rows wrap");C("menu","type label",z,"li");C("noscript","",z);if(A!="html4"){C("wbr");C("ruby","",y,"rt rp");C("figcaption","",z);C("mark rt rp summary bdi","",y);C("canvas","width height",z);C("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",z,"track source");C("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",z,"track source");C("picture","","img source");C("source","src srcset type media sizes");C("track","kind src srclang label default");C("datalist","",y,"option");C("article section nav aside header footer","",z);C("hgroup","","h1 h2 h3 h4 h5 h6");C("figure","",z,"figcaption");C("time","datetime",y);C("dialog","open",z);C("command","type label icon disabled checked radiogroup command");C("output","for form name",y);C("progress","value max",y);C("meter","value min max low high optimum",y);C("details","open",z,"summary");C("keygen","autofocus challenge disabled form keytype name")}if(A!="html5-strict"){v("script","language xml:space");v("style","xml:space");v("object","declare classid code codebase codetype archive standby align border hspace vspace");v("embed","align name hspace vspace");v("param","valuetype type");v("a","charset name rev shape coords");v("br","clear");v("applet","codebase archive code object alt name width height align hspace vspace");v("img","name longdesc align border hspace vspace");v("iframe","longdesc frameborder marginwidth marginheight scrolling align");v("font basefont","size color face");v("input","usemap align");v("select","onchange");v("textarea");v("h1 h2 h3 h4 h5 h6 div p legend caption","align");v("ul","type compact");v("li","type");v("ol dl menu dir","compact");v("pre","width xml:space");v("hr","align noshade size width");v("isindex","prompt");v("table","summary width frame rules cellspacing cellpadding align bgcolor");v("col","width align char charoff valign");v("colgroup","width align char charoff valign");v("thead","align char charoff valign");v("tr","align char charoff valign bgcolor");v("th","axis align char charoff valign nowrap bgcolor width height");v("form","accept");v("td","abbr axis scope align char charoff valign nowrap bgcolor width height");v("tfoot","align char charoff valign");v("tbody","align char charoff valign");v("area","nohref");v("body","background bgcolor text link vlink alink")}if(A!="html4"){v("input button select textarea","autofocus");v("input textarea","placeholder");v("a","download");v("link script img","crossorigin");v("iframe","sandbox seamless allowfullscreen")}q(o("a form meter progress dfn"),function(D){if(x[D]){delete x[D].children[D]}});delete x.caption.children.table;delete x.script;k[A]=x;return x}function i(u,v){var t;if(u){t={};if(typeof u=="string"){u={"*":u}}q(u,function(x,w){t[w]=t[w.toUpperCase()]=v=="map"?l(x,/[, ]/):p(x,/[, ]/)})}return t}return function(P){var K=this,I={},x={},w=[],T,t,N;var D,F,O,G,H;var L,C,B,u,S;var E={},y={};function A(W,U,V){var X=P[W];if(!X){X=k[W];if(!X){X=l(U," ",l(U.toUpperCase()," "));X=n(X,V);k[W]=X}}else{X=l(X,/[, ]/,l(X.toUpperCase(),/[, ]/))}return X}P=P||{};N=r(P.schema);if(P.verify_html===false){P.valid_elements="*[*]"}T=i(P.valid_styles);t=i(P.invalid_styles,"map");H=i(P.valid_classes,"map");D=A("whitespace_elements","pre script noscript style textarea video audio iframe object");F=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");O=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");G=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");C=A("non_empty_elements","td th iframe video audio object script",O);B=A("move_caret_before_on_enter_elements","table",C);u=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");L=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",u);S=A("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");q((P.special||"script noscript style textarea").split(" "),function(U){y[U]=new RegExp("</"+U+"[^>]*>","gi")});function v(U){return new RegExp("^"+U.replace(/([?+*])/g,".$1")+"$")}function R(ag){var aa,W,aq,am,V,Y,ak,ao,ae,ap,ar,ad,Z,an,U,ah,X,at,aj,ac=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,af=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ab=/[*?+]/;if(ag){ag=o(ag,",");if(I["@"]){ah=I["@"].attributes;X=I["@"].attributesOrder}for(aa=0,W=ag.length;aa<W;aa++){V=ac.exec(ag[aa]);if(V){an=V[1];ae=V[2];U=V[3];ao=V[5];ad={};Z=[];Y={attributes:ad,attributesOrder:Z};if(an==="#"){Y.paddEmpty=true}if(an==="-"){Y.removeEmpty=true}if(V[4]==="!"){Y.removeEmptyAttrs=true}if(ah){for(at in ah){ad[at]=ah[at]}Z.push.apply(Z,X)}if(ao){ao=o(ao,"|");for(aq=0,am=ao.length;aq<am;aq++){V=af.exec(ao[aq]);if(V){ak={};ar=V[1];ap=V[2].replace(/::/g,":");an=V[3];aj=V[4];if(ar==="!"){Y.attributesRequired=Y.attributesRequired||[];Y.attributesRequired.push(ap);ak.required=true}if(ar==="-"){delete ad[ap];Z.splice(s(Z,ap),1);continue}if(an){if(an==="="){Y.attributesDefault=Y.attributesDefault||[];Y.attributesDefault.push({name:ap,value:aj});ak.defaultValue=aj}if(an===":"){Y.attributesForced=Y.attributesForced||[];Y.attributesForced.push({name:ap,value:aj});ak.forcedValue=aj}if(an==="<"){ak.validValues=l(aj,"?")}}if(ab.test(ap)){Y.attributePatterns=Y.attributePatterns||[];ak.pattern=v(ap);Y.attributePatterns.push(ak)}else{if(!ad[ap]){Z.push(ap)}ad[ap]=ak}}}}if(!ah&&ae=="@"){ah=ad;X=Z}if(U){Y.outputName=ae;I[U]=Y}if(ab.test(ae)){Y.pattern=v(ae);w.push(Y)}else{I[ae]=Y}}}}}function J(U){I={};w=[];R(U);q(N,function(W,V){x[V]=W.children})}function z(V){var U=/^(~)?(.+)$/;if(V){k.text_block_elements=k.block_elements=null;q(o(V,","),function(aa){var Y=U.exec(aa),Z=Y[1]==="~",ab=Z?"span":"div",X=Y[2];x[X]=x[ab];E[X]=ab;if(!Z){L[X.toUpperCase()]={};L[X]={}}if(!I[X]){var W=I[ab];W=n({},W);delete W.removeEmptyAttrs;delete W.removeEmpty;I[X]=W}q(x,function(ac,ad){if(ac[ab]){x[ad]=ac=n({},x[ad]);ac[X]=ac[ab]}})})}}function M(U){var V=/^([+\-]?)(\w+)\[([^\]]+)\]$/;k[P.schema]=null;if(U){q(o(U,","),function(Z){var Y=V.exec(Z),W,X;if(Y){X=Y[1];if(X){W=x[Y[2]]}else{W=x[Y[2]]={"#comment":{}}}W=x[Y[2]];q(o(Y[3],"|"),function(aa){if(X==="-"){delete W[aa]}else{W[aa]={}}})}})}}function Q(U){var W=I[U],V;if(W){return W}V=w.length;while(V--){W=w[V];if(W.pattern.test(U)){return W}}}if(!P.valid_elements){q(N,function(V,U){I[U]={attributes:V.attributes,attributesOrder:V.attributesOrder};x[U]=V.children});if(P.schema!="html5"){q(o("strong/b em/i"),function(U){U=o(U,"/");I[U[1]].outputName=U[0]})}I.img.attributesDefault=[{name:"alt",value:""}];q(o("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(U){if(I[U]){I[U].removeEmpty=true}});q(o("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(U){I[U].paddEmpty=true});q(o("span"),function(U){I[U].removeEmptyAttrs=true})}else{J(P.valid_elements)}z(P.custom_elements);M(P.valid_children);R(P.extended_valid_elements);M("+ol[ul|ol],+ul[ul|ol]");if(P.invalid_elements){q(p(P.invalid_elements),function(U){if(I[U]){delete I[U]}})}if(!Q("span")){R("span[!data-mce-type|*]")}K.children=x;K.getValidStyles=function(){return T};K.getInvalidStyles=function(){return t};K.getValidClasses=function(){return H};K.getBoolAttrs=function(){return G};K.getBlockElements=function(){return L};K.getTextBlockElements=function(){return u};K.getTextInlineElements=function(){return S};K.getShortEndedElements=function(){return O};K.getSelfClosingElements=function(){return F};K.getNonEmptyElements=function(){return C};K.getMoveCaretBeforeOnEnterElements=function(){return B};K.getWhiteSpaceElements=function(){return D};K.getSpecialElements=function(){return y};K.isValidChild=function(U,W){var V=x[U];return !!(V&&V[W])};K.isValid=function(V,U){var X,W,Y=Q(V);if(Y){if(U){if(Y.attributes[U]){return true}X=Y.attributePatterns;if(X){W=X.length;while(W--){if(X[W].pattern.test(V)){return true}}}}else{return true}}return false};K.getElementRule=Q;K.getCustomElements=function(){return E};K.addValidElements=R;K.setValidElements=J;K.addCustomElements=z;K.addValidChildren=M;K.elements=I}});h("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,n,k){var m=k.each;function j(s,q,v){var r=1,o,u,t,p;p=s.getShortEndedElements();t=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;t.lastIndex=o=v;while((u=t.exec(q))){o=t.lastIndex;if(u[1]==="/"){r--}else{if(!u[1]){if(u[2] in p){continue}r++}}if(r===0){break}}return o}function i(p,r){var o=this;function q(){}p=p||{};o.schema=r=r||new l();if(p.fix_self_closing!==false){p.fix_self_closing=true}m("comment cdata text start end pi doctype".split(" "),function(s){if(s){o[s]=p[s]||q}});o.parse=function(P){var B=this,t,R=0,U,M,L=[],Z,ac,N,D;var K,E,Y,S,aa;var H,A,x,F,ae,ab,Q;var af,X,s;var ad,V,y,O,W,u,I=0;var w=n.decode,J,T=k.makeMap("src,href,data,background,formaction,poster");var v=/((java|vb)script|mhtml):/i,z=/^data:/i;function G(ag){var ai,ah;ai=L.length;while(ai--){if(L[ai].name===ag){break}}if(ai>=0){for(ah=L.length-1;ah>=ai;ah--){ag=L[ah];if(ag.valid){B.end(ag.name)}}L.length=ai}}function C(al,ah,ap,an,am){var aj,ak,ag=/[\s\u0000-\u001F]+/g;ah=ah.toLowerCase();ap=ah in S?ah:w(ap||an||am||"");if(H&&!K&&ah.indexOf("data-")!==0){aj=ab[ah];if(!aj&&Q){ak=Q.length;while(ak--){aj=Q[ak];if(aj.pattern.test(ah)){break}}if(ak===-1){aj=null}}if(!aj){return}if(aj.validValues&&!(ap in aj.validValues)){return}}if(T[ah]&&!p.allow_script_urls){var ai=ap.replace(ag,"");try{ai=decodeURIComponent(ai)}catch(ao){ai=unescape(ai)}if(v.test(ai)){return}if(!p.allow_html_data_urls&&z.test(ai)&&!/^data:image\//i.test(ai)){return}}Z.map[ah]=ap;Z.push({name:ah,value:ap})}y=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");O=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;Y=r.getShortEndedElements();V=p.self_closing_elements||r.getSelfClosingElements();S=r.getBoolAttrs();H=p.validate;E=p.remove_internals;J=p.fix_self_closing;W=r.getSpecialElements();while((t=y.exec(P))){if(R<t.index){B.text(w(P.substr(R,t.index-R)))}if((U=t[6])){U=U.toLowerCase();if(U.charAt(0)===":"){U=U.substr(1)}G(U)}else{if((U=t[7])){U=U.toLowerCase();if(U.charAt(0)===":"){U=U.substr(1)}aa=U in Y;if(J&&V[U]&&L.length>0&&L[L.length-1].name===U){G(U)}if(!H||(A=r.getElementRule(U))){x=true;if(H){ab=A.attributes;Q=A.attributePatterns}if((ae=t[8])){K=ae.indexOf("data-mce-type")!==-1;if(K&&E){x=false}Z=[];Z.map={};ae.replace(O,C)}else{Z=[];Z.map={}}if(H&&!K){af=A.attributesRequired;X=A.attributesDefault;s=A.attributesForced;ad=A.removeEmptyAttrs;if(ad&&!Z.length){x=false}if(s){ac=s.length;while(ac--){F=s[ac];D=F.name;u=F.value;if(u==="{$uid}"){u="mce_"+I++}Z.map[D]=u;Z.push({name:D,value:u})}}if(X){ac=X.length;while(ac--){F=X[ac];D=F.name;if(!(D in Z.map)){u=F.value;if(u==="{$uid}"){u="mce_"+I++}Z.map[D]=u;Z.push({name:D,value:u})}}}if(af){ac=af.length;while(ac--){if(af[ac] in Z.map){break}}if(ac===-1){x=false}}if((F=Z.map["data-mce-bogus"])){if(F==="all"){R=j(r,P,y.lastIndex);y.lastIndex=R;continue}x=false}}if(x){B.start(U,Z,aa)}}else{x=false}if((M=W[U])){M.lastIndex=R=t.index+t[0].length;if((t=M.exec(P))){if(x){N=P.substr(R,t.index-R)}R=t.index+t[0].length}else{N=P.substr(R);R=P.length}if(x){if(N.length>0){B.text(N,true)}B.end(U)}y.lastIndex=R;continue}if(!aa){if(!ae||ae.indexOf("/")!=ae.length-1){L.push({name:U,valid:x})}else{if(x){B.end(U)}}}}else{if((U=t[1])){if(U.charAt(0)===">"){U=" "+U}if(!p.allow_conditional_comments&&U.substr(0,3)==="[if"){U=" "+U}B.comment(U)}else{if((U=t[2])){B.cdata(U)}else{if((U=t[3])){B.doctype(U)}else{if((U=t[4])){B.pi(U,t[5])}}}}}}R=t.index+t[0].length}if(R<P.length){B.text(w(P.substr(R)))}for(ac=L.length-1;ac>=0;ac--){U=L[ac];if(U.valid){B.end(U.name)}}}}i.findEndTag=j;return i});h("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(k,m,i,j){var n=j.makeMap,o=j.each,l=j.explode,p=j.extend;return function(u,v){var t=this,s={},r=[],w={},q={};u=u||{};u.validate="validate" in u?u.validate:true;u.root_name=u.root_name||"body";t.schema=v=v||new m();function x(C){var E,F,L,K,N,D,G,z,J;var y,I,B,A,M,H;I=n("tr,td,th,tbody,thead,tfoot,table");y=v.getNonEmptyElements();B=v.getTextBlockElements();A=v.getSpecialElements();for(E=0;E<C.length;E++){F=C[E];if(!F.parent||F.fixed){continue}if(B[F.name]&&F.parent.name=="li"){M=F.next;while(M){if(B[M.name]){M.name="li";M.fixed=true;F.parent.insert(M,F.parent)}else{break}M=M.next}F.unwrap(F);continue}K=[F];for(L=F.parent;L&&!v.isValidChild(L.name,F.name)&&!I[L.name];L=L.parent){K.push(L)}if(L&&K.length>1){K.reverse();N=D=t.filterNode(K[0].clone());for(J=0;J<K.length-1;J++){if(v.isValidChild(D.name,K[J].name)){G=t.filterNode(K[J].clone());D.append(G)}else{G=D}for(z=K[J].firstChild;z&&z!=K[J+1];){H=z.next;G.append(z);z=H}D=G}if(!N.isEmpty(y)){L.insert(N,K[0],true);L.insert(F,N)}else{L.insert(F,K[0],true)}L=K[0];if(L.isEmpty(y)||L.firstChild===L.lastChild&&L.firstChild.name==="br"){L.empty().remove()}}else{if(F.parent){if(F.name==="li"){M=F.prev;if(M&&(M.name==="ul"||M.name==="ul")){M.append(F);continue}M=F.next;if(M&&(M.name==="ul"||M.name==="ul")){M.insert(F,M.firstChild,true);continue}F.wrap(t.filterNode(new k("ul",1)));continue}if(v.isValidChild(F.parent.name,"div")&&v.isValidChild("div",F.name)){F.wrap(t.filterNode(new k("div",1)))}else{if(A[F.name]){F.empty().remove()}else{F.unwrap()}}}}}}t.filterNode=function(A){var z,y,B;if(y in s){B=w[y];if(B){B.push(A)}else{w[y]=[A]}}z=r.length;while(z--){y=r[z].name;if(y in A.attributes.map){B=q[y];if(B){B.push(A)}else{q[y]=[A]}}}return A};t.addNodeFilter=function(y,z){o(l(y),function(A){var B=s[A];if(!B){s[A]=B=[]}B.push(z)})};t.addAttributeFilter=function(y,z){o(l(y),function(A){var B;for(B=0;B<r.length;B++){if(r[B].name===A){r[B].callbacks.push(z);return}}r.push({name:A,callbacks:[z]})})};t.parse=function(I,z){var A,V,N,M,P,O,J,E,R,Z,L;var B,Q,Y=[],X;var G,y,K,F;var C,H,D;z=z||{};w={};q={};B=p(n("script,style,head,html,body,title,meta,param"),v.getBlockElements());H=v.getNonEmptyElements();C=v.children;L=u.validate;D="forced_root_block" in z?z.forced_root_block:u.forced_root_block;F=v.getWhiteSpaceElements();Q=/^[ \t\r\n]+/;G=/[ \t\r\n]+$/;y=/[ \t\r\n]+/g;K=/^[ \t\r\n]+$/;function S(){var ac=V.firstChild,ab,ad;function aa(ae){if(ae){ac=ae.firstChild;if(ac&&ac.type==3){ac.value=ac.value.replace(Q,"")}ac=ae.lastChild;if(ac&&ac.type==3){ac.value=ac.value.replace(G,"")}}}if(!v.isValidChild(V.name,D.toLowerCase())){return}while(ac){ab=ac.next;if(ac.type==3||(ac.type==1&&ac.name!=="p"&&!B[ac.name]&&!ac.attr("data-mce-type"))){if(!ad){ad=W(D,1);ad.attr(u.forced_root_block_attrs);V.insert(ad,ac);ad.append(ac)}else{ad.append(ac)}}else{aa(ad);ad=null}ac=ab}aa(ad)}function W(aa,ab){var ac=new k(aa,ab),ad;if(aa in s){ad=w[aa];if(ad){ad.push(ac)}else{w[aa]=[ac]}}return ac}function U(ad){var ae,af,aa,ab,ac=v.getBlockElements();for(ae=ad.prev;ae&&ae.type===3;){aa=ae.value.replace(G,"");if(aa.length>0){ae.value=aa;return}af=ae.next;if(af){if(af.type==3&&af.value.length){ae=ae.prev;continue}if(!ac[af.name]&&af.name!="script"&&af.name!="style"){ae=ae.prev;continue}}ab=ae.prev;ae.remove();ae=ab}}function T(ab){var ac,aa={};for(ac in ab){if(ac!=="li"&&ac!="p"){aa[ac]=ab[ac]}}return aa}A=new i({validate:L,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:T(v.getSelfClosingElements()),cdata:function(aa){N.append(W("#cdata",4)).value=aa},text:function(ac,aa){var ab;if(!X){ac=ac.replace(y," ");if(N.lastChild&&B[N.lastChild.name]){ac=ac.replace(Q,"")}}if(ac.length!==0){ab=W("#text",3);ab.raw=!!aa;N.append(ab).value=ac}},comment:function(aa){N.append(W("#comment",8)).value=aa},pi:function(aa,ab){N.append(W(aa,7)).value=ab;U(N)},doctype:function(ab){var aa;aa=N.append(W("#doctype",10));aa.value=ab;U(N)},start:function(ac,ab,ah){var ae,aa,ag,ad,af;ag=L?v.getElementRule(ac):{};if(ag){ae=W(ag.outputName||ac,1);ae.attributes=ab;ae.shortEnded=ah;N.append(ae);af=C[N.name];if(af&&C[ae.name]&&!af[ae.name]){Y.push(ae)}aa=r.length;while(aa--){ad=r[aa].name;if(ad in ab.map){R=q[ad];if(R){R.push(ae)}else{q[ad]=[ae]}}}if(B[ac]){U(ae)}if(!ah){N=ae}if(!X&&F[ac]){X=true}}},end:function(aa){var af,ac,ae,ab,ad;ac=L?v.getElementRule(aa):{};if(ac){if(B[aa]){if(!X){af=N.firstChild;if(af&&af.type===3){ae=af.value.replace(Q,"");if(ae.length>0){af.value=ae;af=af.next}else{ab=af.next;af.remove();af=ab;while(af&&af.type===3){ae=af.value;ab=af.next;if(ae.length===0||K.test(ae)){af.remove();af=ab}af=ab}}}af=N.lastChild;if(af&&af.type===3){ae=af.value.replace(G,"");if(ae.length>0){af.value=ae;af=af.prev}else{ab=af.prev;af.remove();af=ab;while(af&&af.type===3){ae=af.value;ab=af.prev;if(ae.length===0||K.test(ae)){af.remove();af=ab}af=ab}}}}}if(X&&F[aa]){X=false}if(ac.removeEmpty||ac.paddEmpty){if(N.isEmpty(H)){if(ac.paddEmpty){N.empty().append(new k("#text","3")).value="\u00a0"}else{if(!N.attributes.map.name&&!N.attributes.map.id){ad=N.parent;if(B[N.name]){N.empty().remove()}else{N.unwrap()}N=ad;return}}}}N=N.parent}}},v);V=N=new k(z.context||u.root_name,11);A.parse(I);if(L&&Y.length){if(!z.context){x(Y)}else{z.invalid=true}}if(D&&(V.name=="body"||z.isRootContent)){S()}if(!z.invalid){for(Z in w){R=s[Z];M=w[Z];J=M.length;while(J--){if(!M[J].parent){M.splice(J,1)}}for(P=0,O=R.length;P<O;P++){R[P](M,Z,z)}}for(P=0,O=r.length;P<O;P++){R=r[P];if(R.name in q){M=q[R.name];J=M.length;while(J--){if(!M[J].parent){M.splice(J,1)}}for(J=0,E=R.callbacks.length;J<E;J++){R.callbacks[J](M,R.name,z)}}}}return V};if(u.remove_trailing_brs){t.addNodeFilter("br",function(z){var E,D=z.length,A,J=p({},v.getBlockElements());var y=v.getNonEmptyElements(),H,F,C,I;var G,B;J.body=1;for(E=0;E<D;E++){A=z[E];H=A.parent;if(J[A.parent.name]&&A===H.lastChild){C=A.prev;while(C){I=C.name;if(I!=="span"||C.attr("data-mce-type")!=="bookmark"){if(I!=="br"){break}if(I==="br"){A=null;break}}C=C.prev}if(A){A.remove();if(H.isEmpty(y)){G=v.getElementRule(H.name);if(G){if(G.removeEmpty){H.remove()}else{if(G.paddEmpty){H.empty().append(new k("#text",3)).value="\u00a0"}}}}}}else{F=A;while(H&&H.firstChild===F&&H.lastChild===F){F=H;if(J[H.name]){break}H=H.parent}if(F===H){B=new k("#text",3);B.value="\u00a0";A.replace(B)}}}})}if(!u.allow_html_in_named_anchor){t.addAttributeFilter("id,name",function(y){var A=y.length,C,z,B,D;while(A--){D=y[A];if(D.name==="a"&&D.firstChild&&!D.attr("href")){B=D.parent;C=D.lastChild;do{z=C.prev;B.insert(C,D);C=z}while(C)}}})}if(u.validate&&v.getValidClasses()){t.addAttributeFilter("class",function(z){var D=z.length,C,A,H,F,B;var G=v.getValidClasses(),E,y;while(D--){C=z[D];A=C.attr("class").split(" ");B="";for(H=0;H<A.length;H++){F=A[H];y=false;E=G["*"];if(E&&E[F]){y=true}E=G[C.name];if(!y&&E&&E[F]){y=true}if(y){if(B){B+=" "}B+=F}}if(!B.length){B=null}C.attr("class",B)}})}}});h("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(k,i){var j=i.makeMap;return function(p){var n=[],l,m,o,q,r;p=p||{};l=p.indent;m=j(p.indent_before||"");o=j(p.indent_after||"");q=k.getEncodeFunc(p.entity_encoding||"raw",p.entities);r=p.element_format=="html";return{start:function(v,u,y){var w,t,s,x;if(l&&m[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}n.push("<",v);if(u){for(w=0,t=u.length;w<t;w++){s=u[w];n.push(" ",s.name,'="',q(s.value,true),'"')}}if(!y||r){n[n.length]=">"}else{n[n.length]=" />"}if(y&&l&&o[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}},end:function(s){var t;n.push("</",s,">");if(l&&o[s]&&n.length>0){t=n[n.length-1];if(t.length>0&&t!=="\n"){n.push("\n")}}},text:function(t,s){if(t.length>0){n[n.length]=s?t:q(t)}},cdata:function(s){n.push("<![CDATA[",s,"]]>")},comment:function(s){n.push("<!--",s,"-->")},pi:function(s,t){if(t){n.push("<?",s," ",q(t),"?>")}else{n.push("<?",s,"?>")}if(l){n.push("\n")}},doctype:function(s){n.push("<!DOCTYPE",s,">",l?"\n":"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}}});h("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(j,i){return function(l,m){var k=this,n=new j(l);l=l||{};l.validate="validate" in l?l.validate:true;k.schema=m=m||new i();k.writer=n;k.serialize=function(q){var p,r;r=l.validate;p={3:function(s){n.text(s.value,s.raw)},8:function(s){n.comment(s.value)},7:function(s){n.pi(s.name,s.value)},10:function(s){n.doctype(s.value)},4:function(s){n.cdata(s.value)},11:function(s){if((s=s.firstChild)){do{o(s)}while((s=s.next))}}};n.reset();function o(t){var B=p[t.type],s,w,A,z,x,C,v,u,y;if(!B){s=t.name;w=t.shortEnded;A=t.attributes;if(r&&A&&A.length>1){C=[];C.map={};y=m.getElementRule(t.name);if(y){for(v=0,u=y.attributesOrder.length;v<u;v++){z=y.attributesOrder[v];if(z in A.map){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}for(v=0,u=A.length;v<u;v++){z=A[v].name;if(!(z in C.map)){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}A=C}}n.start(t.name,A,w);if(!w){if((t=t.firstChild)){do{o(t)}while((t=t.next))}n.end(s)}}else{B(t)}}if(q.type==1&&!l.inner){o(q)}else{p[11](q)}return n.getContent()}}});h("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(r,w,u,k,q,o,n,p,j,m){var t=j.each,i=j.trim;var v=r.DOM;var l=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");function s(y){var A,z;function x(B){return B&&B.name==="br"}A=y.lastChild;if(x(A)){z=A.prev;if(x(z)){A.remove();z.remove()}}}return function(A,z){var C,B,y;if(z){C=z.dom;B=z.schema}function x(){var I=z.getBody().innerHTML;var G=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var D,E,K,J,F,H=z.schema;I=m.trim(I.replace(l,""));F=H.getShortEndedElements();while((J=G.exec(I))){E=G.lastIndex;K=J[0].length;if(F[J[1]]){D=E}else{D=u.findEndTag(H,I,E)}I=I.substring(0,E-K)+I.substring(D);G.lastIndex=E-K}return i(I)}C=C||v;B=B||new n(A);A.entity_encoding=A.entity_encoding||"named";A.remove_trailing_brs="remove_trailing_brs" in A?A.remove_trailing_brs:true;y=new w(A,B);y.addAttributeFilter("data-mce-tabindex",function(D,E){var F=D.length,G;while(F--){G=D[F];G.attr("tabindex",G.attributes.map["data-mce-tabindex"]);G.attr(E,null)}});y.addAttributeFilter("src,href,style",function(E,D){var I=E.length,F,K,H="data-mce-"+D;var J=A.url_converter,L=A.url_converter_scope,G;while(I--){F=E[I];K=F.attributes.map[H];if(K!==G){F.attr(D,K.length>0?K:null);F.attr(H,null)}else{K=F.attributes.map[D];if(D==="style"){K=C.serializeStyle(C.parseStyle(K),F.name)}else{if(J){K=J.call(L,K,D,F.name)}}F.attr(D,K.length>0?K:null)}}});y.addAttributeFilter("class",function(D){var E=D.length,F,G;while(E--){F=D[E];G=F.attr("class");if(G){G=F.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");F.attr("class",G.length>0?G:null)}}});y.addAttributeFilter("data-mce-type",function(D,F,E){var G=D.length,H;while(G--){H=D[G];if(H.attributes.map["data-mce-type"]==="bookmark"&&!E.cleanup){H.remove()}}});y.addNodeFilter("noscript",function(D){var E=D.length,F;while(E--){F=D[E].firstChild;if(F){F.value=k.decode(F.value)}}});y.addNodeFilter("script,style",function(E,F){var G=E.length,I,J,H;function D(K){return K.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(G--){I=E[G];J=I.firstChild?I.firstChild.value:"";if(F==="script"){H=I.attr("type");if(H){I.attr("type",H=="mce-no/type"?null:H.replace(/^mce\-/,""))}if(J.length>0){I.firstChild.value="// <![CDATA[\n"+D(J)+"\n// ]]>"}}else{if(J.length>0){I.firstChild.value="<!--\n"+D(J)+"\n-->"}}}});y.addNodeFilter("#comment",function(D){var E=D.length,F;while(E--){F=D[E];if(F.value.indexOf("[CDATA[")===0){F.name="#cdata";F.type=4;F.value=F.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(F.value.indexOf("mce:protected ")===0){F.name="#text";F.type=3;F.raw=true;F.value=unescape(F.value).substr(14)}}}});y.addNodeFilter("xml:namespace,input",function(D,E){var F=D.length,G;while(F--){G=D[F];if(G.type===7){G.remove()}else{if(G.type===1){if(E==="input"&&!("type" in G.attributes.map)){G.attr("type","text")}}}}});if(A.fix_list_elements){y.addNodeFilter("ul,ol",function(E){var F=E.length,G,D;while(F--){G=E[F];D=G.parent;if(D.name==="ul"||D.name==="ol"){if(G.prev&&G.prev.name==="li"){G.prev.append(G)}}}})}y.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(D,E){var F=D.length;while(F--){D[F].attr(E,null)}});return{schema:B,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:function(E,I){var L=this,J,K,G,F,H,D;if(p.ie&&C.select("script,style,select,map").length>0){H=E.innerHTML;E=E.cloneNode(false);C.setHTML(E,H)}else{E=E.cloneNode(true)}J=E.ownerDocument.implementation;if(J.createHTMLDocument){K=J.createHTMLDocument("");t(E.nodeName=="BODY"?E.childNodes:[E],function(M){K.body.appendChild(K.importNode(M,true))});if(E.nodeName!="BODY"){E=K.body.firstChild}else{E=K.body}G=C.doc;C.doc=K}I=I||{};I.format=I.format||"html";if(I.selection){I.forced_root_block=""}if(!I.no_events){I.node=E;L.onPreProcess(I)}D=y.parse(i(I.getInner?E.innerHTML:C.getOuterHTML(E)),I);s(D);F=new q(A,B);I.content=F.serialize(D);if(!I.cleanup){I.content=m.trim(I.content);I.content=I.content.replace(/\uFEFF/g,"")}if(!I.no_events){L.onPostProcess(I)}if(G){C.doc=G}I.node=null;return I.content},addRules:function(D){B.addValidElements(D)},setRules:function(D){B.setValidElements(D)},onPreProcess:function(D){if(z){z.fire("PreProcess",D)}},onPostProcess:function(D){if(z){z.fire("PostProcess",D)}},getTrimmedContent:x}}});h("tinymce/dom/TridentSelection",[],function(){function i(k){var j=this,o=k.dom,m=false;function l(p,q){var r,A=0,x,u,t,s,v,y,w=-1,z;r=p.duplicate();r.collapse(q);z=r.parentElement();if(z.ownerDocument!==k.dom.doc){return}while(z.contentEditable==="false"){z=z.parentNode}if(!z.hasChildNodes()){return{node:z,inside:1}}t=z.children;x=t.length-1;while(A<=x){y=Math.floor((A+x)/2);s=t[y];r.moveToElementText(s);w=r.compareEndPoints(q?"StartToStart":"EndToEnd",p);if(w>0){x=y-1}else{if(w<0){A=y+1}else{return{node:s}}}}if(w<0){if(!s){r.moveToElementText(z);r.collapse(true);s=z;u=true}else{r.collapse(false)}v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",1)===0||z!=r.parentElement()){break}v++}}else{r.collapse(true);v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",-1)===0||z!=r.parentElement()){break}v++}}return{node:s,position:w,offset:v,inside:u}}function n(){var p=k.getRng(),x=o.createRng(),r,q,v,w,s;r=p.item?p.item(0):p.parentElement();if(r.ownerDocument!=o.doc){return x}q=k.isCollapsed();if(p.item){x.setStart(r.parentNode,o.nodeIndex(r));x.setEnd(x.startContainer,x.startOffset+1);return x}function u(F){var A=l(p,F),y,D,E=0,C,B,z;y=A.node;D=A.offset;if(A.inside&&!y.hasChildNodes()){x[F?"setStart":"setEnd"](y,0);return}if(D===B){x[F?"setStartBefore":"setEndAfter"](y);return}if(A.position<0){C=A.inside?y.firstChild:y.nextSibling;if(!C){x[F?"setStartAfter":"setEndAfter"](y);return}if(!D){if(C.nodeType==3){x[F?"setStart":"setEnd"](C,0)}else{x[F?"setStartBefore":"setEndBefore"](C)}return}while(C){if(C.nodeType==3){z=C.nodeValue;E+=z.length;if(E>=D){y=C;E-=D;E=z.length-E;break}}C=C.nextSibling}}else{C=y.previousSibling;if(!C){return x[F?"setStartBefore":"setEndBefore"](y)}if(!D){if(y.nodeType==3){x[F?"setStart":"setEnd"](C,y.nodeValue.length)}else{x[F?"setStartAfter":"setEndAfter"](C)}return}while(C){if(C.nodeType==3){E+=C.nodeValue.length;if(E>=D){y=C;E-=D;break}}C=C.previousSibling}}x[F?"setStart":"setEnd"](y,E)}try{u(true);if(!q){u()}}catch(t){if(t.number==-2147024809){s=j.getBookmark(2);v=p.duplicate();v.collapse(true);r=v.parentElement();if(!q){v=p.duplicate();v.collapse(false);w=v.parentElement();w.innerHTML=w.innerHTML}r.innerHTML=r.innerHTML;j.moveToBookmark(s);p=k.getRng();u(true);if(!q){u()}}else{throw t}}return x}this.getBookmark=function(s){var p=k.getRng(),r={};function t(z){var y,u,x,w,v=[];y=z.parentNode;u=o.getRoot().parentNode;while(y!=u&&y.nodeType!==9){x=y.children;w=x.length;while(w--){if(z===x[w]){v.push(w);break}}z=y;y=y.parentNode}return v}function q(v){var u;u=l(p,v);if(u){return{position:u.position,offset:u.offset,indexes:t(u.node),inside:u.inside}}}if(s===2){if(!p.item){r.start=q(true);if(!k.isCollapsed()){r.end=q()}}else{r.start={ctrl:true,indexes:t(p.item(0))}}}return r};this.moveToBookmark=function(r){var q,p=o.doc.body;function t(v){var y,x,u,w;y=o.getRoot();for(x=v.length-1;x>=0;x--){w=y.children;u=v[x];if(u<=w.length-1){y=w[u]}}return y}function s(z){var u=r[z?"start":"end"],x,w,v,y;if(u){x=u.position>0;w=p.createTextRange();w.moveToElementText(t(u.indexes));y=u.offset;if(y!==v){w.collapse(u.inside||x);w.moveStart("character",x?-y:y)}else{w.collapse(z)}q.setEndPoint(z?"StartToStart":"EndToStart",w);if(z){q.collapse(true)}}}if(r.start){if(r.start.ctrl){q=p.createControlRange();q.addElement(t(r.start.indexes));q.select()}else{q=p.createTextRange();s(true);s();q.select()}}};this.addRange=function(p){var u,s,r,w,C,x,A,z=k.dom.doc,t=z.body,y,B;function q(I){var E,H,D,G,F;D=o.create("a");E=I?r:C;H=I?w:x;G=u.duplicate();if(E==z||E==z.documentElement){E=t;H=0}if(E.nodeType==3){E.parentNode.insertBefore(D,E);G.moveToElementText(D);G.moveStart("character",H);o.remove(D);u.setEndPoint(I?"StartToStart":"EndToEnd",G)}else{F=E.childNodes;if(F.length){if(H>=F.length){o.insertAfter(D,F[F.length-1])}else{E.insertBefore(D,F[H])}G.moveToElementText(D)}else{if(E.canHaveHTML){E.innerHTML="<span>&#xFEFF;</span>";D=E.firstChild;G.moveToElementText(D);G.collapse(m)}}u.setEndPoint(I?"StartToStart":"EndToEnd",G);o.remove(D)}}r=p.startContainer;w=p.startOffset;C=p.endContainer;x=p.endOffset;u=t.createTextRange();if(r==C&&r.nodeType==1){if(w==x&&!r.hasChildNodes()){if(r.canHaveHTML){A=r.previousSibling;if(A&&!A.hasChildNodes()&&o.isBlock(A)){A.innerHTML="&#xFEFF;"}else{A=null}r.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";u.moveToElementText(r.lastChild);u.select();o.doc.selection.clear();r.innerHTML="";if(A){A.innerHTML=""}return}w=o.nodeIndex(r);r=r.parentNode}if(w==x-1){try{B=r.childNodes[w];s=t.createControlRange();s.addElement(B);s.select();y=k.getRng();if(y.item&&B===y.item(0)){return}}catch(v){}}}q(true);q();u.select()};this.getRangeAt=n}return i});h("tinymce/util/VK",["tinymce/Env"],function(i){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(j){return j.shiftKey||j.ctrlKey||j.altKey||this.metaKeyPressed(j)},metaKeyPressed:function(j){return(i.mac?j.metaKey:j.ctrlKey&&!j.altKey)}}});h("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(m,k,n,i,j){var l=j.isContentEditableFalse;return function(B,p){var q=p.dom,X=k.each;var y,ag,S,U,ae,ac;var G,E,P,O,H,M,V,u;var o,r,z=p.getDoc(),ad=document,x=i.ie&&i.ie<11;var L=Math.abs,ab=Math.round,D=p.getBody(),I,s;U={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var F=".mce-content-body";p.contentStyles.push(F+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+F+" .mce-resizehandle:hover {background: #000}"+F+" *[data-mce-selected] {outline: 1px solid black;resize: none}"+F+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+F+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");function Y(ai){var ah=p.settings.object_resizing;if(ah===false||i.iOS){return false}if(typeof ah!="string"){ah="table,img,div"}if(ai.getAttribute("data-mce-resize")==="false"){return false}if(ai==p.getBody()){return false}return p.dom.is(ai,ah)}function t(ak){var ai,ah,aj;var am,al;ai=ak.screenX-G;ah=ak.screenY-E;o=ai*ae[2]+H;r=ah*ae[3]+M;o=o<5?5:o;r=r<5?5:r;if(y.nodeName=="IMG"&&p.settings.resize_img_proportional!==false){aj=!m.modifierPressed(ak)}else{aj=m.modifierPressed(ak)||(y.nodeName=="IMG"&&ae[2]*ae[3]!==0)}if(aj){if(L(ai)>L(ah)){r=ab(o*V);o=ab(r/V)}else{o=ab(r/V);r=ab(o*V)}}q.setStyles(ag,{width:o,height:r});am=ae.startPos.x+ai;al=ae.startPos.y+ah;am=am>0?am:0;al=al>0?al:0;q.setStyles(S,{left:am,top:al,display:"block"});S.innerHTML=o+" &times; "+r;if(ae[2]<0&&ag.clientWidth<=o){q.setStyle(ag,"left",P+(H-o))}if(ae[3]<0&&ag.clientHeight<=r){q.setStyle(ag,"top",O+(M-r))}ai=D.scrollWidth-I;ah=D.scrollHeight-s;if(ai+ah!==0){q.setStyles(S,{left:am-ai,top:al-ah})}if(!u){p.fire("ObjectResizeStart",{target:y,width:H,height:M});u=true}}function T(){u=false;function ah(ai,aj){if(aj){if(y.style[ai]||!p.schema.isValid(y.nodeName.toLowerCase(),ai)){q.setStyle(y,ai,aj)}else{q.setAttrib(y,ai,aj)}}}ah("width",o);ah("height",r);q.unbind(z,"mousemove",t);q.unbind(z,"mouseup",T);if(ad!=z){q.unbind(ad,"mousemove",t);q.unbind(ad,"mouseup",T)}q.remove(ag);q.remove(S);if(!x||y.nodeName=="TABLE"){N(y)}p.fire("ObjectResized",{target:y,width:o,height:r});q.setAttrib(y,"style",q.getAttrib(y,"style"));p.nodeChanged()}function N(an,al,aj){var ai,ak,ah,ao,am;J();af();ai=q.getPos(an,D);P=ai.x;O=ai.y;am=an.getBoundingClientRect();ak=am.width||(am.right-am.left);ah=am.height||(am.bottom-am.top);if(y!=an){Z();y=an;o=r=0}ao=p.fire("ObjectSelected",{target:an});if(Y(an)&&!ao.isDefaultPrevented()){X(U,function(at,aq){var ar;function ap(au){G=au.screenX;E=au.screenY;H=y.clientWidth;M=y.clientHeight;V=M/H;ae=at;at.startPos={x:ak*at[0]+P,y:ah*at[1]+O};I=D.scrollWidth;s=D.scrollHeight;ag=y.cloneNode(true);q.addClass(ag,"mce-clonedresizable");q.setAttrib(ag,"data-mce-bogus","all");ag.contentEditable=false;ag.unSelectabe=true;q.setStyles(ag,{left:P,top:O,margin:0});ag.removeAttribute("data-mce-selected");D.appendChild(ag);q.bind(z,"mousemove",t);q.bind(z,"mouseup",T);if(ad!=z){q.bind(ad,"mousemove",t);q.bind(ad,"mouseup",T)}S=q.add(D,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},H+" &times; "+M)}if(al){if(aq==al){ap(aj)}return}ar=q.get("mceResizeHandle"+aq);if(ar){q.remove(ar)}ar=q.add(D,"div",{id:"mceResizeHandle"+aq,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:true,style:"cursor:"+aq+"-resize; margin:0; padding:0"});if(i.ie){ar.contentEditable=false}q.bind(ar,"mousedown",function(au){au.stopImmediatePropagation();au.preventDefault();ap(au)});at.elm=ar;q.setStyles(ar,{left:(ak*at[0]+P)-(ar.offsetWidth/2),top:(ah*at[1]+O)-(ar.offsetHeight/2)})})}else{J()}y.setAttribute("data-mce-selected","1")}function J(){var ah,ai;af();if(y){y.removeAttribute("data-mce-selected")}for(ah in U){ai=q.get("mceResizeHandle"+ah);if(ai){q.unbind(ai);q.remove(ai)}}}function K(ak){var aj,ah;function ai(am,al){if(am){do{if(am===al){return true}}while((am=am.parentNode))}}if(u||p.removed){return}X(q.select("img[data-mce-selected],hr[data-mce-selected]"),function(al){al.removeAttribute("data-mce-selected")});ah=ak.type=="mousedown"?ak.target:B.getNode();if("true"!==ah.getAttribute("data-mce-syno-select-target")){ah=q.$(ah).closest(x?"table":"table,img,hr")[0]}if(ai(ah,D)){Q();aj=B.getStart(true);if(ai(aj,ah)&&ai(B.getEnd(true),ah)){if(!x||(ah!=aj&&aj.nodeName!=="IMG")){N(ah);return}}}J()}function v(aj,ah,ai){if(aj&&aj.attachEvent){aj.attachEvent("on"+ah,ai)}}function C(aj,ah,ai){if(aj&&aj.detachEvent){aj.detachEvent("on"+ah,ai)}}function A(aj){var ak=aj.srcElement,ao,ah,ap,an,al,am,ai;ao=ak.getBoundingClientRect();am=ac.clientX-ao.left;ai=ac.clientY-ao.top;for(ah in U){ap=U[ah];an=ak.offsetWidth*ap[0];al=ak.offsetHeight*ap[1];if(L(an-am)<8&&L(al-ai)<8){ae=ap;break}}u=true;p.fire("ObjectResizeStart",{target:y,width:y.clientWidth,height:y.clientHeight});p.getDoc().selection.empty();N(ak,ah,ac)}function R(ah){if(ah.preventDefault){ah.preventDefault()}else{ah.returnValue=false}}function aa(ai){var ah=ai.srcElement;if(l(ah)){R(ai);return}if(ah!=y){p.fire("ObjectSelected",{target:ah});Z();if(ah.id.indexOf("mceResizeHandle")===0){ai.returnValue=false;return}if(ah.nodeName=="IMG"||ah.nodeName=="TABLE"){J();y=ah;v(ah,"resizestart",A)}}}function Z(){C(y,"resizestart",A)}function af(){for(var ah in U){var ai=U[ah];if(ai.elm){q.unbind(ai.elm);delete ai.elm}}}function Q(){try{p.getDoc().execCommand("enableObjectResizing",false,false)}catch(ah){}}function w(aj){var ai;if(!x){return}ai=z.body.createControlRange();try{ai.addElement(aj);ai.select();return true}catch(ah){}}p.on("init",function(){if(x){p.on("ObjectResized",function(ai){if(ai.target.nodeName!="TABLE"){J();w(ai.target)}});v(D,"controlselect",aa);p.on("mousedown",function(ai){ac=ai})}else{Q();if(i.ie>=11){p.on("mousedown click",function(ai){var aj=ai.target.nodeName;if(!u&&/^(TABLE|IMG|HR)$/.test(aj)){p.selection.select(ai.target,aj=="TABLE");if(ai.type=="mousedown"){p.nodeChanged()}}});p.dom.bind(D,"mscontrolselect",function(aj){function ai(ak){n.setEditorTimeout(p,function(){p.selection.select(ak)})}if(l(aj.target)){aj.preventDefault();ai(aj.target);return}if(/^(TABLE|IMG|HR)$/.test(aj.target.nodeName)){aj.preventDefault();if(aj.target.tagName=="IMG"){ai(aj.target)}}})}}var ah=n.throttle(K);p.on("nodechange ResizeEditor ResizeWindow drop",ah);p.on("keydown keyup",function(ai){if(y&&y.nodeName=="TABLE"){ah(ai)}});p.on("hide blur",J)});p.on("remove",af);function W(){y=ag=null;if(x){Z();C(D,"controlselect",aa)}}return{isResizable:Y,showResizeRect:N,hideResizeRect:J,updateResizeRect:K,controlSelect:w,destroy:W}}});h("tinymce/util/Fun",[],function(){var o=[].slice;function j(p){return function(){return p}}function n(p){return function(q){return !p(q)}}function m(q,p){return function(r){return q(p(r))}}function l(){var p=o.call(arguments);return function(q){for(var r=0;r<p.length;r++){if(p[r](q)){return true}}return false}}function k(){var p=o.call(arguments);return function(q){for(var r=0;r<p.length;r++){if(!p[r](q)){return false}}return true}}function i(q){var p=o.call(arguments);if(p.length-1>=q.length){return q.apply(this,p.slice(1))}return function(){var r=p.concat([].slice.call(arguments));return i.apply(this,r)}}return{constant:j,negate:n,and:k,or:l,curry:i,compose:m}});h("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(j,q,u){var x=j.isContentEditableTrue,r=j.isContentEditableFalse,t=j.isBr,p=j.isText,l=j.matchNodeNames("script style textarea"),k=j.matchNodeNames("img input textarea hr iframe video audio object"),w=j.matchNodeNames("table"),i=u.isCaretContainer;function s(y){if(i(y)){return false}if(p(y)){if(l(y.parentNode)){return false}return true}return k(y)||t(y)||w(y)||r(y)}function n(z,y){for(z=z.parentNode;z&&z!=y;z=z.parentNode){if(r(z)){return false}if(x(z)){return true}}return true}function v(y){if(!r(y)){return false}return q.reduce(y.getElementsByTagName("*"),function(z,A){return z||x(A)},false)!==true}function m(y){return k(y)||v(y)}function o(z,y){return s(z)&&n(z,y)}return{isCaretCandidate:s,isInEditable:n,isAtomic:m,isEditableCaretCandidate:o}});h("tinymce/geom/ClientRect",[],function(){var r=Math.round;function m(s){if(!s){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:r(s.left),top:r(s.top),bottom:r(s.bottom),right:r(s.right),width:r(s.width),height:r(s.height)}}function p(t,s){t=m(t);if(s){t.right=t.left}else{t.left=t.left+t.width;t.right=t.left}t.width=0;return t}function l(t,s){return(t.left===s.left&&t.top===s.top&&t.bottom===s.bottom&&t.right===s.right)}function j(s,u,t){return s>=0&&s<=Math.min(u.height,t.height)/2}function k(t,s){if(t.bottom<s.top){return true}if(t.top>s.bottom){return false}return j(s.top-t.bottom,t,s)}function n(t,s){if(t.top>s.bottom){return true}if(t.bottom<s.top){return false}return j(s.bottom-t.top,t,s)}function q(t,s){return t.left<s.left}function o(t,s){return t.right>s.right}function i(t,s){if(k(t,s)){return -1}if(n(t,s)){return 1}if(q(t,s)){return -1}if(o(t,s)){return 1}return 0}return{clone:m,collapse:p,isEqual:l,isAbove:k,isBelow:n,isLeft:q,isRight:o,compare:i}});h("tinymce/text/ExtendingChar",[],function(){var j=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]");function i(k){return typeof k=="string"&&k.charCodeAt(0)>=768&&j.test(k)}return{isExtendingChar:i}});h("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(k,l,z,B,x,j,q){var v=l.isElement,s=x.isCaretCandidate,o=l.matchStyleValues("display","block table"),C=l.matchStyleValues("float","left right"),n=k.and(v,s,k.negate(C)),u=k.negate(l.matchStyleValues("white-space","pre pre-line pre-wrap")),r=l.isText,m=l.isBr,y=z.nodeIndex,w=B.getNode;function p(D){return D&&/[\r\n\t ]/.test(D)}function A(E){var D=E.startContainer,G=E.startOffset,F;if(p(E.toString())&&u(D.parentNode)){F=D.data;if(p(F[G-1])||p(F[G+1])){return true}}return false}function t(H){var G=[],J,D;function F(R){var Q=R.ownerDocument,O=Q.createRange(),N=Q.createTextNode("\u00a0"),M=R.parentNode,P;M.insertBefore(N,R);O.setStart(N,0);O.setEnd(N,1);P=j.clone(O.getBoundingClientRect());M.removeChild(N);return P}function E(N){var O,M;M=N.getClientRects();if(M.length>0){O=j.clone(M[0])}else{O=j.clone(N.getBoundingClientRect())}if(m(N)&&O.left===0){return F(N)}return O}function I(N,M){N=j.collapse(N,M);N.width=1;N.right=N.left+1;return N}function K(M){if(M.height===0){return}if(G.length>0){if(j.isEqual(M,G[G.length-1])){return}}G.push(M)}function L(M,O){var N=M.ownerDocument.createRange();if(O<M.data.length){if(q.isExtendingChar(M.data[O])){return G}}if(O>0){N.setStart(M,O-1);N.setEnd(M,O);if(!A(N)){K(I(E(N),false))}}if(O<M.data.length){N.setStart(M,O);N.setEnd(M,O+1);if(!A(N)){K(I(E(N),true))}}}if(r(H.container())){L(H.container(),H.offset());return G}if(v(H.container())){if(H.isAtEnd()){D=w(H.container(),H.offset());if(r(D)){L(D,D.data.length)}if(n(D)&&!m(D)){K(I(E(D),false))}}else{D=w(H.container(),H.offset());if(r(D)){L(D,0)}if(n(D)&&H.isAtEnd()){K(I(E(D),false));return G}J=w(H.container(),H.offset()-1);if(n(J)&&!m(J)){if(o(J)||o(D)||!n(D)){K(I(E(J),false))}}if(n(D)){K(I(E(D),true))}}}return G}function i(D,G,J){function I(){if(r(D)){return G===0}return G===0}function K(){if(r(D)){return G>=D.data.length}return G>=D.childNodes.length}function F(){var N;N=D.ownerDocument.createRange();N.setStart(D,G);N.setEnd(D,G);return N}function M(){if(!J){J=t(new i(D,G))}return J}function H(){return M().length>0}function L(N){return N&&D===N.container()&&G===N.offset()}function E(N){return w(D,N?G-1:G)}return{container:k.constant(D),offset:k.constant(G),toRange:F,getClientRects:M,isVisible:H,isAtStart:I,isAtEnd:K,isEqual:L,getNode:E}}i.fromRangeStart=function(D){return new i(D.startContainer,D.startOffset)};i.fromRangeEnd=function(D){return new i(D.endContainer,D.endOffset)};i.after=function(D){return new i(D.parentNode,y(D)+1)};i.before=function(D){return new i(D.parentNode,y(D))};return i});h("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(n,A,m,p,i){var u=n.isText,t=n.isBogus,z=A.nodeIndex;function k(C){var B=C.parentNode;if(t(B)){return k(B)}return B}function q(B){if(!B){return[]}return p.reduce(B.childNodes,function(C,D){if(t(D)&&D.nodeName!="BR"){C=C.concat(q(D))}else{C.push(D)}return C},[])}function r(C,B){while((C=C.previousSibling)){if(!u(C)){break}B+=C.data.length}return B}function v(B){return function(C){return B===C}}function o(E){var B,C,D;B=q(k(E));C=p.findIndex(B,v(E),E);B=B.slice(0,C+1);D=p.reduce(B,function(F,H,G){if(u(H)&&u(B[G-1])){F++}return F},0);B=p.filter(B,n.matchNodeNames(E.nodeName));C=p.findIndex(B,v(E),E);return C-D}function y(C){var B;if(u(C)){B="text()"}else{B=C.nodeName.toLowerCase()}return B+"["+o(C)+"]"}function l(C,E,B){var D=[];for(E=E.parentNode;E!=C;E=E.parentNode){if(B&&B(E)){break}D.push(E)}return D}function s(D,G){var C,I,F=[],B,H,E;C=G.container();I=G.offset();if(u(C)){B=r(C,I)}else{H=C.childNodes;if(I>=H.length){B="after";I=H.length-1}else{B="before"}C=H[I]}F.push(y(C));E=l(D,C);E=p.filter(E,m.negate(n.isBogus));F=F.concat(p.map(E,function(J){return y(J)}));return F.reverse().join("/")+","+B}function w(E,D,C){var B=q(E);B=p.filter(B,function(G,F){return !u(G)||!u(B[F-1])});B=p.filter(B,n.matchNodeNames(D));return B[C]}function j(B,F){var D=B,E=0,C;while(u(D)){C=D.data.length;if(F>=E&&F<=E+C){B=D;F=F-E;break}if(!u(D.nextSibling)){B=D;F=C;break}E+=C;D=D.nextSibling}if(F>B.data.length){F=B.data.length}return new i(B,F)}function x(C,E){var D,B,F;if(!E){return null}D=E.split(",");E=D[0].split("/");F=D.length>1?D[1]:"before";B=p.reduce(E,function(G,H){H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(H);if(!H){return null}if(H[1]==="text()"){H[1]="#text"}return w(G,H[1],parseInt(H[2],10))},C);if(!B){return null}if(!u(B)){if(F==="after"){F=z(B)+1}else{F=z(B)}return new i(B.parentNode,F)}return j(B,parseInt(F,10))}return{create:s,resolve:x}});h("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(j,m,n,p,i,l){var o=l.isContentEditableFalse;function k(q){var r=q.dom;this.getBookmark=function(D,F){var t,w,v,z,u,A,y="&#xFEFF;",G;function s(H,I){var J=0;m.each(r.select(H),function(K){if(K.getAttribute("data-mce-bogus")==="all"){return}if(K==I){return false}J++});return J}function E(H){function I(N){var J,M,L,K=N?"start":"end";J=H[K+"Container"];M=H[K+"Offset"];if(J.nodeType==1&&J.nodeName=="TR"){L=J.childNodes;J=L[Math.min(N?M:M-1,L.length-1)];if(J){M=N?0:J.childNodes.length;H["set"+(N?"Start":"End")](J,M)}}}I(true);I();return H}function x(I){var H=r.getRoot(),J={};function K(N,S){var M=N[S?"startContainer":"endContainer"],R=N[S?"startOffset":"endOffset"],L=[],O,Q,P=0;if(M.nodeType==3){if(F){for(O=M.previousSibling;O&&O.nodeType==3;O=O.previousSibling){R+=O.nodeValue.length}}L.push(R)}else{Q=M.childNodes;if(R>=Q.length&&Q.length){P=1;R=Math.max(0,Q.length-1)}L.push(r.nodeIndex(Q[R],F)+P)}for(;M&&M!=H;M=M.parentNode){L.push(r.nodeIndex(M,F))}return L}J.start=K(I,true);if(!q.isCollapsed()){J.end=K(I)}return J}function C(H){function I(K){var J;if(n.isCaretContainer(K)){if(l.isText(K)&&n.isCaretContainerBlock(K)){K=K.parentNode}J=K.previousSibling;if(o(J)){return J}J=K.nextSibling;if(o(J)){return J}}}return I(H.startContainer)||I(H.endContainer)}if(D==2){A=q.getNode();u=A?A.nodeName:null;t=q.getRng();if(o(A)||u=="IMG"){return{name:u,index:s(u,A)}}if(q.tridentSel){return q.tridentSel.getBookmark(D)}A=C(t);if(A){u=A.tagName;return{name:u,index:s(u,A)}}return x(t)}if(D==3){t=q.getRng();return{start:p.create(r.getRoot(),i.fromRangeStart(t)),end:p.create(r.getRoot(),i.fromRangeEnd(t))}}if(D){return{rng:q.getRng()}}t=q.getRng();v=r.uniqueId();z=q.isCollapsed();G="overflow:hidden;line-height:0px";if(t.duplicate||t.item){if(!t.item){w=t.duplicate();try{t.collapse();t.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="'+G+'">'+y+"</span>");if(!z){w.collapse(false);t.moveToElementText(w.parentElement());if(t.compareEndPoints("StartToEnd",w)===0){w.move("character",-1)}w.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="'+G+'">'+y+"</span>")}}catch(B){return null}}else{A=t.item(0);u=A.nodeName;return{name:u,index:s(u,A)}}}else{A=q.getNode();u=A.nodeName;if(u=="IMG"){return{name:u,index:s(u,A)}}w=E(t.cloneRange());if(!z){w.collapse(false);w.insertNode(r.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:G},y))}t=E(t);t.collapse(true);t.insertNode(r.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:G},y))}q.moveToBookmark({id:v,keep:1});return{id:v}};this.moveToBookmark=function(x){var s,B,u,C,y,z;function t(I){var D=x[I?"start":"end"],F,G,H,E;if(D){H=D[0];for(G=B,F=D.length-1;F>=1;F--){E=G.childNodes;if(D[F]>E.length-1){return}G=E[D[F]]}if(G.nodeType===3){H=Math.min(D[0],G.nodeValue.length)}if(G.nodeType===1){H=Math.min(D[0],G.childNodes.length)}if(I){s.setStart(G,H)}else{s.setEnd(G,H)}}return true}function v(J){var E=r.get(x.id+"_"+J),I,D,G,H,F=x.keep;if(E){I=E.parentNode;if(J=="start"){if(!F){D=r.nodeIndex(E)}else{I=E.firstChild;D=1}u=C=I;y=z=D}else{if(!F){D=r.nodeIndex(E)}else{I=E.firstChild;D=1}C=I;z=D}if(!F){H=E.previousSibling;G=E.nextSibling;m.each(m.grep(E.childNodes),function(K){if(K.nodeType==3){K.nodeValue=K.nodeValue.replace(/\uFEFF/g,"")}});while((E=r.get(x.id+"_"+J))){r.remove(E,1)}if(H&&G&&H.nodeType==G.nodeType&&H.nodeType==3&&!j.opera){D=H.nodeValue.length;H.appendData(G.nodeValue);r.remove(G);if(J=="start"){u=C=H;y=z=D}else{C=H;z=D}}}}}function w(D){if(r.isBlock(D)&&!D.innerHTML&&!j.ie){D.innerHTML='<br data-mce-bogus="1" />'}return D}function A(){var D,E;D=r.createRng();E=p.resolve(r.getRoot(),x.start);D.setStart(E.container(),E.offset());E=p.resolve(r.getRoot(),x.end);D.setEnd(E.container(),E.offset());return D}if(x){if(m.isArray(x.start)){s=r.createRng();B=r.getRoot();if(q.tridentSel){return q.tridentSel.moveToBookmark(x)}if(t(true)&&t()){q.setRng(s)}}else{if(typeof x.start=="string"){q.setRng(A(x))}else{if(x.id){v("start");v("end");if(u){s=r.createRng();s.setStart(w(u),y);s.setEnd(w(C),z);q.setRng(s)}}else{if(x.name){q.select(r.select(x.name)[x.index])}else{if(x.rng){q.setRng(x.rng)}}}}}}}}k.isBookmarkNode=function(q){return q&&q.tagName==="SPAN"&&q.getAttribute("data-mce-type")==="bookmark"};return k});h("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools"],function(r,p,i,n,s,j,o,m){var q=m.each,l=m.trim;var k=o.ie;function t(y,x,w,v){var u=this;u.dom=y;u.win=x;u.serializer=w;u.editor=v;u.bookmarkManager=new s(u);u.controlSelection=new i(u,v);if(!u.win.getSelection){u.tridentSel=new p(u)}}t.prototype={setCursorLocation:function(w,x){var v=this,u=v.dom.createRng();if(!w){v._moveEndPoint(u,v.editor.getBody(),true);v.setRng(u)}else{u.setStart(w,x);u.setEnd(w,x);v.setRng(u);v.collapse(false)}},getContent:function(y){var w=this,v=w.getRng(),u=w.dom.create("body");var B=w.getSel(),A,z,x;y=y||{};A=z="";y.get=true;y.format=y.format||"html";y.selection=true;w.editor.fire("BeforeGetContent",y);if(y.format=="text"){return w.isCollapsed()?"":(v.text||(B.toString?B.toString():""))}if(v.cloneContents){x=v.cloneContents();if(x){u.appendChild(x)}}else{if(v.item!==g||v.htmlText!==g){u.innerHTML="<br>"+(v.item?v.item(0).outerHTML:v.htmlText);u.removeChild(u.firstChild)}else{u.innerHTML=v.toString()}}if(/^\s/.test(u.innerHTML)){A=" "}if(/\s+$/.test(u.innerHTML)){z=" "}y.getInner=true;y.content=w.isCollapsed()?"":A+w.serializer.serialize(u,y)+z;w.editor.fire("GetContent",y);return y.content},setContent:function(v,x){var C=this,u=C.getRng(),y,z=C.win.document,B,A;x=x||{format:"html"};x.set=true;x.selection=true;x.content=v;if(!x.no_events){C.editor.fire("BeforeSetContent",x)}v=x.content;if(u.insertNode){v+='<span id="__caret">_</span>';if(u.startContainer==z&&u.endContainer==z){z.body.innerHTML=v}else{u.deleteContents();if(z.body.childNodes.length===0){z.body.innerHTML=v}else{if(u.createContextualFragment){u.insertNode(u.createContextualFragment(v))}else{B=z.createDocumentFragment();A=z.createElement("div");B.appendChild(A);A.outerHTML=v;u.insertNode(B)}}}y=C.dom.get("__caret");u=z.createRange();u.setStartBefore(y);u.setEndBefore(y);C.setRng(u);C.dom.remove("__caret");try{C.setRng(u)}catch(w){}}else{if(u.item){z.execCommand("Delete",false,null);u=C.getRng()}if(/^\s+/.test(v)){u.pasteHTML('<span id="__mce_tmp">_</span>'+v);C.dom.remove("__mce_tmp")}else{u.pasteHTML(v)}}if(!x.no_events){C.editor.fire("SetContent",x)}},getStart:function(A){var w=this,v=w.getRng(),x,u,z,y;if(v.duplicate||v.item){if(v.item){return v.item(0)}z=v.duplicate();z.collapse(1);x=z.parentElement();if(x.ownerDocument!==w.dom.doc){x=w.dom.getRoot()}u=y=v.parentElement();while((y=y.parentNode)){if(y==x){x=u;break}}return x}x=v.startContainer;if(x.nodeType==1&&x.hasChildNodes()){if(!A||!v.collapsed){x=x.childNodes[Math.min(x.childNodes.length-1,v.startOffset)]}}if(x&&x.nodeType==3){return x.parentNode}return x},getEnd:function(y){var v=this,u=v.getRng(),x,w;if(u.duplicate||u.item){if(u.item){return u.item(0)}u=u.duplicate();u.collapse(0);x=u.parentElement();if(x.ownerDocument!==v.dom.doc){x=v.dom.getRoot()}if(x&&x.nodeName=="BODY"){return x.lastChild||x}return x}x=u.endContainer;w=u.endOffset;if(x.nodeType==1&&x.hasChildNodes()){if(!y||!u.collapsed){x=x.childNodes[w>0?w-1:w]}}if(x&&x.nodeType==3){return x.parentNode}return x},getBookmark:function(u,v){return this.bookmarkManager.getBookmark(u,v)},moveToBookmark:function(u){return this.bookmarkManager.moveToBookmark(u)},select:function(y,x){var w=this,z=w.dom,v=z.createRng(),u;w.lastFocusBookmark=null;if(y){if(!x&&w.controlSelection.controlSelect(y)){return}u=z.nodeIndex(y);v.setStart(y.parentNode,u);v.setEnd(y.parentNode,u+1);if(x){w._moveEndPoint(v,y,true);w._moveEndPoint(v,y)}w.setRng(v)}return y},isCollapsed:function(){var v=this,u=v.getRng(),w=v.getSel();if(!u||u.item){return false}if(u.compareEndPoints){return u.compareEndPoints("StartToEnd",u)===0}return !w||u.collapsed},collapse:function(w){var v=this,u=v.getRng(),x;if(u.item){x=u.item(0);u=v.win.document.body.createTextRange();u.moveToElementText(x)}u.collapse(!!w);v.setRng(u)},getSel:function(){var u=this.win;return u.getSelection?u.getSelection():u.document.selection},getRng:function(A){var E=this,C,u,y,B,w,D;function z(H,I,F){try{return I.compareBoundaryPoints(H,F)}catch(G){return -1}}if(!E.win){return null}B=E.win.document;if(!A&&E.lastFocusBookmark){var v=E.lastFocusBookmark;if(v.startContainer){u=B.createRange();u.setStart(v.startContainer,v.startOffset);u.setEnd(v.endContainer,v.endOffset)}else{u=v}return u}if(A&&E.tridentSel){return E.tridentSel.getRangeAt(0)}try{if((C=E.getSel())){if(C.rangeCount>0){u=C.getRangeAt(0)}else{u=C.createRange?C.createRange():B.createRange()}}}catch(x){}D=E.editor.fire("GetSelectionRange",{range:u});if(D.range!==u){return D.range}if(k&&u&&u.setStart&&B.selection){try{w=B.selection.createRange()}catch(x){}if(w&&w.item){y=w.item(0);u=B.createRange();u.setStartBefore(y);u.setEndAfter(y)}}if(!u){u=B.createRange?B.createRange():B.body.createTextRange()}if(u.setStart&&u.startContainer.nodeType===9&&u.collapsed){y=E.dom.getRoot();u.setStart(y,0);u.setEnd(y,0)}if(E.selectedRange&&E.explicitRange){if(z(u.START_TO_START,u,E.selectedRange)===0&&z(u.END_TO_END,u,E.selectedRange)===0){u=E.explicitRange}else{E.selectedRange=null;E.explicitRange=null}}return u},setRng:function(v,x){var w=this,A,z,u;if(!v){return}if(v.select){w.explicitRange=null;try{v.select()}catch(y){}return}if(!w.tridentSel){A=w.getSel();u=w.editor.fire("SetSelectionRange",{range:v});v=u.range;if(A){w.explicitRange=v;try{A.removeAllRanges();A.addRange(v)}catch(y){}if(x===false&&A.extend){A.collapse(v.endContainer,v.endOffset);A.extend(v.startContainer,v.startOffset)}w.selectedRange=A.rangeCount>0?A.getRangeAt(0):null}if(!v.collapsed&&v.startContainer==v.endContainer&&A.setBaseAndExtent&&!o.ie){if(v.endOffset-v.startOffset<2){if(v.startContainer.hasChildNodes()){z=v.startContainer.childNodes[v.startOffset];if(z&&z.tagName=="IMG"){w.getSel().setBaseAndExtent(z,0,z,1)}}}}}else{if(v.cloneRange){try{w.tridentSel.addRange(v)}catch(y){}}}},setNode:function(v){var u=this;u.setContent(u.dom.getOuterHTML(v));return v},getNode:function(){var B=this,u=B.getRng(),x;var v=u.startContainer,C=u.endContainer;var y=u.startOffset,z=u.endOffset,A=B.dom.getRoot();function w(E,D){var F=E;while(E&&E.nodeType===3&&E.length===0){E=D?E.nextSibling:E.previousSibling}return E||F}if(!u){return A}if(u.setStart){x=u.commonAncestorContainer;if(!u.collapsed){if(v==C){if(z-y<2){if(v.hasChildNodes()){x=v.childNodes[y]}}}if(v.nodeType===3&&C.nodeType===3){if(v.length===y){v=w(v.nextSibling,true)}else{v=v.parentNode}if(z===0){C=w(C.previousSibling,false)}else{C=C.parentNode}if(v&&v===C){return v}}}if(x&&x.nodeType==3){return x.parentNode}return x}x=u.item?u.item(0):u.parentElement();if(x.ownerDocument!==B.win.document){x=A}return x},getSelectedBlocks:function(x,w){var v=this,B=v.dom,y,u,A=[];u=B.getRoot();x=B.getParent(x||v.getStart(),B.isBlock);w=B.getParent(w||v.getEnd(),B.isBlock);if(x&&x!=u){A.push(x)}if(x&&w&&x!=w){y=x;var z=new r(x,u);while((y=z.next())&&y!=w){if(B.isBlock(y)){A.push(y)}}}if(w&&x!=w&&w!=u){A.push(w)}return A},isForward:function(){var w=this.dom,u=this.getSel(),x,v;if(!u||!u.anchorNode||!u.focusNode){return true}x=w.createRng();x.setStart(u.anchorNode,u.anchorOffset);x.collapse(true);v=w.createRng();v.setStart(u.focusNode,u.focusOffset);v.collapse(true);return x.compareBoundaryPoints(x.START_TO_START,v)<=0},normalize:function(){var v=this,u=v.getRng();if(o.range&&new n(v.dom).normalize(u)){v.setRng(u,v.isForward())}return u},selectorChanged:function(u,x){var v=this,w;if(!v.selectorChangedData){v.selectorChangedData={};w={};v.editor.on("NodeChange",function(B){var A=B.element,C=v.dom,y=C.getParents(A,null,C.getRoot()),z={};q(v.selectorChangedData,function(E,D){q(y,function(F){if(C.is(F,D)){if(!w[D]){q(E,function(G){G(true,{node:F,selector:D,parents:y})});w[D]=E}z[D]=E;return false}})});q(w,function(E,D){if(!z[D]){delete w[D];q(E,function(F){F(false,{node:A,selector:D,parents:y})})}})})}if(!v.selectorChangedData[u]){v.selectorChangedData[u]=[]}v.selectorChangedData[u].push(x);return v},synoSelectorMatched:function(u,x){var v=this,w;if(!v.synoSelectorMatchedData){v.synoSelectorMatchedData={};w={};v.editor.on("NodeChange",function(B){var A=B.element,C=v.dom,y=C.getParents(A,null,C.getRoot()),z={};q(v.synoSelectorMatchedData,function(E,D){q(y,function(F){if(C.is(F,D)){q(E,function(G){G(true,{node:F,selector:D,parents:y})});if(!w[D]){w[D]=E}z[D]=E;return false}})});q(w,function(E,D){if(!z[D]){delete w[D];q(E,function(F){F(false,{node:A,selector:D,parents:y})})}})})}if(!v.synoSelectorMatchedData[u]){v.synoSelectorMatchedData[u]=[]}v.synoSelectorMatchedData[u].push(x);return v},getScrollContainer:function(){var u,v=this.dom.getRoot();while(v&&v.nodeName!="BODY"){if(v.scrollHeight>v.clientHeight){u=v;break}v=v.parentNode}return u},scrollIntoView:function(z,D){var B,F,G=this,w=G.dom,C=w.getRoot(),u,E,x=0;function v(K){var H=0,J=0;var I=K;while(I&&I.nodeType){H+=I.offsetLeft||0;J+=I.offsetTop||0;I=I.offsetParent}return{x:H,y:J}}if(!j.isElement(z)){return}if(D===false){x=z.offsetHeight}if(C.nodeName!="BODY"){var A=G.getScrollContainer();if(A){B=v(z).y-v(A).y+x;E=A.clientHeight;u=A.scrollTop;if(B<u||B+25>u+E){A.scrollTop=B<u?B:B-E+25}return}}F=w.getViewPort(G.editor.getWin());B=w.getPos(z).y+x;u=F.y;E=F.h;if(B<F.y||B+25>u+E){G.editor.getWin().scrollTo(0,B<u?B:B-E+25)}},placeCaretAt:function(v,u){this.setRng(n.getCaretRangeFromPoint(v,u,this.editor.getDoc()))},_moveEndPoint:function(v,x,z){var u=x,y=new r(x,u);var w=this.dom.schema.getNonEmptyElements();do{if(x.nodeType==3&&l(x.nodeValue).length!==0){if(z){v.setStart(x,0)}else{v.setEnd(x,x.nodeValue.length)}return}if(w[x.nodeName]&&!/^(TD|TH)$/.test(x.nodeName)){if(z){v.setStartBefore(x)}else{if(x.nodeName=="BR"){v.setEndBefore(x)}else{v.setEndAfter(x)}}return}if(o.ie&&o.ie<11&&this.dom.isBlock(x)&&this.dom.isEmpty(x)){if(z){v.setStart(x,0)}else{v.setEnd(x,0)}return}}while((x=(z?y.next():y.prev())));if(u.nodeName=="BODY"){if(z){v.setStart(u,0)}else{v.setEnd(u,u.childNodes.length)}}},destroy:function(){this.win=null;this.controlSelection.destroy()}};return t});h("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(i,k){var l=k.each;function j(m){this.compare=function(p,o){if(p.nodeName!=o.nodeName){return false}function n(r){var s={};l(m.getAttribs(r),function(t){var u=t.nodeName.toLowerCase();if(u.indexOf("_")!==0&&u!=="style"&&u!=="data-mce-style"){s[u]=m.getAttrib(r,u)}});return s}function q(u,t){var s,r;for(r in u){if(u.hasOwnProperty(r)){s=t[r];if(typeof s=="undefined"){return false}if(u[r]!=s){return false}delete t[r]}}for(r in t){if(t.hasOwnProperty(r)){return false}}return true}if(!q(n(p),n(o))){return false}if(!q(m.parseStyle(m.getAttrib(p,"style")),m.parseStyle(m.getAttrib(o,"style")))){return false}return !i.isBookmarkNode(p)&&!i.isBookmarkNode(o)}}return j});h("tinymce/fmt/Preview",["tinymce/util/Tools"],function(i){var k=i.each;function j(q,t){var m,n,p=q.dom;var l="",o,s;s=q.settings.preview_styles;if(s===false){return""}if(!s){s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}function r(u){return u.replace(/%(\w+)/g,"")}if(typeof t=="string"){t=q.formatter.get(t);if(!t){return}t=t[0]}m=t.block||t.inline||"span";n=p.create(m);k(t.styles,function(v,u){v=r(v);if(v){p.setStyle(n,u,v)}});k(t.attributes,function(v,u){v=r(v);if(v){p.setAttrib(n,u,v)}});k(t.classes,function(u){u=r(u);if(!p.hasClass(n,u)){p.addClass(n,u)}});q.fire("PreviewFormats");p.setStyles(n,{position:"absolute",left:-65535});q.getBody().appendChild(n);o=p.getStyle(q.getBody(),"fontSize",true);o=/px$/.test(o)?parseInt(o,10):0;k(s.split(" "),function(u){var v=p.getStyle(n,u,true);if(u=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)){v=p.getStyle(q.getBody(),u,true);if(p.toHex(v).toLowerCase()=="#ffffff"){return}}if(u=="color"){if(p.toHex(v).toLowerCase()=="#000000"){return}}if(u=="font-size"){if(/em|%$/.test(v)){if(o===0){return}v=parseFloat(v,10)/(/%$/.test(v)?100:1);v=(v*o)+"px"}}if(u=="border"&&v){l+="padding:0 2px;"}l+=u+":"+v+";"});q.fire("AfterPreviewFormats");p.remove(n);return l}return{getCssText:j}});h("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(l,m,i,k,j,n){return function(aw){var ah={},p=aw.dom,I=aw.selection,ae=new m(p),r=aw.schema.isValidChild,Y=p.isBlock,B=aw.settings.forced_root_block,K=p.nodeIndex,W="\uFEFF",s=/^(src|href|style)$/,aq=false,S=true,ag,T,N=p.getContentEditable,X,z,ab=i.isBookmarkNode;var ak=j.each,au=j.grep,F=j.walk,G=j.extend;function Z(ax){if(ax.nodeType){ax=ax.nodeName}return !!aw.schema.getTextBlockElements()[ax.toLowerCase()]}function am(ax){return/^(TH|TD)$/.test(ax.nodeName)}function an(ax){return ax&&/^(IMG)$/.test(ax.nodeName)}function C(ay,ax){return p.getParents(ay,ax,p.getRoot())}function o(ax){return ax.nodeType===1&&ax.id==="_mce_caret"}function x(){A({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(){return true},onformat:function(az,ax,ay){ak(ay,function(aB,aA){p.setAttrib(az,aA,aB)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});ak("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(ax){A(ax,{block:ax,remove:"all"})});A(aw.settings.formats)}function ap(){aw.addShortcut("meta+b","bold_desc","Bold");aw.addShortcut("meta+i","italic_desc","Italic");aw.addShortcut("meta+u","underline_desc","Underline");for(var ax=1;ax<=6;ax++){aw.addShortcut("access+"+ax,"",["FormatBlock",false,"h"+ax])}aw.addShortcut("access+7","",["FormatBlock",false,"p"]);aw.addShortcut("access+8","",["FormatBlock",false,"div"]);aw.addShortcut("access+9","",["FormatBlock",false,"address"])}function ao(ax){return ax?ah[ax]:ah}function A(ax,ay){if(ax){if(typeof ax!=="string"){ak(ax,function(aA,az){A(az,aA)})}else{ay=ay.length?ay:[ay];ak(ay,function(az){if(az.deep===T){az.deep=!az.selector}if(az.split===T){az.split=!az.selector||az.inline}if(az.remove===T&&az.selector&&!az.inline){az.remove="none"}if(az.selector&&az.inline){az.mixed=true;az.block_expand=true}if(typeof az.classes==="string"){az.classes=az.classes.split(/\s+/)}});ah[ax]=ay}}}function O(ax){if(ax&&ah[ax]){delete ah[ax]}return ah}function w(ay){var ax;aw.dom.getParent(ay,function(az){ax=aw.dom.getStyle(az,"text-decoration");return ax&&ax!=="none"});return ax}function ac(ax){var ay;if(ax.nodeType===1&&ax.parentNode&&ax.parentNode.nodeType===1){ay=w(ax.parentNode);if(aw.dom.getStyle(ax,"color")&&ay){aw.dom.setStyle(ax,"text-decoration",ay)}else{if(aw.dom.getStyle(ax,"text-decoration")===ay){aw.dom.setStyle(ax,"text-decoration",null)}}}}function at(az,aH,aB){var aD=ao(az),aI=aD[0],aG,ay,aF=!aB&&I.isCollapsed();function ax(aN,aL){aL=aL||aI;if(aN){if(aL.onformat){aL.onformat(aN,aL,aH,aB)}ak(aL.styles,function(aP,aO){p.setStyle(aN,aO,H(aP,aH))});if(aL.styles){var aM=p.getAttrib(aN,"style");if(aM){aN.setAttribute("data-mce-style",aM)}}ak(aL.attributes,function(aP,aO){p.setAttrib(aN,aO,H(aP,aH))});ak(aL.classes,function(aO){aO=H(aO,aH);if(!p.hasClass(aN,aO)){p.addClass(aN,aO)}})}}function aA(){function aN(aT,aR){var aS=new l(aR);for(aB=aS.current();aB;aB=aS.prev()){if(aB.childNodes.length>1||aB==aT||aB.tagName=="BR"){return aB}}}var aM=aw.selection.getRng();var aQ=aM.startContainer;var aL=aM.endContainer;if(aQ!=aL&&aM.endOffset===0){var aP=aN(aQ,aL);var aO=aP.nodeType==3?aP.length:aP.childNodes.length;aM.setEnd(aP,aO)}return aM}function aJ(aM,aO,aR){var aL=[],aQ,aN,aP=true;aQ=aI.inline||aI.block;aN=p.create(aQ);ax(aN);ae.walk(aM,function(aS){var aT;function aU(aV){var a0,aY,aW,aX,aZ;aZ=aP;a0=aV.nodeName.toLowerCase();aY=aV.parentNode.nodeName.toLowerCase();if(aV.nodeType===1&&N(aV)){aZ=aP;aP=N(aV)==="true";aX=true}if(u(a0,"br")){aT=0;if(aI.block){p.remove(aV)}return}if(aI.wrapper&&P(aV,az,aH)){aT=0;return}if(aP&&!aX&&aI.block&&!aI.wrapper&&Z(a0)&&r(aY,aQ)){aV=p.rename(aV,aQ);ax(aV);aL.push(aV);aT=0;return}if(aI.selector){ak(aD,function(a1){if("collapsed" in a1&&a1.collapsed!==aF){return}if(p.is(aV,a1.selector)&&!o(aV)){ax(aV,a1);aW=true;return false}});if(!aI.inline||aW){aT=0;return}}if(aP&&!aX&&r(aQ,a0)&&r(aY,aQ)&&!(!aR&&aV.nodeType===3&&aV.nodeValue.length===1&&aV.nodeValue.charCodeAt(0)===65279)&&!o(aV)&&(!aI.inline||!Y(aV))){if(!aT){aT=p.clone(aN,aq);aV.parentNode.insertBefore(aT,aV);aL.push(aT)}aT.appendChild(aV)}else{aT=0;ak(au(aV.childNodes),aU);if(aX){aP=aZ}aT=0}}ak(aS,aU)});if(aI.links===true){ak(aL,function(aS){function aT(aU){if(aU.nodeName==="A"){ax(aU,aI)}ak(au(aU.childNodes),aT)}aT(aS)})}ak(aL,function(aU){var aS;function aV(aX){var aW=0;ak(aX.childNodes,function(aY){if(!t(aY)&&!ab(aY)){aW++}});return aW}function aT(aW){var aY,aX;ak(aW.childNodes,function(aZ){if(aZ.nodeType==1&&!ab(aZ)&&!o(aZ)){aY=aZ;return aq}});if(aY&&!ab(aY)&&v(aY,aI)){aX=p.clone(aY,aq);ax(aX);p.replace(aX,aW,S);p.remove(aY,1)}return aX||aW}aS=aV(aU);if((aL.length>1||!Y(aU))&&aS===0){p.remove(aU,1);return}if(aI.inline||aI.wrapper){if(!aI.exact&&aS===1){aU=aT(aU)}ak(aD,function(aW){ak(p.select(aW.inline,aU),function(aX){if(ab(aX)){return}av(aW,aH,aX,aW.exact?aX:null)})});if(P(aU.parentNode,az,aH)){p.remove(aU,1);aU=0;return S}if(aI.merge_with_parents){p.getParent(aU.parentNode,function(aW){if(P(aW,az,aH)){p.remove(aU,1);aU=0;return S}})}if(aU&&aI.merge_siblings!==false){aU=L(U(aU),aU);aU=L(aU,U(aU,S))}}})}if(N(I.getNode())==="false"){aB=I.getNode();for(var aE=0,aC=aD.length;aE<aC;aE++){if(aD[aE].ceFalseOverride&&p.is(aB,aD[aE].selector)){ax(aB,aD[aE]);return}}return}if(aI){if(aB){if(aB.nodeType){ay=p.createRng();ay.setStartBefore(aB);ay.setEndAfter(aB);aJ(E(ay,aD),null,true)}else{aJ(aB,null,true)}}else{if(!aF||!aI.inline||p.select("td.mce-item-selected,th.mce-item-selected").length){var aK=aw.selection.getNode();if(!B&&aD[0].defaultBlock&&!p.getParent(aK,p.isBlock)){at(aD[0].defaultBlock)}aw.selection.setRng(aA());aG=I.getBookmark();aJ(E(I.getRng(S),aD),aG);if(aI.styles&&(aI.styles.color||aI.styles.textDecoration)){F(aK,ac,"childNodes");ac(aK)}I.moveToBookmark(aG);ai(I.getRng(S));aw.nodeChanged()}else{al("apply",az,aH)}}}}function R(az,aK,aB,aF){var aD=ao(az),aM=aD[0],aI,ay,aJ=true;function aA(aR){var aQ,aP,aO,aT,aS;if(aR.nodeType===1&&N(aR)){aT=aJ;aJ=N(aR)==="true";aS=true}aQ=au(aR.childNodes);if(aJ&&!aS){for(aP=0,aO=aD.length;aP<aO;aP++){if(av(aD[aP],aK,aR,aR)){break}}}if(aM.deep){if(aQ.length){for(aP=0,aO=aQ.length;aP<aO;aP++){aA(aQ[aP])}if(aS){aJ=aT}}}}function aE(aO){var aP;ak(C(aO.parentNode).reverse(),function(aQ){var aR;if(!aP&&aQ.id!="_start"&&aQ.id!="_end"){aR=P(aQ,az,aK,aF);if(aR&&aR.split!==false){aP=aQ}}});return aP}function ax(aS,aO,aT,aW){var aX,aV,aU,aQ,aR,aP;if(aS){aP=aS.parentNode;for(aX=aO.parentNode;aX&&aX!=aP;aX=aX.parentNode){aV=p.clone(aX,aq);for(aR=0;aR<aD.length;aR++){if(av(aD[aR],aK,aV,aV)){aV=0;break}}if(aV){if(aU){aV.appendChild(aU)}if(!aQ){aQ=aV}aU=aV}}if(aW&&(!aM.mixed||!Y(aS))){aO=p.split(aS,aO)}if(aU){aT.parentNode.insertBefore(aU,aT);aQ.appendChild(aT)}}return aO}function aL(aO){return ax(aE(aO),aO,aO,true)}function aH(aQ){var aP=p.get(aQ?"_start":"_end"),aO=aP[aQ?"firstChild":"lastChild"];if(ab(aO)){aO=aO[aQ?"firstChild":"lastChild"]}if(aO.nodeType==3&&aO.data.length===0){aO=aQ?aP.previousSibling||aP.nextSibling:aP.nextSibling||aP.previousSibling}p.remove(aP,true);return aO}function aN(aO){var aP,aQ;var aR=aO.commonAncestorContainer;aO=E(aO,aD,S);if(aM.split){aP=ad(aO,S);aQ=ad(aO);if(aP!=aQ){if(/^(TR|TH|TD)$/.test(aP.nodeName)&&aP.firstChild){if(aP.nodeName=="TR"){aP=aP.firstChild.firstChild||aP}else{aP=aP.firstChild||aP}}if(aR&&/^T(HEAD|BODY|FOOT|R)$/.test(aR.nodeName)&&am(aQ)&&aQ.firstChild){aQ=aQ.firstChild||aQ}if(p.isChildOf(aP,aQ)&&!Y(aQ)&&!am(aP)&&!am(aQ)){aP=aj(aP,"span",{id:"_start","data-mce-type":"bookmark"});aL(aP);aP=aH(S);return}aP=aj(aP,"span",{id:"_start","data-mce-type":"bookmark"});aQ=aj(aQ,"span",{id:"_end","data-mce-type":"bookmark"});aL(aP);aL(aQ);aP=aH(S);aQ=aH()}else{aP=aQ=aL(aP)}aO.startContainer=aP.parentNode?aP.parentNode:aP;aO.startOffset=K(aP);aO.endContainer=aQ.parentNode?aQ.parentNode:aQ;aO.endOffset=K(aQ)+1}ae.walk(aO,function(aS){ak(aS,function(aT){aA(aT);if(aT.nodeType===1&&aw.dom.getStyle(aT,"text-decoration")==="underline"&&aT.parentNode&&w(aT.parentNode)==="underline"){av({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,aT)}})})}if(aB){if(aB.nodeType){ay=p.createRng();ay.setStartBefore(aB);ay.setEndAfter(aB);aN(ay)}else{aN(aB)}return}if(N(I.getNode())==="false"){aB=I.getNode();for(var aG=0,aC=aD.length;aG<aC;aG++){if(aD[aG].ceFalseOverride){if(av(aD[aG],aK,aB,aB)){break}}}return}if(!I.isCollapsed()||!aM.inline||p.select("td.mce-item-selected,th.mce-item-selected").length){aI=I.getBookmark();aN(I.getRng(S));I.moveToBookmark(aI);if(aM.inline&&y(az,aK,I.getStart())){ai(I.getRng(true))}aw.nodeChanged()}else{al("remove",az,aK,aF)}}function V(ay,aA,az){var ax=ao(ay);if(y(ay,aA,az)&&(!("toggle" in ax[0])||ax[0].toggle)){R(ay,aA,az)}else{at(ay,aA,az)}}function P(ay,ax,aD,aB){var az=ao(ax),aE,aC,aA;function aF(aJ,aL,aM){var aI,aK,aG=aL[aM],aH;if(aL.onmatch){return aL.onmatch(aJ,aL,aM)}if(aG){if(aG.length===T){for(aI in aG){if(aG.hasOwnProperty(aI)){if(aM==="attributes"){aK=p.getAttrib(aJ,aI)}else{aK=af(aJ,aI)}if(aB&&!aK&&!aL.exact){return}if((!aB||aL.exact)&&!u(aK,J(H(aG[aI],aD),aI))){return}}}}else{for(aH=0;aH<aG.length;aH++){if(aM==="attributes"?p.getAttrib(aJ,aG[aH]):af(aJ,aG[aH])){return aL}}}}return aL}if(az&&ay){for(aC=0;aC<az.length;aC++){aE=az[aC];if(v(ay,aE)&&aF(ay,aE,"attributes")&&aF(ay,aE,"styles")){if((aA=aE.classes)){for(aC=0;aC<aA.length;aC++){if(!p.hasClass(ay,aA[aC])){return}}}return aE}}}}function y(az,aB,aA){var ay;function ax(aD){var aC=p.getRoot();if(aD===aC){return false}aD=p.getParent(aD,function(aE){return aE.parentNode===aC||!!P(aE,az,aB,true)});return P(aD,az,aB)}if(aA){return ax(aA)}aA=I.getNode();if(ax(aA)){return S}ay=I.getStart();if(ay!=aA){if(ax(ay)){return S}}return aq}function M(aB,aA){var ay,az=[],ax={};ay=I.getStart();p.getParent(ay,function(aE){var aD,aC;for(aD=0;aD<aB.length;aD++){aC=aB[aD];if(!ax[aC]&&P(aE,aC,aA)){ax[aC]=true;az.push(aC)}}},p.getRoot());return az}function Q(aB){var aD=ao(aB),aA,az,aC,ay,ax;if(aD){aA=I.getStart();az=C(aA);for(ay=aD.length-1;ay>=0;ay--){ax=aD[ay].selector;if(!ax||aD[ay].defaultBlock){return S}for(aC=az.length-1;aC>=0;aC--){if(p.is(az[aC],ax)){return S}}}}return aq}function aa(ax,aA,ay){var az;if(!ag){ag={};az={};aw.on("NodeChange",function(aC){var aB=C(aC.element),aD={};aB=j.grep(aB,function(aE){return aE.nodeType==1&&!aE.getAttribute("data-mce-bogus")});ak(ag,function(aE,aF){ak(aB,function(aG){if(P(aG,aF,{},aE.similar)){if(!az[aF]){ak(aE,function(aH){aH(true,{node:aG,format:aF,parents:aB})});az[aF]=aE}aD[aF]=aE;return false}})});ak(az,function(aE,aF){if(!aD[aF]){delete az[aF];ak(aE,function(aG){aG(false,{node:aC.element,format:aF,parents:aB})})}})})}ak(ax.split(","),function(aB){if(!ag[aB]){ag[aB]=[];ag[aB].similar=ay}ag[aB].push(aA)});return this}function ar(ax){return n.getCssText(aw,ax)}G(this,{get:ao,register:A,unregister:O,apply:at,remove:R,toggle:V,match:y,matchAll:M,matchNode:P,canApply:Q,formatChanged:aa,getCssText:ar});x();ap();aw.on("BeforeGetContent",function(ax){if(z&&ax.format!="raw"){z()}});aw.on("mouseup keydown",function(ax){if(X){X(ax)}});function v(ax,ay){if(u(ax,ay.inline)){return S}if(u(ax,ay.block)){return S}if(ay.selector){return ax.nodeType==1&&p.is(ax,ay.selector)}}function u(ay,ax){ay=ay||"";ax=ax||"";ay=""+(ay.nodeName||ay);ax=""+(ax.nodeName||ax);return ay.toLowerCase()==ax.toLowerCase()}function af(ay,ax){return J(p.getStyle(ay,ax),ax)}function J(ay,ax){if(ax=="color"||ax=="backgroundColor"){ay=p.toHex(ay)}if(ax=="fontWeight"&&ay==700){ay="bold"}if(ax=="fontFamily"){ay=ay.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+ay}function H(ax,ay){if(typeof ax!="string"){ax=ax(ay)}else{if(ay){ax=ax.replace(/%(\w+)/g,function(aA,az){return ay[az]||aA})}}return ax}function t(ax){return ax&&ax.nodeType===3&&/^([\t \r\n]+|)$/.test(ax.nodeValue)}function aj(az,ay,ax){var aA=p.create(ay,ax);az.parentNode.insertBefore(aA,az);aA.appendChild(az);return aA}function E(ax,aI,aA){var aJ,aD,aH,az=ax.startContainer,aE=ax.startOffset,aM=ax.endContainer,aG=ax.endOffset;function aK(aT){var aO,aR,aQ,aP,aN;aO=aR=aT?az:aM;aP=aT?"previousSibling":"nextSibling";aN=p.getRoot();function aS(aU){return aU.nodeName=="BR"&&aU.getAttribute("data-mce-bogus")&&!aU.nextSibling}if(aO.nodeType==3&&!t(aO)){if(aT?aE>0:aG<aO.nodeValue.length){return aO}}while(true){if(!aI[0].block_expand&&Y(aR)){return aR}for(aQ=aR[aP];aQ;aQ=aQ[aP]){if(!ab(aQ)&&!t(aQ)&&!aS(aQ)){return aR}}if(aR==aN||aR.parentNode==aN){aO=aR;break}aR=aR.parentNode}return aO}function aC(aN,aO){if(aO===T){aO=aN.nodeType===3?aN.length:aN.childNodes.length}while(aN&&aN.hasChildNodes()){aN=aN.childNodes[aO];if(aN){aO=aN.nodeType===3?aN.length:aN.childNodes.length}}return{node:aN,offset:aO}}if(az.nodeType==1&&az.hasChildNodes()){aJ=az.childNodes.length-1;az=az.childNodes[aE>aJ?aJ:aE];if(az.nodeType==3){aE=0}}if(aM.nodeType==1&&aM.hasChildNodes()){aJ=aM.childNodes.length-1;aM=aM.childNodes[aG>aJ?aJ:aG-1];if(aM.nodeType==3){aG=aM.nodeValue.length}}function aL(aO){var aN=aO;while(aN){if(aN.nodeType===1&&N(aN)){return N(aN)==="false"?aN:aO}aN=aN.parentNode}return aO}function aF(aO,aS,aU){var aR,aP,aT,aN;function aQ(aW,aY){var aZ,aV,aX=aW.nodeValue;if(typeof aY=="undefined"){aY=aU?aX.length:0}if(aU){aZ=aX.lastIndexOf(" ",aY);aV=aX.lastIndexOf("\u00a0",aY);aZ=aZ>aV?aZ:aV;if(aZ!==-1&&!aA){aZ++}}else{aZ=aX.indexOf(" ",aY);aV=aX.indexOf("\u00a0",aY);aZ=aZ!==-1&&(aV===-1||aZ<aV)?aZ:aV}return aZ}if(aO.nodeType===3){aT=aQ(aO,aS);if(aT!==-1){return{container:aO,offset:aT}}aN=aO}aR=new l(aO,p.getParent(aO,Y)||aw.getBody());while((aP=aR[aU?"prev":"next"]())){if(aP.nodeType===3){aN=aP;aT=aQ(aP);if(aT!==-1){return{container:aP,offset:aT}}}else{if(Y(aP)){break}}}if(aN){if(aU){aS=0}else{aS=aN.length}return{container:aN,offset:aS}}}function aB(aO,aN){var aP,aQ,aS,aR;if(aO.nodeType==3&&aO.nodeValue.length===0&&aO[aN]){aO=aO[aN]}aP=C(aO);for(aQ=0;aQ<aP.length;aQ++){for(aS=0;aS<aI.length;aS++){aR=aI[aS];if("collapsed" in aR&&aR.collapsed!==ax.collapsed){continue}if(p.is(aP[aQ],aR.selector)){return aP[aQ]}}}return aO}function ay(aP,aN){var aQ,aO=p.getRoot();if(!aI[0].wrapper){aQ=p.getParent(aP,aI[0].block,aO)}if(!aQ){aQ=p.getParent(aP.nodeType==3?aP.parentNode:aP,function(aR){return aR!=aO&&Z(aR)})}if(aQ&&aI[0].wrapper){aQ=C(aQ,"ul,ol").reverse()[0]||aQ}if(!aQ){aQ=aP;while(aQ[aN]&&!Y(aQ[aN])){aQ=aQ[aN];if(u(aQ,"br")){break}}}return aQ||aP}az=aL(az);aM=aL(aM);if(ab(az.parentNode)||ab(az)){az=ab(az)?az:az.parentNode;az=az.nextSibling||az;if(az.nodeType==3){aE=0}}if(ab(aM.parentNode)||ab(aM)){aM=ab(aM)?aM:aM.parentNode;aM=aM.previousSibling||aM;if(aM.nodeType==3){aG=aM.length}}if(aI[0].inline){if(ax.collapsed){aH=aF(az,aE,true);if(aH){az=aH.container;aE=aH.offset}aH=aF(aM,aG);if(aH){aM=aH.container;aG=aH.offset}}aD=aC(aM,aG);if(aD.node){while(aD.node&&aD.offset===0&&aD.node.previousSibling){aD=aC(aD.node.previousSibling)}if(aD.node&&aD.offset>0&&aD.node.nodeType===3&&aD.node.nodeValue.charAt(aD.offset-1)===" "){if(aD.offset>1){aM=aD.node;aM.splitText(aD.offset-1)}}}}if(aI[0].inline||aI[0].block_expand){if(!aI[0].inline||(az.nodeType!=3||aE===0)){az=aK(true)}if(!aI[0].inline||(aM.nodeType!=3||aG===aM.nodeValue.length)){aM=aK()}}if(aI[0].selector&&aI[0].expand!==aq&&!aI[0].inline){az=aB(az,"previousSibling");aM=aB(aM,"nextSibling")}if(aI[0].block||aI[0].selector){az=ay(az,"previousSibling");aM=ay(aM,"nextSibling");if(aI[0].block){if(!Y(az)){az=aK(true)}if(!Y(aM)){aM=aK()}}}if(az.nodeType==1){aE=K(az);az=az.parentNode}if(aM.nodeType==1){aG=K(aM)+1;aM=aM.parentNode}return{startContainer:az,startOffset:aE,endContainer:aM,endOffset:aG}}function q(ax,ay){return ay.links&&ax.tagName=="A"}function av(aD,aC,aA,ax){var az,ay,aB;if(!v(aA,aD)&&!q(aA,aD)){return aq}if(aD.remove!="all"){ak(aD.styles,function(aF,aE){aF=J(H(aF,aC),aE);if(typeof aE==="number"){aE=aF;ax=0}if(aD.remove_similar||(!ax||u(af(ax,aE),aF))){p.setStyle(aA,aE,"")}aB=1});if(aB&&p.getAttrib(aA,"style")===""){aA.removeAttribute("style");aA.removeAttribute("data-mce-style")}ak(aD.attributes,function(aG,aE){var aF;aG=H(aG,aC);if(typeof aE==="number"){aE=aG;ax=0}if(!ax||u(p.getAttrib(ax,aE),aG)){if(aE=="class"){aG=p.getAttrib(aA,aE);if(aG){aF="";ak(aG.split(/\s+/),function(aH){if(/mce\-\w+/.test(aH)){aF+=(aF?" ":"")+aH}});if(aF){p.setAttrib(aA,aE,aF);return}}}if(aE=="class"){aA.removeAttribute("className")}if(s.test(aE)){aA.removeAttribute("data-mce-"+aE)}aA.removeAttribute(aE)}});ak(aD.classes,function(aE){aE=H(aE,aC);if(!ax||p.hasClass(ax,aE)){p.removeClass(aA,aE)}});ay=p.getAttribs(aA);for(az=0;az<ay.length;az++){if(ay[az].nodeName.indexOf("_")!==0){return aq}}}if(aD.remove!="none"){D(aA,aD);return S}}function D(az,aA){var ax=az.parentNode,ay;function aB(aD,aC,aE){aD=U(aD,aC,aE);return !aD||(aD.nodeName=="BR"||Y(aD))}if(aA.block){if(!B){if(Y(az)&&!Y(ax)){if(!aB(az,aq)&&!aB(az.firstChild,S,1)){az.insertBefore(p.create("br"),az.firstChild)}if(!aB(az,S)&&!aB(az.lastChild,aq,1)){az.appendChild(p.create("br"))}}}else{if(ax==p.getRoot()){if(!aA.list_block||!u(az,aA.list_block)){ak(au(az.childNodes),function(aC){if(r(B,aC.nodeName.toLowerCase())){if(!ay){ay=aj(aC,B);p.setAttribs(ay,aw.settings.forced_root_block_attrs)}else{ay.appendChild(aC)}}else{ay=0}})}}}}if(aA.selector&&aA.inline&&!u(aA.inline,az)){return}p.remove(az,1)}function U(ay,ax,az){if(ay){ax=ax?"nextSibling":"previousSibling";for(ay=az?ay:ay[ax];ay;ay=ay[ax]){if(ay.nodeType==1||!t(ay)){return ay}}}}function L(aB,aA){var az,ay,ax=new k(p);function aC(aE,aD){for(az=aE;az;az=az[aD]){if(az.nodeType==3&&az.nodeValue.length!==0){return aE}if(az.nodeType==1&&!ab(az)){return az}}return aE}if(aB&&aA){aB=aC(aB,"previousSibling");aA=aC(aA,"nextSibling");if(ax.compare(aB,aA)){for(az=aB.nextSibling;az&&az!=aA;){ay=az;az=az.nextSibling;aB.appendChild(ay)}p.remove(aA);ak(au(aA.childNodes),function(aD){aB.appendChild(aD)});return aB}}return aA}function ad(ay,aB){var ax,aA,az;ax=ay[aB?"startContainer":"endContainer"];aA=ay[aB?"startOffset":"endOffset"];if(ax.nodeType==1){az=ax.childNodes.length-1;if(!aB&&aA){aA--}ax=ax.childNodes[aA>az?az:aA]}if(ax.nodeType===3&&aB&&aA>=ax.nodeValue.length){ax=new l(ax,aw.getBody()).next()||ax}if(ax.nodeType===3&&!aB&&aA===0){ax=new l(ax,aw.getBody()).prev()||ax}return ax}function al(aH,ax,aF,aB){var aI="_mce_caret",ay=aw.settings.caret_debug;function az(aM){var aL=p.create("span",{id:aI,"data-mce-bogus":true,style:ay?"color:red":""});if(aM){aL.appendChild(aw.getDoc().createTextNode(W))}return aL}function aG(aM,aL){while(aM){if((aM.nodeType===3&&aM.nodeValue!==W)||aM.childNodes.length>1){return false}if(aL&&aM.nodeType===1){aL.push(aM)}aM=aM.firstChild}return true}function aD(aL){while(aL){if(aL.id===aI){return aL}aL=aL.parentNode}}function aC(aL){var aM;if(aL){aM=new l(aL,aL);for(aL=aM.current();aL;aL=aM.next()){if(aL.nodeType===3){return aL}}}}function aA(aN,aM){var aO,aL;if(!aN){aN=aD(I.getStart());if(!aN){while((aN=p.get(aI))){aA(aN,false)}}}else{aL=I.getRng(true);if(aG(aN)){if(aM!==false){aL.setStartBefore(aN);aL.setEndBefore(aN)}p.remove(aN)}else{aO=aC(aN);if(aO.nodeValue.charAt(0)===W){aO.deleteData(0,1);if(aL.startContainer==aO&&aL.startOffset>0){aL.setStart(aO,aL.startOffset-1)}if(aL.endContainer==aO&&aL.endOffset>0){aL.setEnd(aO,aL.endOffset-1)}}p.remove(aN,1)}I.setRng(aL)}}function aE(){var aN,aL,aR,aQ,aO,aM,aP;aN=I.getRng(true);aQ=aN.startOffset;aM=aN.startContainer;aP=aM.nodeValue;aL=aD(I.getStart());if(aL){aR=aC(aL)}if(aP&&aQ>0&&aQ<aP.length&&/\w/.test(aP.charAt(aQ))&&/\w/.test(aP.charAt(aQ-1))){aO=I.getBookmark();aN.collapse(true);aN=E(aN,ao(ax));aN=ae.split(aN);at(ax,aF,aN);I.moveToBookmark(aO)}else{if(!aL||aR.nodeValue!==W){aL=az(true);aR=aL.firstChild;aN.insertNode(aL);aQ=1;at(ax,aF,aL)}else{at(ax,aF,aL)}I.setCursorLocation(aR,aQ)}}function aJ(){var aL=I.getRng(true),aM,aP,aS,aR,aN,aV,aU=[],aQ,aT;aM=aL.startContainer;aP=aL.startOffset;aN=aM;if(aM.nodeType==3){if(aP!=aM.nodeValue.length){aR=true}aN=aN.parentNode}while(aN){if(P(aN,ax,aF,aB)){aV=aN;break}if(aN.nextSibling){aR=true}aU.push(aN);aN=aN.parentNode}if(!aV){return}if(aR){aS=I.getBookmark();aL.collapse(true);aL=E(aL,ao(ax),true);aL=ae.split(aL);R(ax,aF,aL);I.moveToBookmark(aS)}else{aT=az();aN=aT;for(aQ=aU.length-1;aQ>=0;aQ--){aN.appendChild(p.clone(aU[aQ],false));aN=aN.firstChild}aN.appendChild(p.doc.createTextNode(W));aN=aN.firstChild;var aO=p.getParent(aV,Z);if(aO&&p.isEmpty(aO)){aV.parentNode.replaceChild(aT,aV)}else{p.insertAfter(aT,aV)}I.setCursorLocation(aN,1);if(p.isEmpty(aV)){p.remove(aV)}}}function aK(){var aL;aL=aD(I.getStart());if(aL&&!p.isEmpty(aL)){F(aL,function(aM){if(aM.nodeType==1&&aM.id!==aI&&!p.isEmpty(aM)){p.setAttrib(aM,"data-mce-bogus",null)}},"childNodes")}}if(!aw._hasCaretEvents){z=function(){var aL=[],aM;if(aG(aD(I.getStart()),aL)){aM=aL.length;while(aM--){p.setAttrib(aL[aM],"data-mce-bogus","1")}}};X=function(aM){var aL=aM.keyCode;aA();if(aL==8&&I.isCollapsed()&&I.getStart().innerHTML==W){aA(aD(I.getStart()))}if(aL==37||aL==39){aA(aD(I.getStart()))}aK()};aw.on("SetContent",function(aL){if(aL.selection){aK()}});aw._hasCaretEvents=true}if(aH=="apply"){aE()}else{aJ()}}function ai(ay){var ax=ay.startContainer,aE=ay.startOffset,aA,aD,aC,az,aB;if(ay.startContainer==ay.endContainer){if(an(ay.startContainer.childNodes[ay.startOffset])){return}}if(ax.nodeType==3&&aE>=ax.nodeValue.length){aE=K(ax);ax=ax.parentNode;aA=true}if(ax.nodeType==1){az=ax.childNodes;ax=az[Math.min(aE,az.length-1)];aD=new l(ax,p.getParent(ax,p.isBlock));if(aE>az.length-1||aA){aD.next()}for(aC=aD.current();aC;aC=aD.next()){if(aC.nodeType==3&&!t(aC)){aB=p.create("a",{"data-mce-bogus":"all"},W);aC.parentNode.insertBefore(aB,aC);ay.setStart(aC,0);I.setRng(ay);p.remove(aB);return}}}}}});h("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(j,i){return function(p){var t=this,q=0,m=[],n,r,s=0;function k(){return p.serializer.getTrimmedContent()}function o(u){p.setDirty(u)}function l(u){t.typing=false;t.add({},u)}p.on("init",function(){t.add()});p.on("BeforeExecCommand",function(v){var u=v.command;if(u!="Undo"&&u!="Redo"&&u!="mceRepaint"){t.beforeChange()}});p.on("ExecCommand",function(v){var u=v.command;if(u!="Undo"&&u!="Redo"&&u!="mceRepaint"){l(v)}});p.on("ObjectResizeStart Cut",function(){t.beforeChange()});p.on("SaveContent ObjectResized blur",l);p.on("DragEnd",l);p.on("KeyUp",function(v){var u=v.keyCode;if(v.isDefaultPrevented()){return}if((u>=33&&u<=36)||(u>=37&&u<=40)||u==45||u==13||v.ctrlKey){l();p.nodeChanged()}if(u==46||u==8||(i.mac&&(u==91||u==93))){p.nodeChanged()}if(r&&t.typing){if(!p.isDirty()){o(m[0]&&k()!=m[0].content);if(p.isDirty()){p.fire("change",{level:m[0],lastLevel:null})}}p.fire("TypingUndo");r=false;p.nodeChanged()}});p.on("KeyDown",function(w){var v=w.keyCode;if(w.isDefaultPrevented()){return}if((v>=33&&v<=36)||(v>=37&&v<=40)||v==45){if(t.typing){l(w)}return}var u=(w.ctrlKey&&!w.altKey)||w.metaKey;if((v<16||v>20)&&v!=224&&v!=91&&!t.typing&&!u){t.beforeChange();t.typing=true;t.add({},w);r=true}});p.on("MouseDown",function(u){if(t.typing){l(u)}});p.addShortcut("meta+z","","Undo");p.addShortcut("meta+y,meta+shift+z","","Redo");p.on("AddUndo Undo Redo ClearUndos",function(u){if(!u.isDefaultPrevented()){p.nodeChanged()}});t={data:m,typing:false,beforeChange:function(){if(!s){n=p.selection.getBookmark(2,true)}},add:function(z,y){var v,w=p.settings,x;z=z||{};z.content=k();if(s||p.removed){return null}x=m[q];if(p.fire("BeforeAddUndo",{level:z,lastLevel:x,originalEvent:y}).isDefaultPrevented()){return null}if(x&&x.content==z.content){return null}if(m[q]){m[q].beforeBookmark=n}if(w.custom_undo_redo_levels){if(m.length>w.custom_undo_redo_levels){for(v=0;v<m.length-1;v++){m[v]=m[v+1]}m.length--;q=m.length}}z.bookmark=p.selection.getBookmark(2,true);if(q<m.length-1){m.length=q+1}m.push(z);q=m.length-1;var u={level:z,lastLevel:x,originalEvent:y};p.fire("AddUndo",u);if(q>0){o(true);p.fire("change",u)}return z},undo:function(){var u;if(t.typing){t.add();t.typing=false}if(q>0){u=m[--q];p.setContent(u.content,{format:"raw"});p.selection.moveToBookmark(u.beforeBookmark);o(true);p.fire("undo",{level:u})}return u},redo:function(){var u;if(q<m.length-1){u=m[++q];p.setContent(u.content,{format:"raw"});p.selection.moveToBookmark(u.bookmark);o(true);p.fire("redo",{level:u})}return u},clear:function(){m=[];q=0;t.typing=false;p.fire("ClearUndos")},hasUndo:function(){return q>0||(t.typing&&m[0]&&k()!=m[0].content)},hasRedo:function(){return q<m.length-1&&!this.typing},transact:function(u){t.beforeChange();try{s++;u()}finally{s--}t.add()}};return t}});h("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(j,l,i){var k=i.ie&&i.ie<11;return function(r){var o=r.dom,s=r.selection,m=r.settings;var u=r.undoManager,n=r.schema,p=n.getNonEmptyElements(),t=n.getMoveCaretBeforeOnEnterElements();function q(O){var I,U,v,M,H,C,aa,P,A,w,z,G,X,K,R;function S(ab){return ab&&o.isBlock(ab)&&!/^(TD|TH|CAPTION|FORM)$/.test(ab.nodeName)&&!/^(fixed|absolute)/i.test(ab.style.position)&&o.getContentEditable(ab)!=="true"}function Q(ab){return ab&&/^(TD|TH|CAPTION)$/.test(ab.nodeName)}function T(ac){var ab;if(o.isBlock(ac)){ab=s.getRng();ac.appendChild(o.create("span",null,"\u00a0"));s.select(ac);ac.lastChild.outerHTML="";s.setRng(ab)}}function L(ad){var ac=ad,ae=[],ab;if(!ac){return}while((ac=ac.firstChild)){if(o.isBlock(ac)){return}if(ac.nodeType==1&&!p[ac.nodeName.toLowerCase()]){ae.push(ac)}}ab=ae.length;while(ab--){ac=ae[ab];if(!ac.hasChildNodes()||(ac.firstChild==ac.lastChild&&ac.firstChild.nodeValue==="")){o.remove(ac)}else{if(ac.nodeName=="A"&&(ac.innerText||ac.textContent)===" "){o.remove(ac)}}}}function y(ac){var ai,af,ab,ae=ac,ad;function ah(aj){while(aj){if(aj.nodeType==1||(aj.nodeType==3&&aj.data&&/[\r\n\s]/.test(aj.data))){return aj}aj=aj.nextSibling}}if(!ac){return}if(i.ie&&i.ie<9&&C&&C.firstChild){if(C.firstChild==C.lastChild&&C.firstChild.tagName=="BR"){o.remove(C.firstChild)}}if(/^(LI|DT|DD)$/.test(ac.nodeName)){var ag=ah(ac.firstChild);if(ag&&/^(UL|OL|DL)$/.test(ag.nodeName)){ac.insertBefore(o.doc.createTextNode("\u00a0"),ac.firstChild)}}ab=o.createRng();if(!i.ie){ac.normalize()}if(ac.hasChildNodes()){ai=new j(ac,ac);while((af=ai.current())){if(af.nodeType==3){ab.setStart(af,0);ab.setEnd(af,0);break}if(t[af.nodeName.toLowerCase()]){ab.setStartBefore(af);ab.setEndBefore(af);break}ae=af;af=ai.next()}if(!af){ab.setStart(ae,0);ab.setEnd(ae,0)}}else{if(ac.nodeName=="BR"){if(ac.nextSibling&&o.isBlock(ac.nextSibling)){if(!aa||aa<9){ad=o.create("br");ac.parentNode.insertBefore(ad,ac)}ab.setStartBefore(ac);ab.setEndBefore(ac)}else{ab.setStartAfter(ac);ab.setEndAfter(ac)}}else{ab.setStart(ac,0);ab.setEnd(ac,0)}}s.setRng(ab);o.remove(ad);s.scrollIntoView(ac)}function J(ac){var ab=m.forced_root_block;if(ab&&ab.toLowerCase()===ac.tagName.toLowerCase()){o.setAttribs(ac,m.forced_root_block_attrs)}}function B(ab){ab.innerHTML=!k?'<br data-mce-bogus="1">':""}function E(ac){var ae=M,ag,af,ab,ad=n.getTextInlineElements();if(ac||G=="TABLE"){ag=o.create(ac||K);J(ag)}else{ag=C.cloneNode(false)}ab=ag;if(m.keep_styles!==false){do{if(ad[ae.nodeName]){if(ae.id=="_mce_caret"){continue}af=ae.cloneNode(false);o.setAttrib(af,"id","");if(ag.hasChildNodes()){af.appendChild(ag.firstChild);ag.appendChild(af)}else{ab=af;ag.appendChild(af)}}}while((ae=ae.parentNode))}if(!k){ab.innerHTML='<br data-mce-bogus="1">'}return ag}function D(ae){var ad,ac,ab;if(M.nodeType==3&&(ae?H>0:H<M.nodeValue.length)){return false}if(M.parentNode==C&&R&&!ae){return true}if(ae&&M.nodeType==1&&M==C.firstChild){return true}if(M.nodeName==="TABLE"||(M.previousSibling&&M.previousSibling.nodeName=="TABLE")){return(R&&!ae)||(!R&&ae)}ad=new j(M,C);if(M.nodeType==3){if(ae&&H===0){ad.prev()}else{if(!ae&&H==M.nodeValue.length){ad.next()}}}while((ac=ad.current())){if(ac.nodeType===1){if(!ac.getAttribute("data-mce-bogus")){ab=ac.nodeName.toLowerCase();if(p[ab]&&ab!=="br"){return false}}}else{if(ac.nodeType===3&&!/^[ \t\r\n]*$/.test(ac.nodeValue)){return false}}if(ae){ad.prev()}else{ad.next()}}return true}function x(ac,ag){var ai,ad,ae,af,ah,ab,aj=K||"P";ad=o.getParent(ac,o.isBlock);if(!ad||!S(ad)){ad=ad||v;if(ad==r.getBody()||Q(ad)){ab=ad.nodeName.toLowerCase()}else{ab=ad.parentNode.nodeName.toLowerCase()}if(!ad.hasChildNodes()){ai=o.create(aj);J(ai);ad.appendChild(ai);I.setStart(ai,0);I.setEnd(ai,0);return ai}af=ac;while(af.parentNode!=ad){af=af.parentNode}while(af&&!o.isBlock(af)){ae=af;af=af.previousSibling}if(ae&&n.isValidChild(ab,aj.toLowerCase())){ai=o.create(aj);J(ai);ae.parentNode.insertBefore(ai,ae);af=ae;while(af&&!o.isBlock(af)){ah=af.nextSibling;ai.appendChild(af);af=ah}I.setStart(ac,ag);I.setEnd(ac,ag)}}return ac}function V(){function ac(af){var ae=z[af?"firstChild":"lastChild"];while(ae){if(ae.nodeType==1){break}ae=ae[af?"nextSibling":"previousSibling"]}return ae===C}function ad(){var ae=z.parentNode;if(/^(LI|DT|DD)$/.test(ae.nodeName)){return ae}return z}if(z==r.getBody()){return}var ab=z.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(ab)){K="LI"}A=K?E(K):o.create("BR");if(ac(true)&&ac()){if(ab=="LI"){o.insertAfter(A,ad())}else{o.replace(A,z)}}else{if(ac(true)){if(ab=="LI"){o.insertAfter(A,ad());A.appendChild(o.doc.createTextNode(" "));A.appendChild(z)}else{z.parentNode.insertBefore(A,z)}}else{if(ac()){o.insertAfter(A,ad());T(A)}else{z=ad();U=I.cloneRange();U.setStartAfter(C);U.setEndAfter(z);w=U.extractContents();if(K=="LI"&&w.firstChild.nodeName=="LI"){A=w.firstChild;o.insertAfter(w,z)}else{o.insertAfter(w,z);o.insertAfter(A,z)}}}}o.remove(C);y(A);u.add()}function Z(){r.execCommand("InsertLineBreak",false,O)}function F(ab){do{if(ab.nodeType===3){ab.nodeValue=ab.nodeValue.replace(/^[\r\n]+/,"")}ab=ab.firstChild}while(ab)}function Y(ad){var ab=o.getRoot(),ac,ae;ac=ad;while(ac!==ab&&o.getContentEditable(ac)!=="false"){if(o.getContentEditable(ac)==="true"){ae=ac}ac=ac.parentNode}return ac!==ab?ae:ab}function W(ac){var ab;if(!k){ac.normalize();ab=ac.lastChild;if(!ab||(/^(left|right)$/gi.test(o.getStyle(ab,"float",true)))){o.add(ac,"br")}}}function N(){if(/^(H[1-6]|PRE|FIGURE)$/.test(G)&&X!="HGROUP"){A=E(K)}else{A=E()}if(m.end_container_on_empty_block&&S(z)&&o.isEmpty(C)){A=o.split(z,C)}else{o.insertAfter(A,C)}y(A)}I=s.getRng(true);if(O.isDefaultPrevented()){return}if(!I.collapsed){r.execCommand("Delete");return}new l(o).normalize(I);M=I.startContainer;H=I.startOffset;K=(m.force_p_newlines?"p":"")||m.forced_root_block;K=K?K.toUpperCase():"";aa=o.doc.documentMode;P=O.shiftKey;if(M.nodeType==1&&M.hasChildNodes()){R=H>M.childNodes.length-1;M=M.childNodes[Math.min(H,M.childNodes.length-1)]||M;if(R&&M.nodeType==3){H=M.nodeValue.length}else{H=0}}v=Y(M);if(!v){return}u.beforeChange();if(!o.isBlock(v)&&v!=o.getRoot()){if(!K||P){Z()}return}if((K&&!P)||(!K&&P)){M=x(M,H)}C=o.getParent(M,o.isBlock);z=C?o.getParent(C.parentNode,o.isBlock):null;G=C?C.nodeName.toUpperCase():"";X=z?z.nodeName.toUpperCase():"";if(X=="LI"&&!O.ctrlKey){C=z;G=X}if(/^(LI|DT|DD)$/.test(G)){if(!K&&P){Z();return}if(o.isEmpty(C)){V();return}}if(G=="PRE"&&m.br_in_pre!==false){if(!P){Z();return}}else{if((!K&&!P&&G!="LI")||(K&&P)){Z();return}}if(K&&C===r.getBody()){return}K=K||"P";if(D()){N()}else{if(D(true)){A=C.parentNode.insertBefore(E(),C);T(A);y(C)}else{U=I.cloneRange();U.setEndAfter(C);w=U.extractContents();F(w);A=w.firstChild;o.insertAfter(w,C);L(A);W(C);if(o.isEmpty(C)){B(C)}A.normalize();if(o.isEmpty(A)){o.remove(A);N()}else{y(A)}}}o.setAttrib(A,"id","");r.fire("NewBlock",{newBlock:A});u.add()}r.on("keydown",function(v){if(v.keyCode==13){if(q(v)!==false){v.preventDefault()}}})}});h("tinymce/ForceBlocks",[],function(){return function(k){var j=k.settings,n=k.dom,i=k.selection;var m=k.schema,l=m.getBlockElements();function o(){var u=i.getStart(),s=k.getBody(),p;var v,A,E,C,t;var w,x=-16777215,B,q;var D,r,z;z=j.forced_root_block;if(!u||u.nodeType!==1||!z){return}while(u&&u!=s){if(l[u.nodeName]){return}u=u.parentNode}p=i.getRng();if(p.setStart){v=p.startContainer;A=p.startOffset;E=p.endContainer;C=p.endOffset;try{q=k.getDoc().activeElement===s}catch(y){}}else{if(p.item){u=p.item(0);p=k.getDoc().body.createTextRange();p.moveToElementText(u)}q=p.parentElement().ownerDocument===k.getDoc();D=p.duplicate();D.collapse(true);A=D.move("character",x)*-1;if(!D.collapsed){D=p.duplicate();D.collapse(false);C=(D.move("character",x)*-1)-A}}u=s.firstChild;r=s.nodeName.toLowerCase();while(u){if(((u.nodeType===3||(u.nodeType==1&&!l[u.nodeName])))&&m.isValidChild(r,z.toLowerCase())){if(u.nodeType===3&&u.nodeValue.length===0){w=u;u=u.nextSibling;n.remove(w);continue}if(!t){t=n.create(z,k.settings.forced_root_block_attrs);u.parentNode.insertBefore(t,u);B=true}w=u;u=u.nextSibling;t.appendChild(w)}else{t=null;u=u.nextSibling}}if(B&&q){if(p.setStart){p.setStart(v,A);p.setEnd(E,C);i.setRng(p)}else{try{p=k.getDoc().body.createTextRange();p.moveToElementText(s);p.collapse(true);p.moveStart("character",A);if(C>0){p.moveEnd("character",C)}p.select()}catch(y){}}k.nodeChanged()}}if(j.forced_root_block){k.on("NodeChange",o)}}});h("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker"],function(s,q,l,j,o,v){var u=l.each,r=l.extend;var i=l.map,w=l.inArray,t=l.explode;var k=q.ie,n=q.ie&&q.ie<11;var m=true,p=false;return function(B){var M,S,L,E={state:{},exec:{},value:{}},O=B.settings,F;B.on("PreInit",function(){M=B.dom;S=B.selection;O=B.settings;L=B.formatter});function N(aa,Z,Y,T){var V,X,W=0;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(aa)&&(!T||!T.skip_focus)){B.focus()}T=B.fire("BeforeExecCommand",{command:aa,ui:Z,value:Y});if(T.isDefaultPrevented()){return false}X=aa.toLowerCase();if((V=E.exec[X])){V(X,Z,Y);B.fire("ExecCommand",{command:aa,ui:Z,value:Y});return true}u(B.plugins,function(ab){if(ab.execCommand&&ab.execCommand(aa,Z,Y)){B.fire("ExecCommand",{command:aa,ui:Z,value:Y});W=true;return false}});if(W){return W}if(B.theme&&B.theme.execCommand&&B.theme.execCommand(aa,Z,Y)){B.fire("ExecCommand",{command:aa,ui:Z,value:Y});return true}try{W=B.getDoc().execCommand(aa,Z,Y)}catch(U){}if(W){B.fire("ExecCommand",{command:aa,ui:Z,value:Y});return true}return false}function D(V){var U;if(B._isHidden()){return}V=V.toLowerCase();if((U=E.state[V])){return U(V)}try{return B.getDoc().queryCommandState(V)}catch(T){}return false}function K(V){var U;if(B._isHidden()){return}V=V.toLowerCase();if((U=E.value[V])){return U(V)}try{return B.getDoc().queryCommandValue(V)}catch(T){}}function I(T,U){U=U||"exec";u(T,function(W,V){u(V.toLowerCase().split(","),function(X){E[U][X]=W})})}function H(U,V,T){U=U.toLowerCase();E.exec[U]=function(Z,Y,X,W){return V.call(T||B,Y,X,W)}}function Q(U){U=U.toLowerCase();if(E.exec[U]){return true}try{return B.getDoc().queryCommandSupported(U)}catch(T){}return false}function x(U,V,T){U=U.toLowerCase();E.state[U]=function(){return V.call(T||B)}}function z(U,V,T){U=U.toLowerCase();E.value[U]=function(){return V.call(T||B)}}function A(T){T=T.toLowerCase();return !!E.exec[T]}r(this,{execCommand:N,queryCommandState:D,queryCommandValue:K,queryCommandSupported:Q,addCommands:I,addCommand:H,addQueryStateHandler:x,addQueryValueHandler:z,hasCustomCommand:A});function C(V,U,T){if(U===g){U=p}if(T===g){T=null}return B.getDoc().execCommand(V,U,T)}function P(T){return L.match(T)}function R(T,U){L.toggle(T,U?{value:U}:g);B.nodeChanged()}function J(T){F=S.getBookmark(T)}function G(){S.moveToBookmark(F)}function y(){if(Ext&&!Ext.isIE8){return}var T=B.getContainer();T.addClassName("x-repaint");setTimeout(function(){T.removeClassName("x-repaint")},1)}I({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){B.undoManager.add()},"Cut,Copy,Paste":function(X){var V=B.getDoc(),T;try{C(X)}catch(U){T=m}if(T||!V.queryCommandSupported(X)){var W=B.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(q.mac){W=W.replace(/Ctrl\+/g,"\u2318+")}B.notificationManager.open({text:W,type:"error"})}},unlink:function(){if(S.isCollapsed()){var T=S.getNode();if(T.tagName=="A"){B.dom.remove(T,true)}return}L.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(T){var U=T.substring(7);if(U=="full"){U="justify"}u("left,center,right,justify".split(","),function(V){if(U!=V){L.remove("align"+V)}});if(U!="none"){R("align"+U);y()}},"InsertUnorderedList,InsertOrderedList":function(V){var T,U;C(V);T=M.getParent(S.getNode(),"ol,ul");if(T){U=T.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(U.nodeName)){J();M.split(U,T);G()}}y()},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(T){R(T);y()},"ForeColor,HiliteColor,FontName":function(V,U,T){R(V,T)},FontSize:function(W,V,U){var T,X;if(U>=1&&U<=7){X=t(O.font_size_style_values);T=t(O.font_size_classes);if(T){U=T[U-1]||U}else{U=X[U-1]||U}}R(W,U)},RemoveFormat:function(T){L.remove(T)},mceBlockQuote:function(){R("blockquote")},FormatBlock:function(V,U,T){return R(T||"p")},mceCleanup:function(){var T=S.getBookmark();B.setContent(B.getContent({cleanup:m}),{cleanup:m});S.moveToBookmark(T)},mceRemoveNode:function(W,V,U){var T=U||S.getNode();if(T!=B.getBody()){J();B.dom.remove(T,m);G()}},mceSelectNodeDepth:function(W,V,U){var T=0;M.getParent(S.getNode(),function(X){if(X.nodeType==1&&T++==U){S.select(X);return p}},B.getBody())},mceSelectNode:function(V,U,T){S.select(T)},mceInsertContent:function(Y,aj,ak){var X,ao,ac,ap,U,W;var ab,aa,al,T,ae,Z,ar;var ah=B.schema.getTextInlineElements();function am(aw){var av,au,ax;av=S.getRng(true);au=av.startContainer;ax=av.startOffset;function at(ay){return au[ay]&&au[ay].nodeType==3}if(au.nodeType==3){if(ax>0){aw=aw.replace(/^&nbsp;/," ")}else{if(!at("previousSibling")){aw=aw.replace(/^ /,"&nbsp;")}}if(ax<au.length){aw=aw.replace(/&nbsp;(<br>|)$/," ")}else{if(!at("nextSibling")){aw=aw.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")}}}return aw}function V(){var au,at,av;au=S.getRng(true);at=au.startContainer;av=au.startOffset;if(at.nodeType==3&&au.collapsed){if(at.data[av]==="\u00a0"){at.deleteData(av,1);if(!/[\u00a0| ]$/.test(ak)){ak+=" "}}else{if(at.data[av-1]==="\u00a0"){at.deleteData(av-1,1);if(!/[\u00a0| ]$/.test(ak)){ak=" "+ak}}}}}function ad(at){if(Z){for(al=at.firstChild;al;al=al.walk(true)){if(ah[al.name]){al.attr("data-mce-new","true")}}}}function aq(){if(Z){var at=B.getBody(),au=new j(M);u(M.select("*[data-mce-new]"),function(aw){aw.removeAttribute("data-mce-new");for(var av=aw.parentNode;av&&av!=at;av=av.parentNode){if(au.compare(av,aw)){M.remove(aw,true)}}})}}function an(at){var av;function au(ax){var aw=B.getBody();for(;ax&&ax!==aw;ax=ax.parentNode){if(B.dom.getContentEditable(ax)==="false"){return ax}}return null}if(!at){return}S.scrollIntoView(at);av=au(at);if(av){M.remove(at);S.select(av);return}aa=M.createRng();al=at.previousSibling;if(al&&al.nodeType==3){aa.setStart(al,al.nodeValue.length);if(!k){T=at.nextSibling;if(T&&T.nodeType==3){al.appendData(T.data);T.parentNode.removeChild(T)}}}else{aa.setStartBefore(at);aa.setEndBefore(at)}M.remove(at);S.setRng(aa)}if(typeof ak!="string"){Z=ak.merge;ar=ak.data;ak=ak.content}if(/^ | $/.test(ak)){ak=am(ak)}X=B.parser;ao=new s({validate:O.validate},B.schema);ae='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';W={content:ak,format:"html",selection:true};B.fire("BeforeSetContent",W);ak=W.content;if(ak.indexOf("{$caret}")==-1){ak+="{$caret}"}ak=ak.replace(/\{\$caret\}/,ae);aa=S.getRng();var ai=aa.startContainer||(aa.parentElement?aa.parentElement():null);var af=B.getBody();if(ai===af&&S.isCollapsed()){if(M.isBlock(af.firstChild)&&M.isEmpty(af.firstChild)){aa=M.createRng();aa.setStart(af.firstChild,0);aa.setEnd(af.firstChild,0);S.setRng(aa)}}if(!S.isCollapsed()){B.selection.setRng(B.selection.getRng());B.getDoc().execCommand("Delete",false,null);V()}ac=S.getNode();var ag={context:ac.nodeName.toLowerCase(),data:ar};U=X.parse(ak,ag);ad(U);al=U.lastChild;if(al.attr("id")=="mce_marker"){ab=al;for(al=al.prev;al;al=al.walk(true)){if(al.type==3||!M.isBlock(al.name)){if(B.schema.isValidChild(al.parent.name,"span")){al.parent.insert(ab,al,al.name==="br")}break}}}B._selectionOverrides.showBlockCaretContainer(ac);if(!ag.invalid){ak=ao.serialize(U);al=ac.firstChild;T=ac.lastChild;if(!al||(al===T&&al.nodeName==="BR")){M.setHTML(ac,ak)}else{S.setContent(ak)}}else{S.setContent(ae);ac=S.getNode();ap=B.getBody();if(ac.nodeType==9){ac=al=ap}else{al=ac}while(al!==ap){ac=al;al=al.parentNode}ak=ac==ap?ap.innerHTML:M.getOuterHTML(ac);ak=ao.serialize(X.parse(ak.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return ao.serialize(U)})));if(ac==ap){M.setHTML(ap,ak)}else{M.setOuterHTML(ac,ak)}}aq();an(M.get("mce_marker"));B.fire("SetContent",W);B.addVisual()},mceInsertRawHTML:function(V,U,T){S.setContent("tiny_mce_marker");B.setContent(B.getContent().replace(/tiny_mce_marker/g,function(){return T}))},mceToggleFormat:function(V,U,T){R(T)},mceSetContent:function(V,U,T){B.setContent(T)},"Indent,Outdent":function(W){var U,T,V;U=O.indentation;T=/[a-z%]+$/i.exec(U);U=parseInt(U,10);if(!D("InsertUnorderedList")&&!D("InsertOrderedList")){if(!O.forced_root_block&&!M.getParent(S.getNode(),M.isBlock)){L.apply("div")}u(S.getSelectedBlocks(),function(Y){if(M.getContentEditable(Y)==="false"){return}if(Y.nodeName!="LI"){var X=B.getParam("indent_use_margin",false)?"margin":"padding";X+=M.getStyle(Y,"direction",true)=="rtl"?"Right":"Left";if(W=="outdent"){V=Math.max(0,parseInt(Y.style[X]||0,10)-U);M.setStyle(Y,X,V?V+T:"")}else{V=(parseInt(Y.style[X]||0,10)+U)+T;M.setStyle(Y,X,V)}}})}else{C(W)}},mceRepaint:function(){},InsertHorizontalRule:function(){B.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){B.hasVisual=!B.hasVisual;B.addVisual()},mceReplaceContent:function(V,U,T){B.execCommand("mceInsertContent",false,T.replace(/\{\$selection\}/g,S.getContent({format:"text"})))},mceInsertLink:function(W,V,U){var T;if(typeof U=="string"){U={href:U}}T=M.getParent(S.getNode(),"a");U.href=U.href.replace(" ","%20");if(!T||!U.href){L.remove("link")}if(U.href){L.apply("link",U,T)}},selectAll:function(){var U=M.getRoot(),T;if(S.getRng().setStart){T=M.createRng();T.setStart(U,0);T.setEnd(U,U.childNodes.length);S.setRng(T)}else{T=S.getRng();if(!T.item){T.moveToElementText(U);T.select()}}},"delete":function(){C("Delete");var T=B.getBody();if(M.isEmpty(T)){B.setContent("");if(T.firstChild&&M.isBlock(T.firstChild)){B.selection.setCursorLocation(T.firstChild,0)}else{B.selection.setCursorLocation(T,0)}}},mceNewDocument:function(){B.setContent("")},InsertLineBreak:function(V,af,ah){var ae=ah;var T,ac,aa;var Z=S.getRng(true);new o(M).normalize(Z);var Y=Z.startOffset;var ad=Z.startContainer;if(ad.nodeType==1&&ad.hasChildNodes()){var ai=Y>ad.childNodes.length-1;ad=ad.childNodes[Math.min(Y,ad.childNodes.length-1)]||ad;if(ai&&ad.nodeType==3){Y=ad.nodeValue.length}else{Y=0}}var W=M.getParent(ad,M.isBlock);var X=W?W.nodeName.toUpperCase():"";var U=W?M.getParent(W.parentNode,M.isBlock):null;var aj=U?U.nodeName.toUpperCase():"";var ag=ae&&ae.ctrlKey;if(aj=="LI"&&!ag){W=U;X=aj}function ab(){var an=new v(ad,W),am;var al=B.schema.getNonEmptyElements();while((am=an.next())){if(al[am.nodeName.toLowerCase()]||am.length>0){return true}}}if(ad&&ad.nodeType==3&&Y>=ad.nodeValue.length){if(!n&&!ab()){T=M.create("br");Z.insertNode(T);Z.setStartAfter(T);Z.setEndAfter(T);ac=true}}T=M.create("br");Z.insertNode(T);var ak=M.doc.documentMode;if(n&&X=="PRE"&&(!ak||ak<8)){T.parentNode.insertBefore(M.doc.createTextNode("\r"),T)}aa=M.create("span",{},"&nbsp;");T.parentNode.insertBefore(aa,T);S.scrollIntoView(aa);M.remove(aa);if(!ac){Z.setStartAfter(T);Z.setEndAfter(T)}else{Z.setStartBefore(T);Z.setEndBefore(T)}S.setRng(Z);B.undoManager.add();return m}});I({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(W){var U="align"+W.substring(7);var T=S.isCollapsed()?[M.getParent(S.getNode(),M.isBlock)]:S.getSelectedBlocks();var V=i(T,function(X){return !!L.matchNode(X,U)});return w(V,m)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(T){return P(T)},mceBlockQuote:function(){return P("blockquote")},Outdent:function(){var T;if(O.inline_styles){if((T=M.getParent(S.getStart(),M.isBlock))&&parseInt(T.style.paddingLeft,10)>0){return m}if((T=M.getParent(S.getEnd(),M.isBlock))&&parseInt(T.style.paddingLeft,10)>0){return m}}return(D("InsertUnorderedList")||D("InsertOrderedList")||(!O.inline_styles&&!!M.getParent(S.getNode(),"BLOCKQUOTE")))},"InsertUnorderedList,InsertOrderedList":function(U){var T=M.getParent(S.getNode(),"ul,ol");return T&&(U==="insertunorderedlist"&&T.tagName==="UL"||U==="insertorderedlist"&&T.tagName==="OL")}},"state");I({"FontSize,FontName":function(V){var U=0,T;if((T=M.getParent(S.getNode(),"span"))){if(V=="fontsize"){U=T.style.fontSize}else{U=T.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return U}},"value");I({Undo:function(){B.undoManager.undo()},Redo:function(){B.undoManager.redo()}})}});h("tinymce/util/URI",["tinymce/util/Tools"],function(k){var n=k.each,i=k.trim;var l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");var m={ftp:21,http:80,https:443,mailto:25};function j(q,r){var p=this,t,s;q=i(q);r=p.settings=r||{};t=r.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(q)||/^\s*#/.test(q)){p.source=q;return}var o=q.indexOf("//")===0;if(q.indexOf("/")===0&&!o){q=(t?t.protocol||"http":"http")+"://mce_host"+q}if(!/^[\w\-]*:?\/\//.test(q)){s=r.base_uri?r.base_uri.path:new j(location.href).directory;if(r.base_uri.protocol===""){q="//mce_host"+p.toAbsPath(s,q)}else{q=/([^#?]*)([#?]?.*)/.exec(q);q=((t&&t.protocol)||"http")+"://mce_host"+p.toAbsPath(s,q[1])+q[2]}}q=q.replace(/@@/g,"(mce_at)");q=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(q);n(l,function(u,x){var w=q[x];if(w){w=w.replace(/\(mce_at\)/g,"@@")}p[u]=w});if(t){if(!p.protocol){p.protocol=t.protocol}if(!p.userInfo){p.userInfo=t.userInfo}if(!p.port&&p.host==="mce_host"){p.port=t.port}if(!p.host||p.host==="mce_host"){p.host=t.host}p.source=""}if(o){p.protocol=""}}j.prototype={setPath:function(p){var o=this;p=/^(.*?)\/?(\w+)?$/.exec(p);o.path=p[0];o.directory=p[1];o.file=p[2];o.source="";o.getURI()},toRelative:function(s){var p=this,o;if(s==="./"){return s}s=new j(s,{base_uri:p});if((s.host!="mce_host"&&p.host!=s.host&&s.host)||p.port!=s.port||(p.protocol!=s.protocol&&s.protocol!=="")){return s.getURI()}var q=p.getURI(),r=s.getURI();if(q==r||(q.charAt(q.length-1)=="/"&&q.substr(0,q.length-1)==r)){return q}o=p.toRelPath(p.path,s.path);if(s.query){o+="?"+s.query}if(s.anchor){o+="#"+s.anchor}return o},toAbsolute:function(p,o){p=new j(p,{base_uri:this});return p.getURI(o&&this.isSameOrigin(p))},isSameOrigin:function(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port){return true}var p=m[this.protocol];if(p&&((this.port||p)==(o.port||p))){return true}}return false},toRelPath:function(t,u){var p,s=0,q="",r,o;t=t.substring(0,t.lastIndexOf("/"));t=t.split("/");p=u.split("/");if(t.length>=p.length){for(r=0,o=t.length;r<o;r++){if(r>=p.length||t[r]!=p[r]){s=r+1;break}}}if(t.length<p.length){for(r=0,o=p.length;r<o;r++){if(r>=t.length||t[r]!=p[r]){s=r+1;break}}}if(s===1){return u}for(r=0,o=t.length-(s-1);r<o;r++){q+="../"}for(r=s-1,o=p.length;r<o;r++){if(r!=s-1){q+="/"+p[r]}else{q+=p[r]}}return q},toAbsPath:function(s,t){var q,p=0,v=[],r,u;r=/\/$/.test(t)?"/":"";s=s.split("/");t=t.split("/");n(s,function(o){if(o){v.push(o)}});s=v;for(q=t.length-1,v=[];q>=0;q--){if(t[q].length===0||t[q]==="."){continue}if(t[q]===".."){p++;continue}if(p>0){p--;continue}v.push(t[q])}q=s.length-p;if(q<=0){u=v.reverse().join("/")}else{u=s.slice(0,q).join("/")+"/"+v.reverse().join("/")}if(u.indexOf("/")!==0){u="/"+u}if(r&&u.lastIndexOf("/")!==u.length-1){u+=r}return u},getURI:function(q){var p,o=this;if(!o.source||q){p="";if(!q){if(o.protocol){p+=o.protocol+"://"}else{p+="//"}if(o.userInfo){p+=o.userInfo+"@"}if(o.host){p+=o.host}if(o.port){p+=":"+o.port}}if(o.path){p+=o.path}if(o.query){p+="?"+o.query}if(o.anchor){p+="#"+o.anchor}o.source=p}return o.source}};j.parseDataUri=function(p){var o,q;p=decodeURIComponent(p).split(",");q=/data:([^;]+)/.exec(p[0]);if(q){o=q[1]}return{type:o,data:p[1]}};return j});h("tinymce/util/Class",["tinymce/util/Tools"],function(l){var m=l.each,n=l.extend;var k,j;function i(){}i.extend=k=function(o){var w=this,v=w.prototype,u,p,t;function q(){var A,x,z,y=this;if(!j){if(y.init){y.init.apply(y,arguments)}x=y.Mixins;if(x){A=x.length;while(A--){z=x[A];if(z.init){z.init.apply(y,arguments)}}}}}function r(){return this}function s(x,y){return function(){var z=this,B=z._super,A;z._super=v[x];A=y.apply(z,arguments);z._super=B;return A}}j=true;u=new w();j=false;if(o.Mixins){m(o.Mixins,function(x){x=x;for(var y in x){if(y!=="init"){o[y]=x[y]}}});if(v.Mixins){o.Mixins=v.Mixins.concat(o.Mixins)}}if(o.Methods){m(o.Methods.split(","),function(x){o[x]=r})}if(o.Properties){m(o.Properties.split(","),function(x){var y="_"+x;o[x]=function(B){var z=this,A;if(B!==A){z[y]=B;return z}return z[y]}})}if(o.Statics){m(o.Statics,function(y,x){q[x]=y})}if(o.Defaults&&v.Defaults){o.Defaults=n({},v.Defaults,o.Defaults)}for(p in o){t=o[p];if(typeof t=="function"&&v[p]){u[p]=s(p,t)}else{u[p]=t}}q.prototype=u;q.constructor=q;q.extend=k;return q};return i});h("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(j){var k=j.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");function i(q){var w=this,v,m={},t;function o(){return false}function r(){return true}q=q||{};v=q.scope||w;t=q.toggleEvent||o;function n(A,z){var y,B,x,C;A=A.toLowerCase();z=z||{};z.type=A;if(!z.target){z.target=v}if(!z.preventDefault){z.preventDefault=function(){z.isDefaultPrevented=r};z.stopPropagation=function(){z.isPropagationStopped=r};z.stopImmediatePropagation=function(){z.isImmediatePropagationStopped=r};z.isDefaultPrevented=o;z.isPropagationStopped=o;z.isImmediatePropagationStopped=o}if(q.beforeFire){q.beforeFire(z)}y=m[A];if(y){for(B=0,x=y.length;B<x;B++){C=y[B];if(C.once){p(A,C.func)}if(z.isImmediatePropagationStopped()){z.stopPropagation();return z}if(C.func.call(v,z)===false){z.preventDefault();return z}}}return z}function s(A,D,z,x){var y,C,B;if(D===false){D=o}if(D){D={func:D};if(x){j.extend(D,x)}C=A.toLowerCase().split(" ");B=C.length;while(B--){A=C[B];y=m[A];if(!y){y=m[A]=[];t(A,true)}if(z){y.unshift(D)}else{y.push(D)}}}return w}function p(z,D){var A,x,B,C,y;if(z){C=z.toLowerCase().split(" ");A=C.length;while(A--){z=C[A];x=m[z];if(!z){for(B in m){t(B,false);delete m[B]}return w}if(x){if(!D){x.length=0}else{y=x.length;while(y--){if(x[y].func===D){x=x.slice(0,y).concat(x.slice(y+1));m[z]=x}}}if(!x.length){t(z,false);delete m[z]}}}}else{for(z in m){t(z,false)}m={}}return w}function l(y,z,x){return s(y,z,x,{once:true})}function u(x){x=x.toLowerCase();return !(!m[x]||m[x].length===0)}w.fire=n;w.on=s;w.off=p;w.once=l;w.has=u}i.isNative=function(l){return !!k[l.toLowerCase()]};return i});h("tinymce/data/Binding",[],function(){function i(j){this.create=j.create}i.create=function(k,j){return new i({create:function(l,n){var p;function m(q){l.set(n,q.value)}function o(q){k.set(j,q.value)}l.on("change:"+n,o);k.on("change:"+j,m);p=l._bindings;if(!p){p=l._bindings=[];l.on("destroy",function(){var q=p.length;while(q--){p[q]()}})}p.push(function(){k.off("change:"+j,m)});return k.get(j)}})};return i});h("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(j){function i(k){if(!k._eventDispatcher){k._eventDispatcher=new j({scope:k,toggleEvent:function(l,m){if(j.isNative(l)&&k.toggleNativeEvent){k.toggleNativeEvent(l,m)}}})}return k._eventDispatcher}return{fire:function(n,m,k){var l=this;if(l.removed&&n!=="remove"){return m}m=i(l).fire(n,m,k);if(k!==false&&l.parent){var o=l.parent();while(o&&!m.isPropagationStopped()){o.fire(n,m,false);o=o.parent()}}return m},on:function(l,m,k){return i(this).on(l,m,k)},off:function(k,l){return i(this).off(k,l)},once:function(k,l){return i(this).once(k,l)},hasEventListeners:function(k){return i(this).has(k)}}});h("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(n,j,i,k){function m(o){return o.nodeType>0}function l(p,o){var q,r;if(p===o){return true}if(p===null||o===null){return p===o}if(typeof p!=="object"||typeof o!=="object"){return p===o}if(k.isArray(o)){if(p.length!==o.length){return false}q=p.length;while(q--){if(!l(p[q],o[q])){return false}}}if(m(p)||m(o)){return p===o}r={};for(q in o){if(!l(p[q],o[q])){return false}r[q]=true}for(q in p){if(!r[q]&&!l(p[q],o[q])){return false}}return true}return i.extend({Mixins:[j],init:function(q){var o,p;q=q||{};for(o in q){p=q[o];if(p instanceof n){q[o]=p.create(this,o)}}this.data=q},set:function(q,s){var r,p,o=this.data[q];if(s instanceof n){s=s.create(this,q)}if(typeof q==="object"){for(r in q){this.set(r,q[r])}return this}if(!l(o,s)){this.data[q]=s;p={target:this,name:q,value:s,oldValue:o};this.fire("change:"+q,p);this.fire("change",p)}return this},get:function(o){return this.data[o]},has:function(o){return o in this.data},bind:function(o){return n.create(this,o)},destroy:function(){this.fire("destroy")}})});h("tinymce/ui/Selector",["tinymce/util/Class"],function(k){function o(s){var p=[],q=s.length,r;while(q--){r=s[q];if(!r.__checked){p.push(r);r.__checked=1}}q=p.length;while(q--){delete p[q].__checked}return p}var n=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m=/^\s*|\s*$/g,l;var j=k.extend({init:function(q){var s=this.match;function r(y){if(y){y=y.toLowerCase();return function(z){return y==="*"||z.type===y}}}function w(y){if(y){return function(z){return z._name===y}}}function t(y){if(y){y=y.split(".");return function(A){var z=y.length;while(z--){if(!A.classes.contains(y[z])){return false}}return true}}}function p(z,A,y){if(z){return function(B){var C=B[z]?B[z]():"";return !A?!!y:A==="="?C===y:A==="*="?C.indexOf(y)>=0:A==="~="?(" "+C+" ").indexOf(" "+y+" ")>=0:A==="!="?C!=y:A==="^="?C.indexOf(y)===0:A==="$="?C.substr(C.length-y.length)===y:false}}}function v(y){var z;if(y){y=/(?:not\((.+)\))|(.+)/i.exec(y);if(!y[1]){y=y[2];return function(C,A,B){return y==="first"?A===0:y==="last"?A===B-1:y==="even"?A%2===0:y==="odd"?A%2===1:C[y]?C[y]():false}}z=u(y[1],[]);return function(A){return !s(A,z)}}}function x(y,z,C){var B;function A(D){if(D){z.push(D)}}B=n.exec(y.replace(m,""));A(r(B[1]));A(w(B[2]));A(t(B[3]));A(p(B[4],B[5],B[6]));A(v(B[7]));z.pseudo=!!B[7];z.direct=C;return z}function u(z,B){var D=[],y,C,A;do{i.exec("");C=i.exec(z);if(C){z=C[3];D.push(C[1]);if(C[2]){y=C[3];break}}}while(C);if(y){u(y,B)}z=[];for(A=0;A<D.length;A++){if(D[A]!=">"){z.push(x(D[A],[],D[A-1]===">"))}}B.push(z);return B}this._selectors=u(q,[])},match:function(u,B){var v,r,w,s,t,D,A,q,y,p,z,x,C;B=B||this._selectors;for(v=0,r=B.length;v<r;v++){t=B[v];s=t.length;C=u;x=0;for(w=s-1;w>=0;w--){q=t[w];while(C){if(q.pseudo){z=C.parent().items();y=p=z.length;while(y--){if(z[y]===C){break}}}for(D=0,A=q.length;D<A;D++){if(!q[D](C,y,p)){D=A+1;break}}if(D===A){x++;break}else{if(w===s-1){break}}C=C.parent()}}if(x===s){return true}}return false},find:function(q){var u=[],s,p,r=this._selectors;function t(A,x,z){var y,w,C,B,D,v=x[z];for(y=0,w=A.length;y<w;y++){D=A[y];for(C=0,B=v.length;C<B;C++){if(!v[C](D,y,w)){C=B+1;break}}if(C===B){if(z==x.length-1){u.push(D)}else{if(D.items){t(D.items(),x,z+1)}}}else{if(v.direct){return}}if(D.items){t(D.items(),x,z)}}}if(q.items){for(s=0,p=r.length;s<p;s++){t(q.items(),r[s],0)}if(p>1){u=o(u)}}if(!l){l=j.Collection}return new l(u)}});return j});h("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(l,i,j){var m,n,k=Array.prototype.push,o=Array.prototype.slice;n={length:0,init:function(p){if(p){this.add(p)}},add:function(q){var p=this;if(!l.isArray(q)){if(q instanceof m){p.add(q.toArray())}else{k.call(p,q)}}else{k.apply(p,q)}return p},set:function(r){var q=this,p=q.length,s;q.length=0;q.add(r);for(s=q.length;s<p;s++){delete q[s]}return q},filter:function(p){var r=this,t,q,v=[],u,s;if(typeof p==="string"){p=new i(p);s=function(w){return p.match(w)}}else{s=p}for(t=0,q=r.length;t<q;t++){u=r[t];if(s(u)){v.push(u)}}return new m(v)},slice:function(){return new m(o.apply(this,arguments))},eq:function(p){return p===-1?this.slice(p):this.slice(p,+p+1)},each:function(p){l.each(this,p);return this},toArray:function(){return l.toArray(this)},indexOf:function(r){var p=this,q=p.length;while(q--){if(p[q]===r){break}}return q},reverse:function(){return new m(l.toArray(this).reverse())},hasClass:function(p){return this[0]?this[0].classes.contains(p):false},prop:function(q,t){var p=this,r,s;if(t!==r){p.each(function(u){if(u[q]){u[q](t)}});return p}s=p[0];if(s&&s[q]){return s[q]()}},exec:function(r){var p=this,q=l.toArray(arguments).slice(1);p.each(function(s){if(s[r]){s[r].apply(s,q)}});return p},remove:function(){var p=this.length;while(p--){this[p].remove()}return this},addClass:function(p){return this.each(function(q){q.classes.add(p)})},removeClass:function(p){return this.each(function(q){q.classes.remove(p)})}};l.each("fire on off show hide append prepend before after reflow".split(" "),function(p){n[p]=function(){var q=l.toArray(arguments);this.each(function(r){if(p in r){r[p].apply(r,q)}});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(p){n[p]=function(q){return this.prop(p,q)}});m=j.extend(n);i.Collection=m;return m});h("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(i,k){var j=0;return{id:function(){return"mceu_"+(j++)},createFragment:function(l){return k.DOM.createFragment(l)},getWindowSize:function(){return k.DOM.getViewPort()},getSize:function(o){var m,l;if(o.getBoundingClientRect){var n=o.getBoundingClientRect();m=Math.max(n.width||(n.right-n.left),o.offsetWidth);l=Math.max(n.height||(n.bottom-n.bottom),o.offsetHeight)}else{m=o.offsetWidth;l=o.offsetHeight}return{width:m,height:l}},getPos:function(m,l){return k.DOM.getPos(m,l)},getViewPort:function(l){return k.DOM.getViewPort(l)},get:function(l){return document.getElementById(l)},addClass:function(m,l){return k.DOM.addClass(m,l)},removeClass:function(m,l){return k.DOM.removeClass(m,l)},hasClass:function(m,l){return k.DOM.hasClass(m,l)},toggleClass:function(n,l,m){return k.DOM.toggleClass(n,l,m)},css:function(n,l,m){return k.DOM.setStyle(n,l,m)},getRuntimeStyle:function(m,l){return k.DOM.getStyle(m,l,true)},on:function(n,l,o,m){return k.DOM.bind(n,l,o,m)},off:function(m,l,n){return k.DOM.unbind(m,l,n)},fire:function(n,m,l){return k.DOM.fire(n,m,l)},innerHtml:function(m,l){k.DOM.setHTML(m,l)}}});h("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(k){var i,j=10;if(!k){return}if(typeof k==="number"){k=k||0;return{top:k,left:k,bottom:k,right:k}}k=k.split(" ");i=k.length;if(i===1){k[1]=k[2]=k[3]=k[0]}else{if(i===2){k[2]=k[0];k[3]=k[1]}else{if(i===3){k[3]=k[1]}}}return{top:parseInt(k[0],j)||0,right:parseInt(k[1],j)||0,bottom:parseInt(k[2],j)||0,left:parseInt(k[3],j)||0}},measureBox:function(l,j){function i(m){var n=document.defaultView;if(n){m=m.replace(/[A-Z]/g,function(o){return"-"+o});return n.getComputedStyle(l,null).getPropertyValue(m)}return l.currentStyle[m]}function k(m){var n=parseFloat(i(m),10);return isNaN(n)?0:n}return{top:k(j+"TopWidth"),right:k(j+"RightWidth"),bottom:k(j+"BottomWidth"),left:k(j+"LeftWidth")}}}});h("tinymce/ui/ClassList",["tinymce/util/Tools"],function(i){function j(){}function k(l){this.cls=[];this.cls._map={};this.onchange=l||j;this.prefix=""}i.extend(k.prototype,{add:function(l){if(l&&!this.contains(l)){this.cls._map[l]=true;this.cls.push(l);this._change()}return this},remove:function(l){if(this.contains(l)){for(var m=0;m<this.cls.length;m++){if(this.cls[m]===l){break}}this.cls.splice(m,1);delete this.cls._map[l];this._change()}return this},toggle:function(l,m){var n=this.contains(l);if(n!==m){if(n){this.remove(l)}else{this.add(l)}this._change()}return this},contains:function(l){return !!this.cls._map[l]},_change:function(){delete this.clsValue;this.onchange.call(this)}});k.prototype.toString=function(){var m;if(this.clsValue){return this.clsValue}m="";for(var l=0;l<this.cls.length;l++){if(l>0){m+=" "}m+=this.prefix+this.cls[l]}return m};return k});h("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(k){var j={},i;return{add:function(m){var l=m.parent();if(l){if(!l._layout||l._layout.isNative()){return}if(!j[l._id]){j[l._id]=l}if(!i){i=true;k.requestAnimationFrame(function(){var o,n;i=false;for(o in j){n=j[o];if(n.state.get("rendered")){n.reflow()}}j={}},document.body)}}},remove:function(l){if(j[l._id]){delete j[l._id]}}}});h("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(u,j,x,l,y,v,m,s,i,t){var q="onmousewheel" in document;var w=false;var k="mce-";var z,n=0;var p={Statics:{classPrefix:k},isRtl:function(){return z.rtl},classPrefix:k,init:function(D){var B=this,C,A;function E(G){var F;G=G.split(" ");for(F=0;F<G.length;F++){B.classes.add(G[F])}}B.settings=D=j.extend({},B.Defaults,D);B._id=D.id||("mceu_"+(n++));B._aria={role:D.role};B._elmCache={};B.$=m;B.state=new l({visible:true,active:false,disabled:false,value:""});B.data=new l(D.data);B.classes=new i(function(){if(B.state.get("rendered")){B.getEl().className=this.toString()}});B.classes.prefix=B.classPrefix;C=D.classes;if(C){if(B.Defaults){A=B.Defaults.classes;if(A&&C!=A){E(A)}}E(C)}j.each("title text name visible disabled active value".split(" "),function(F){if(F in D){B[F](D[F])}});B.on("click",function(){if(B.disabled()){return false}});B.settings=D;B.borderBox=s.parseBox(D.border);B.paddingBox=s.parseBox(D.padding);B.marginBox=s.parseBox(D.margin);if(D.hidden){B.hide()}},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(C){var A,B=this.getRoot().controlIdLookup;while(C&&B){A=B[C.id];if(A){break}C=C.parentNode}return A},initLayoutRect:function(){var Q=this,I=Q.settings,D,M;var K=Q.getEl(),H,O,E,N,G;var A,C,P;D=Q.borderBox=Q.borderBox||s.measureBox(K,"border");Q.paddingBox=Q.paddingBox||s.measureBox(K,"padding");Q.marginBox=Q.marginBox||s.measureBox(K,"margin");P=v.getSize(K);A=I.minWidth;C=I.minHeight;E=A||P.width;N=C||P.height;H=I.width;O=I.height;G=I.autoResize;G=typeof G!="undefined"?G:!H&&!O;H=H||E;O=O||N;var J=D.left+D.right;var B=D.top+D.bottom;var F=I.maxWidth||65535;var L=I.maxHeight||65535;Q._layoutRect=M={x:I.x||0,y:I.y||0,w:H,h:O,deltaW:J,deltaH:B,contentW:H-J,contentH:O-B,innerW:H-J,innerH:O-B,startMinWidth:A||0,startMinHeight:C||0,minW:Math.min(E,F),minH:Math.min(N,L),maxW:F,maxH:L,autoResize:G,scrollW:0};Q._lastLayoutRect={};return M},layoutRect:function(B){var H=this,D=H._layoutRect,G,I,F,E,A,C;if(!D){D=H.initLayoutRect()}if(B){F=D.deltaW;E=D.deltaH;if(B.x!==A){D.x=B.x}if(B.y!==A){D.y=B.y}if(B.minW!==A){D.minW=B.minW}if(B.minH!==A){D.minH=B.minH}I=B.w;if(I!==A){I=I<D.minW?D.minW:I;I=I>D.maxW?D.maxW:I;D.w=I;D.innerW=I-F}I=B.h;if(I!==A){I=I<D.minH?D.minH:I;I=I>D.maxH?D.maxH:I;D.h=I;D.innerH=I-E}I=B.innerW;if(I!==A){I=I<D.minW-F?D.minW-F:I;I=I>D.maxW-F?D.maxW-F:I;D.innerW=I;D.w=I+F}I=B.innerH;if(I!==A){I=I<D.minH-E?D.minH-E:I;I=I>D.maxH-E?D.maxH-E:I;D.innerH=I;D.h=I+E}if(B.contentW!==A){D.contentW=B.contentW}if(B.contentH!==A){D.contentH=B.contentH}G=H._lastLayoutRect;if(G.x!==D.x||G.y!==D.y||G.w!==D.w||G.h!==D.h){C=z.repaintControls;if(C){if(C.map&&!C.map[H._id]){C.push(H);C.map[H._id]=true}}G.x=D.x;G.y=D.y;G.w=D.w;G.h=D.h}return H}return D},repaint:function(){var K=this,B,D,F,E,A;var I,C,H,J,G;J=!document.createRange?Math.round:function(L){return L};B=K.getEl().style;E=K._layoutRect;H=K._lastRepaintRect||{};A=K.borderBox;I=A.left+A.right;C=A.top+A.bottom;if(E.x!==H.x){B.left=J(E.x)+"px";H.x=E.x}if(E.y!==H.y){B.top=J(E.y)+"px";H.y=E.y}if(E.w!==H.w){G=J(E.w-I);B.width=(G>=0?G:0)+"px";H.w=E.w}if(E.h!==H.h){G=J(E.h-C);B.height=(G>=0?G:0)+"px";H.h=E.h}if(K._hasBody&&E.innerW!==H.innerW){G=J(E.innerW);F=K.getEl("body");if(F){D=F.style;D.width=(G>=0?G:0)+"px"}H.innerW=E.innerW}if(K._hasBody&&E.innerH!==H.innerH){G=J(E.innerH);F=F||K.getEl("body");if(F){D=D||F.style;D.height=(G>=0?G:0)+"px"}H.innerH=E.innerH}K._lastRepaintRect=H;K.fire("repaint",{},false)},on:function(C,D){var B=this;function A(E){var G,F;if(typeof E!="string"){return E}return function(H){if(!G){B.parentsAndSelf().each(function(J){var I=J.settings.callbacks;if(I&&(G=I[E])){F=J;return false}})}if(!G){H.action=E;this.fire("execute",H);return}return G.call(F,H)}}r(B).on(C,A(D));return B},off:function(A,B){r(this).off(A,B);return this},fire:function(D,C,A){var B=this;C=C||{};if(!C.control){C.control=B}C=r(B).fire(D,C);if(A!==false&&B.parent){var E=B.parent();while(E&&!C.isPropagationStopped()){E.fire(D,C,false);E=E.parent()}}return C},hasEventListeners:function(A){return r(this).has(A)},parents:function(A){var B=this,D,C=new y();for(D=B.parent();D;D=D.parent()){C.add(D)}if(A){C=C.filter(A)}return C},parentsAndSelf:function(A){return new y(this).add(this.parents(A))},next:function(){var A=this.parent().items();return A[A.indexOf(this)+1]},prev:function(){var A=this.parent().items();return A[A.indexOf(this)-1]},innerHtml:function(A){this.$el.html(A);return this},getEl:function(A){var B=A?this._id+"-"+A:this._id;if(!this._elmCache[B]){this._elmCache[B]=m("#"+B)[0]}return this._elmCache[B]},show:function(){return this.visible(true)},hide:function(){return this.visible(false)},focus:function(){try{this.getEl().focus()}catch(A){}return this},blur:function(){this.getEl().blur();return this},aria:function(B,C){var A=this,D=A.getEl(A.ariaTarget);if(typeof C==="undefined"){return A._aria[B]}A._aria[B]=C;if(A.state.get("rendered")){D.setAttribute(B=="role"?B:"aria-"+B,C)}return A},encode:function(B,A){if(A!==false){B=this.translate(B)}return(B||"").replace(/[&<>"]/g,function(C){return"&#"+C.charCodeAt(0)+";"})},translate:function(A){return z.translate?z.translate(A):A},before:function(B){var A=this,C=A.parent();if(C){C.insert(B,C.items().indexOf(A),true)}return A},after:function(B){var A=this,C=A.parent();if(C){C.insert(B,C.items().indexOf(A))}return A},remove:function(){var B=this,G=B.getEl(),E=B.parent(),C,D;if(B.items){var A=B.items().toArray();D=A.length;while(D--){A[D].remove()}}if(E&&E.items){C=[];E.items().each(function(H){if(H!==B){C.push(H)}});E.items().set(C);E._lastRect=null}if(B._eventsRoot&&B._eventsRoot==B){m(G).off()}var F=B.getRoot().controlIdLookup;if(F){delete F[B._id]}if(G&&G.parentNode){G.parentNode.removeChild(G)}B.state.set("rendered",false);B.state.destroy();B.fire("remove");return B},renderBefore:function(A){m(A).before(this.renderHtml());this.postRender();return this},renderTo:function(A){m(A||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var I=this,B=I.settings,D,C,G,A,F;I.$el=m(I.getEl());I.state.set("rendered",true);for(A in B){if(A.indexOf("on")===0){I.on(A.substr(2),B[A])}}if(I._eventsRoot){for(G=I.parent();!F&&G;G=G.parent()){F=G._eventsRoot}if(F){for(A in F._nativeEvents){I._nativeEvents[A]=true}}}o(I);if(B.style){D=I.getEl();if(D){D.setAttribute("style",B.style);D.style.cssText=B.style}}if(I.settings.border){C=I.borderBox;I.$el.css({"border-top-width":C.top,"border-right-width":C.right,"border-bottom-width":C.bottom,"border-left-width":C.left})}var E=I.getRoot();if(!E.controlIdLookup){E.controlIdLookup={}}E.controlIdLookup[I._id]=I;for(var H in I._aria){I.aria(H,I._aria[H])}if(I.state.get("visible")===false){I.getEl().style.display="none"}I.bindStates();I.state.on("change:visible",function(L){var K=L.value,J;if(I.state.get("rendered")){I.getEl().style.display=K===false?"none":"";I.getEl().getBoundingClientRect()}J=I.parent();if(J){J._lastRect=null}I.fire(K?"show":"hide");t.add(I)});I.fire("postrender",{},false)},bindStates:function(){},scrollIntoView:function(C){function K(P,N){var L,O,M=P;L=O=0;while(M&&M!=N&&M.nodeType){L+=M.offsetLeft||0;O+=M.offsetTop||0;M=M.offsetParent}return{x:L,y:O}}var E=this.getEl(),D=E.parentNode;var H,G,A,J,I,B;var F=K(E,D);H=F.x;G=F.y;A=E.offsetWidth;J=E.offsetHeight;I=D.clientWidth;B=D.clientHeight;if(C=="end"){H-=I-A;G-=B-J}else{if(C=="center"){H-=(I/2)-(A/2);G-=(B/2)-(J/2)}}D.scrollLeft=H;D.scrollTop=G;return this},getRoot:function(){var D=this,C,A=[];while(D){if(D.rootControl){C=D.rootControl;break}A.push(D);C=D;D=D.parent()}if(!C){C=this}var B=A.length;while(B--){A[B].rootControl=C}return C},reflow:function(){t.remove(this);var A=this.parent();if(A._layout&&!A._layout.isNative()){A.reflow()}return this}};j.each("text title visible disabled active value".split(" "),function(A){p[A]=function(B){if(arguments.length===0){return this.state.get(A)}if(typeof B!="undefined"){this.state.set(A,B)}return this}});z=u.extend(p);function r(A){if(!A._eventDispatcher){A._eventDispatcher=new x({scope:A,toggleEvent:function(B,C){if(C&&x.isNative(B)){if(!A._nativeEvents){A._nativeEvents={}}A._nativeEvents[B]=true;if(A.state.get("rendered")){o(A)}}}})}return A._eventDispatcher}function o(G){var F,D,K,C,I,B;function J(N){var M=G.getParentCtrl(N.target);if(M){M.fire(N.type,N)}}function E(){var M=C._lastHoverCtrl;if(M){M.fire("mouseleave",{target:M.getEl()});M.parents().each(function(N){N.fire("mouseleave",{target:N.getEl()})});C._lastHoverCtrl=null}}function L(R){var Q=G.getParentCtrl(R.target),P=C._lastHoverCtrl,M=0,O,N,S;if(Q!==P){C._lastHoverCtrl=Q;N=Q.parents().toArray().reverse();N.push(Q);if(P){S=P.parents().toArray().reverse();S.push(P);for(M=0;M<S.length;M++){if(N[M]!==S[M]){break}}for(O=S.length-1;O>=M;O--){P=S[O];P.fire("mouseleave",{target:P.getEl()})}}for(O=M;O<N.length;O++){Q=N[O];Q.fire("mouseenter",{target:Q.getEl()})}}}function A(M){M.preventDefault();if(M.type=="mousewheel"){M.deltaY=-1/40*M.wheelDelta;if(M.wheelDeltaX){M.deltaX=-1/40*M.wheelDeltaX}}else{M.deltaX=0;M.deltaY=M.detail}M=G.fire("wheel",M)}I=G._nativeEvents;if(I){K=G.parents().toArray();K.unshift(G);for(F=0,D=K.length;!C&&F<D;F++){C=K[F]._eventsRoot}if(!C){C=K[K.length-1]||G}G._eventsRoot=C;for(D=F,F=0;F<D;F++){K[F]._eventsRoot=C}var H=C._delegates;if(!H){H=C._delegates={}}for(B in I){if(!I){return false}if(B==="wheel"&&!w){if(q){m(G.getEl()).on("mousewheel",A)}else{m(G.getEl()).on("DOMMouseScroll",A)}continue}if(B==="mouseenter"||B==="mouseleave"){if(!C._hasMouseEnter){m(C.getEl()).on("mouseleave",E).on("mouseover",L);C._hasMouseEnter=1}}else{if(!H[B]){m(C.getEl()).on(B,J);H[B]=true}}I[B]=false}}}return z});h("tinymce/ui/Factory",[],function(){var i={},j;return{add:function(k,l){i[k.toLowerCase()]=l},has:function(k){return !!i[k.toLowerCase()]},create:function(o,n){var k,l,m;if(!j){m=tinymce.ui;for(l in m){i[l.toLowerCase()]=m[l]}j=true}if(typeof o=="string"){n=n||{};n.type=o}else{n=o;o=n.type}o=o.toLowerCase();k=i[o];if(!k){throw new Error("Could not find control by type: "+o)}k=new k(n);k.type=o;return k}}});h("tinymce/ui/KeyboardNavigation",[],function(){return function(B){var x=B.root,i,p;function w(F){return F&&F.nodeType===1}try{i=document.activeElement}catch(A){i=document.body}p=x.getParentCtrl(i);function t(F){F=F||i;if(w(F)){return F.getAttribute("role")}return null}function E(H){var G,F=H||i;while((F=F.parentNode)){if((G=t(F))){return G}}}function v(F){var G=i;if(w(G)){return G.getAttribute("aria-"+F)}}function u(G){var F=G.tagName.toUpperCase();return F=="INPUT"||F=="TEXTAREA"}function j(F){if(u(F)&&!F.hidden){return true}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(t(F))){return true}return false}function o(H){var G=[];function F(J){if(J.nodeType!=1||J.style.display=="none"){return}if(j(J)){G.push(J)}for(var I=0;I<J.childNodes.length;I++){F(J.childNodes[I])}}F(H||x.getEl());return G}function n(I){var G,F;I=I||p;F=I.parents().toArray();F.unshift(I);for(var H=0;H<F.length;H++){G=F[H];if(G.settings.ariaRoot){break}}return G}function y(H){var F=n(H);var G=o(F.getEl());if(F.settings.ariaRemember&&"lastAriaIndex" in F){r(F.lastAriaIndex,G)}else{r(0,G)}}function r(F,G){if(F<0){F=G.length-1}else{if(F>=G.length){F=0}}if(G[F]){G[F].focus()}return F}function D(H,J){var F=-1,G=n();J=J||o(G.getEl());for(var I=0;I<J.length;I++){if(J[I]===i){F=I}}F+=H;G.lastAriaIndex=r(F,J)}function m(){var F=E();if(F=="tablist"){D(-1,o(i.parentNode))}else{if(p.parent().submenu){l()}else{D(-1)}}}function C(){var G=t(),F=E();if(F=="tablist"){D(1,o(i.parentNode))}else{if(G=="menuitem"&&F=="menu"&&v("haspopup")){z()}else{D(1)}}}function q(){D(-1)}function s(){var G=t(),F=E();if(G=="menuitem"&&F=="menubar"){z()}else{if(G=="button"&&v("haspopup")){z({key:"down"})}else{D(1)}}}function k(G){var F=E();if(F=="tablist"){var H=o(p.getEl("body"))[0];if(H){H.focus()}}else{D(G.shiftKey?-1:1)}}function l(){p.fire("cancel")}function z(F){F=F||{};p.fire("click",{target:i,aria:F})}x.on("keydown",function(G){function F(I,H){if(u(i)){return}if(H(I)!==false){I.preventDefault()}}if(G.isDefaultPrevented()){return}switch(G.keyCode){case 37:F(G,m);break;case 39:F(G,C);break;case 38:F(G,q);break;case 40:F(G,s);break;case 27:l();break;case 14:case 13:case 32:F(G,z);break;case 9:if(k(G)!==false){G.preventDefault()}break}});x.on("focusin",function(F){i=F.target;p=F.control});return{focusFirst:y}}});h("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(j,n,i,k,q,l,p,m,r){var o={};return j.extend({init:function(t){var s=this;s._super(t);t=s.settings;if(t.fixed){s.state.set("fixed",true)}s._items=new n();if(s.isRtl()){s.classes.add("rtl")}s.bodyClasses=new m(function(){if(s.state.get("rendered")){s.getEl("body").className=this.toString()}});s.bodyClasses.prefix=s.classPrefix;s.classes.add("container");s.bodyClasses.add("container-body");if(t.containerCls){s.classes.add(t.containerCls)}s._layout=k.create((t.layout||"")+"layout");if(s.settings.items){s.add(s.settings.items)}else{s.add(s.render())}s._hasBody=true},items:function(){return this._items},find:function(s){s=o[s]=o[s]||new i(s);return s.find(this)},add:function(t){var s=this;s.items().add(s.create(t)).parent(s);return s},focus:function(s){var u=this,w,v,t;if(s){v=u.keyboardNav||u.parents().eq(-1)[0].keyboardNav;if(v){v.focusFirst(u);return}}t=u.find("*");if(u.statusbar){t.add(u.statusbar.items())}t.each(function(x){if(x.settings.autofocus){w=null;return false}if(x.canFocus){w=w||x}});if(w){w.focus()}return u},replace:function(w,v){var u,s=this.items(),t=s.length;while(t--){if(s[t]===w){s[t]=v;break}}if(t>=0){u=v.getEl();if(u){u.parentNode.removeChild(u)}u=w.getEl();if(u){u.parentNode.removeChild(u)}}v.parent(this)},create:function(t){var s=this,v,u=[];if(!l.isArray(t)){t=[t]}l.each(t,function(w){if(w){if(!(w instanceof j)){if(typeof w=="string"){w={type:w}}v=l.extend({},s.settings.defaults,w);w.type=v.type=v.type||w.type||s.settings.defaultType||(v.defaults?v.defaults.type:null);w=k.create(v)}u.push(w)}});return u},renderNew:function(){var s=this;s.items().each(function(u,t){var v;u.parent(s);if(!u.state.get("rendered")){v=s.getEl("body");if(v.hasChildNodes()&&t<=v.childNodes.length-1){p(v.childNodes[t]).before(u.renderHtml())}else{p(v).append(u.renderHtml())}u.postRender();r.add(u)}});s._layout.applyClasses(s.items().filter(":visible"));s._lastRect=null;return s},append:function(s){return this.add(s).renderNew()},prepend:function(t){var s=this;s.items().set(s.create(t).concat(s.items().toArray()));return s.renderNew()},insert:function(u,w,y){var t=this,v,s,x;u=t.create(u);v=t.items();if(!y&&w<v.length-1){w+=1}if(w>=0&&w<v.length){s=v.slice(0,w).toArray();x=v.slice(w).toArray();v.set(s.concat(u,x))}return t.renderNew()},fromJSON:function(u){var s=this;for(var t in u){s.find("#"+t).value(u[t])}return s},toJSON:function(){var s=this,t={};s.find("*").each(function(w){var u=w.name(),v=w.value();if(u&&typeof v!="undefined"){t[u]=v}});return t},renderHtml:function(){var s=this,t=s._layout,u=this.settings.role;s.preRender();t.preRender(s);return('<div id="'+s._id+'" class="'+s.classes+'"'+(u?' role="'+this.settings.role+'"':"")+'><div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||"")+t.renderHtml(s)+"</div></div>")},postRender:function(){var s=this,t;s.items().exec("postRender");s._super();s._layout.postRender(s);s.state.set("rendered",true);if(s.settings.style){s.$el.css(s.settings.style)}if(s.settings.border){t=s.borderBox;s.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})}if(!s.parent()){s.keyboardNav=new q({root:s})}return s},initLayoutRect:function(){var s=this,t=s._super();s._layout.recalc(s);return t},recalc:function(){var s=this,u=s._layoutRect,t=s._lastRect;if(!t||t.w!=u.w||t.h!=u.h){s._layout.recalc(s);u=s.layoutRect();s._lastRect={x:u.x,y:u.y,w:u.w,h:u.h};return true}},reflow:function(){var s;r.remove(this);if(this.visible()){j.repaintControls=[];j.repaintControls.map={};this.recalc();s=j.repaintControls.length;while(s--){j.repaintControls[s].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}j.repaintControls=[]}return this}})});h("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(i){function k(s){var t,o,m,r;var p,u,n,l,q=Math.max;t=s.documentElement;o=s.body;m=q(t.scrollWidth,o.scrollWidth);r=q(t.clientWidth,o.clientWidth);p=q(t.offsetWidth,o.offsetWidth);u=q(t.scrollHeight,o.scrollHeight);n=q(t.clientHeight,o.clientHeight);l=q(t.offsetHeight,o.offsetHeight);return{width:m<p?r:m,height:u<l?n:u}}function j(n){var m,l;if(n.changedTouches){m="screenX screenY pageX pageY clientX clientY".split(" ");for(l=0;l<m.length;l++){n[m[l]]=n.changedTouches[0][m[l]]}}}return function(m,o){var t,v=o.document||document,l,n,u,r,q,p;o=o||{};function s(){return v.getElementById(o.handle||m)}n=function(x){var z=k(v),w,y;j(x);x.preventDefault();l=x.button;w=s();q=x.screenX;p=x.screenY;if(window.getComputedStyle){y=window.getComputedStyle(w,null).getPropertyValue("cursor")}else{y=w.runtimeStyle.cursor}t=i("<div>").css({position:"absolute",top:0,left:0,width:z.width,height:z.height,zIndex:2147483647,opacity:0.0001,cursor:y}).appendTo(v.body);i(v).on("mousemove touchmove",r).on("mouseup touchend",u);o.start(x)};r=function(w){j(w);if(w.button!==l){return u(w)}w.deltaX=w.screenX-q;w.deltaY=w.screenY-p;w.preventDefault();o.drag(w)};u=function(w){j(w);i(v).off("mousemove touchmove",r).off("mouseup touchend",u);t.remove();if(o.stop){o.stop(w)}};this.destroy=function(){i(s()).off()};i(s()).on("mousedown touchstart",n)}});h("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(j,i){return{init:function(){var k=this;k.on("repaint",k.renderScroll)},renderScroll:function(){var l=this,m=2;function n(){var r,q,p;function o(w,v,y,E,D,u){var x,B,A;var t,s,z,C;var F,G;B=l.getEl("scroll"+w);if(B){F=v.toLowerCase();G=y.toLowerCase();j(l.getEl("absend")).css(F,l.layoutRect()[E]-1);if(!D){j(B).css("display","none");return}j(B).css("display","block");x=l.getEl("body");A=l.getEl("scroll"+w+"t");t=x["client"+y]-(m*2);t-=r&&q?B["client"+u]:0;s=x["scroll"+y];z=t/s;C={};C[F]=x["offset"+v]+m;C[G]=t;j(B).css(C);C={};C[F]=x["scroll"+v]*z;C[G]=t*z;j(A).css(C)}}p=l.getEl("body");r=p.scrollWidth>p.clientWidth;q=p.scrollHeight>p.clientHeight;o("h","Left","Width","contentW",r,"Height");o("v","Top","Height","contentH",q,"Width")}function k(){function o(v,r,p,w,t){var u,q=l._id+"-scroll"+v,s=l.classPrefix;j(l.getEl()).append('<div id="'+q+'" class="'+s+"scrollbar "+s+"scrollbar-"+v+'"><div id="'+q+'t" class="'+s+'scrollbar-thumb"></div></div>');l.draghelper=new i(q+"t",{start:function(){u=l.getEl("body")["scroll"+r];j("#"+q).addClass(s+"active")},drag:function(A){var x,C,z,B,y=l.layoutRect();C=y.contentW>y.innerW;z=y.contentH>y.innerH;B=l.getEl("body")["client"+p]-(m*2);B-=C&&z?l.getEl("scroll"+v)["client"+t]:0;x=B/l.getEl("body")["scroll"+p];l.getEl("body")["scroll"+r]=u+(A["delta"+w]/x)},stop:function(){j("#"+q).removeClass(s+"active")}})}l.classes.add("scroll");o("v","Top","Height","Y","Width");o("h","Left","Width","X","Height")}if(l.settings.autoScroll){if(!l._hasScroll){l._hasScroll=true;k();l.on("wheel",function(p){var o=l.getEl("body");o.scrollLeft+=(p.deltaX||0)*10;o.scrollTop+=p.deltaY*10;n()});j(l.getEl("body")).on("scroll",n)}n()}}}});h("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(j,i){return j.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[i],renderHtml:function(){var l=this,m=l._layout,k=l.settings.html;l.preRender();m.preRender(l);if(typeof k=="undefined"){k=('<div id="'+l._id+'-body" class="'+l.bodyClasses+'">'+m.renderHtml(l)+"</div>")}else{if(typeof k=="function"){k=k.call(l)}l._hasBody=false}return('<div id="'+l._id+'" class="'+l.classes+'" hidefocus="1" tabindex="-1" role="group">'+(l._preBodyHtml||"")+k+"</div>")}})});h("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(i){function j(k,s,v){var u,o,r,p,t,m,q,l,n,w;n=i.getViewPort();o=i.getPos(s);r=o.x;p=o.y;if(k.state.get("fixed")&&i.getRuntimeStyle(document.body,"position")=="static"){r-=n.x;p-=n.y}u=k.getEl();w=i.getSize(u);t=w.width;m=w.height;w=i.getSize(s);q=w.width;l=w.height;v=(v||"").split("");if(v[0]==="b"){p+=l}if(v[1]==="r"){r+=q}if(v[0]==="c"){p+=Math.round(l/2)}if(v[1]==="c"){r+=Math.round(q/2)}if(v[3]==="b"){p-=m}if(v[4]==="r"){r-=t}if(v[3]==="c"){p-=Math.round(m/2)}if(v[4]==="c"){r-=Math.round(t/2)}return{x:r,y:p,w:t,h:m}}return{testMoveRel:function(o,l){var k=i.getViewPort();for(var m=0;m<l.length;m++){var n=j(this,o,l[m]);if(this.state.get("fixed")){if(n.x>0&&n.x+n.w<k.w&&n.y>0&&n.y+n.h<k.h){return l[m]}}else{if(n.x>k.x&&n.x+n.w<k.w+k.x&&n.y>k.y&&n.y+n.h<k.h+k.y){return l[m]}}}return l[0]},moveRel:function(m,k){if(typeof k!="string"){k=this.testMoveRel(m,k)}var l=j(this,m,k);return this.moveTo(l.x,l.y)},moveBy:function(m,k){var l=this,n=l.layoutRect();l.moveTo(n.x+m,n.y+k);return l},moveTo:function(k,p){var l=this;function o(s,q,r){if(s<0){return 0}if(s+r>q){s=q-r;return s<0?0:s}return s}if(l.settings.constrainToViewport){var m=i.getViewPort(window);var n=l.layoutRect();k=o(k,m.w+m.x,n.w);p=o(p,m.h+m.y,n.h)}if(l.state.get("rendered")){l.layoutRect({x:k,y:p}).repaint()}else{l.settings.x=k;l.settings.y=p}l.fire("move",{x:k,y:p});return l}}});h("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow()},resizeTo:function(j,k){if(j<=1||k<=1){var l=i.getWindowSize();j=j<=1?j*l.w:j;k=k<=1?k*l.h:k}this._layoutRect.autoResize=false;return this.layoutRect({minW:j,minH:k,w:j,h:k}).reflow()},resizeBy:function(k,m){var j=this,l=j.layoutRect();return j.resizeTo(l.w+k,l.h+m)}}});h("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(z,w,q,B,o,n){var m,v,r,k=[];var i=[],p;function x(E,D){while(E){if(E==D){return true}E=E.parent()}}function s(G){var F=k.length;while(F--){var E=k[F],D=E.getParentCtrl(G.target);if(E.settings.autohide){if(D){if(x(D,E)||E.parent()===D){continue}}G=E.fire("autohide",{target:G.target});if(!G.isDefaultPrevented()){E.hide()}}}}function j(){if(!m){m=function(D){if(D.button==2){return}s(D)};o(document).on("click touchstart",m)}}function l(){if(!v){v=function(){var D;D=k.length;while(D--){t(k[D])}};o(window).on("scroll",v)}}function A(){if(!r){var E=document.documentElement,F=E.clientWidth,D=E.clientHeight;r=function(){if(!document.all||F!=E.clientWidth||D!=E.clientHeight){F=E.clientWidth;D=E.clientHeight;y.hideAll()}};o(window).on("resize",r)}}function t(D){var E=B.getViewPort().y;function F(J,G){var I;for(var H=0;H<k.length;H++){if(k[H]!=D){I=k[H].parent();while(I&&(I=I.parent())){if(I==D){k[H].fixed(J).moveBy(0,G).repaint()}}}}}if(D.settings.autofix){if(!D.state.get("fixed")){D._autoFixY=D.layoutRect().y;if(D._autoFixY<E){D.fixed(true).layoutRect({y:0}).repaint();F(true,E-D._autoFixY)}}else{if(D._autoFixY>E){D.fixed(false).layoutRect({y:D._autoFixY}).repaint();F(false,D._autoFixY-E)}}}}function u(H,F){var D,I=y.zIndex||65535,E;if(H){i.push(F)}else{D=i.length;while(D--){if(i[D]===F){i.splice(D,1)}}}if(i.length){for(D=0;D<i.length;D++){if(i[D].modal){I++;E=i[D]}i[D].getEl().style.zIndex=I;i[D].zIndex=I;I++}}var G=document.getElementById(F.classPrefix+"modal-block");if(E){o(G).css("z-index",E.zIndex-1)}else{if(G){G.parentNode.removeChild(G);p=false}}y.currentZIndex=I}var y=z.extend({Mixins:[w,q],init:function(E){var D=this;D._super(E);D._eventsRoot=D;D.classes.add("floatpanel");if(E.autohide){j();A();k.push(D)}if(E.autofix){l();D.on("move",function(){t(this)})}D.on("postrender show",function(H){if(H.control==D){var G,F=D.classPrefix;if(D.modal&&!p){G=o("#"+F+"modal-block");if(!G[0]){G=o('<div id="'+F+'modal-block" class="'+F+"reset "+F+'fade"></div>').appendTo(D.getContainerElm())}n.setTimeout(function(){G.addClass(F+"in");o(D.getEl()).addClass(F+"in")});p=true}u(true,D)}});D.on("show",function(){D.parents().each(function(F){if(F.state.get("fixed")){D.fixed(true);return false}})});if(E.popover){D._preBodyHtml='<div class="'+D.classPrefix+'arrow"></div>';D.classes.add("popover").add("bottom").add(D.isRtl()?"end":"start")}},fixed:function(F){var E=this;if(E.state.get("fixed")!=F){if(E.state.get("rendered")){var D=B.getViewPort();if(F){E.layoutRect().y-=D.y}else{E.layoutRect().y+=D.y}}E.classes.toggle("fixed",F);E.state.set("fixed",F)}return E},show:function(){var D=this,E,F=D._super();E=k.length;while(E--){if(k[E]===D){break}}if(E===-1){k.push(D)}return F},hide:function(){C(this);u(false,this);return this._super()},hideAll:function(){y.hideAll()},close:function(){var D=this;if(!D.fire("close").isDefaultPrevented()){D.remove();u(false,D)}return D},remove:function(){C(this);this._super()},postRender:function(){var D=this;if(D.settings.bodyRole){this.getEl("body").setAttribute("role",D.settings.bodyRole)}return D._super()}});y.hideAll=function(){var E=k.length;while(E--){var D=k[E];if(D&&D.settings.autohide){D.hide();k.splice(E,1)}}};function C(D){var E;E=k.length;while(E--){if(k[E]===D){k.splice(E,1)}}E=i.length;while(E--){if(i[E]===D){i.splice(E,1)}}}return y});h("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(p,t,i,n,j,v,q,k){var s=[],o="";function l(z){var y="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",w=n("meta[name=viewport]")[0],x;if(q.overrideViewPort===false){return}if(!w){w=document.createElement("meta");w.setAttribute("name","viewport");document.getElementsByTagName("head")[0].appendChild(w)}x=w.getAttribute("content");if(x&&typeof o!="undefined"){o=x}w.setAttribute("content",z?y:o)}function r(w){for(var x=0;x<s.length;x++){if(s[x]._fullscreen){return}}n([document.documentElement,document.body]).removeClass(w+"fullscreen")}function m(){var x={w:window.innerWidth,h:window.innerHeight};k.setInterval(function(){var y=window.innerWidth,z=window.innerHeight;if(x.w!=y||x.h!=z){x={w:y,h:z};n(window).trigger("resize")}},100);function w(){var y,A=i.getWindowSize(),z;for(y=0;y<s.length;y++){z=s[y].layoutRect();s[y].moveTo(s[y].settings.x||Math.max(0,A.w/2-z.w/2),s[y].settings.y||Math.max(0,A.h/2-z.h/2))}}n(window).on("resize",w)}var u=p.extend({modal:true,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(x){var w=this;w._super(x);if(w.isRtl()){w.classes.add("rtl")}w.classes.add("window");w.bodyClasses.add("window-body");w.state.set("fixed",true);if(x.buttons){w.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:w.isRtl()?"start":"end",defaults:{type:"button"},items:x.buttons});w.statusbar.classes.add("foot");w.statusbar.parent(w)}w.on("click",function(y){if(y.target.className.indexOf(w.classPrefix+"close")!=-1){w.close()}});w.on("cancel",function(){w.close()});w.aria("describedby",w.describedBy||w._id+"-none");w.aria("label",x.title);w._fullscreen=false},recalc:function(){var y=this,B=y.statusbar,A,z,w,C;if(y._fullscreen){y.layoutRect(i.getWindowSize());y.layoutRect().contentH=y.layoutRect().innerH}y._super();A=y.layoutRect();if(y.settings.title&&!y._fullscreen){z=A.headerW;if(z>A.w){w=A.x-Math.max(0,z/2);y.layoutRect({w:z,x:w});C=true}}if(B){B.layoutRect({w:y.layoutRect().innerW}).recalc();z=B.layoutRect().minW+A.deltaW;if(z>A.w){w=A.x-Math.max(0,z-A.w);y.layoutRect({w:z,x:w});C=true}}if(C){y.recalc()}},initLayoutRect:function(){var w=this,A=w._super(),z=0,B;if(w.settings.title&&!w._fullscreen){B=w.getEl("head");var x=i.getSize(B);A.headerW=x.width;A.headerH=x.height;z+=A.headerH}if(w.statusbar){z+=w.statusbar.layoutRect().h}A.deltaH+=z;A.minH+=z;A.h+=z;var y=i.getWindowSize();A.x=w.settings.x||Math.max(0,y.w/2-A.w/2);A.y=w.settings.y||Math.max(0,y.h/2-A.h/2);return A},renderHtml:function(){var x=this,A=x._layout,D=x._id,B=x.classPrefix;var z=x.settings,w="",C="",y=z.html;x.preRender();A.preRender(x);if(z.title){w=('<div id="'+D+'-head" class="'+B+'window-head"><div id="'+D+'-title" class="'+B+'title">'+x.encode(z.title)+'</div><button type="button" class="'+B+'close" aria-hidden="true">\u00d7</button><div id="'+D+'-dragh" class="'+B+'dragh"></div></div>')}if(z.url){y='<iframe src="'+z.url+'" tabindex="-1"></iframe>'}if(typeof y=="undefined"){y=A.renderHtml(x)}if(x.statusbar){C=x.statusbar.renderHtml()}return('<div id="'+D+'" class="'+x.classes+'" hidefocus="1"><div class="'+x.classPrefix+'reset" role="application">'+w+'<div id="'+D+'-body" class="'+x.bodyClasses+'">'+y+"</div>"+C+"</div></div>")},fullscreen:function(C){var w=this,B=document.documentElement,x,A=w.classPrefix,z;if(C!=w._fullscreen){n(window).on("resize",function(){var E;if(w._fullscreen){if(!x){E=new Date().getTime();var D=i.getWindowSize();w.moveTo(0,0).resizeTo(D.w,D.h);if((new Date().getTime())-E>50){x=true}}else{if(!w._timer){w._timer=k.setTimeout(function(){var F=i.getWindowSize();w.moveTo(0,0).resizeTo(F.w,F.h);w._timer=0},50)}}}});z=w.layoutRect();w._fullscreen=C;if(!C){w.borderBox=v.parseBox(w.settings.border);w.getEl("head").style.display="";z.deltaH+=z.headerH;n([B,document.body]).removeClass(A+"fullscreen");w.classes.remove("fullscreen");w.moveTo(w._initial.x,w._initial.y).resizeTo(w._initial.w,w._initial.h)}else{w._initial={x:z.x,y:z.y,w:z.w,h:z.h};w.borderBox=v.parseBox("0");w.getEl("head").style.display="none";z.deltaH-=z.headerH+2;n([B,document.body]).addClass(A+"fullscreen");w.classes.add("fullscreen");var y=i.getWindowSize();w.moveTo(0,0).resizeTo(y.w,y.h)}}return w.reflow()},postRender:function(){var w=this,x;setTimeout(function(){w.classes.add("in")},0);w._super();if(w.statusbar){w.statusbar.postRender()}w.focus();this.dragHelper=new j(w._id+"-dragh",{start:function(){x={x:w.layoutRect().x,y:w.layoutRect().y}},drag:function(y){w.moveTo(x.x+y.deltaX,x.y+y.deltaY)}});w.on("submit",function(y){if(!y.isDefaultPrevented()){w.close()}});s.push(w);l(true)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var w=this,x;w.dragHelper.destroy();w._super();if(w.statusbar){this.statusbar.remove()}x=s.length;while(x--){if(s[x]===w){s.splice(x,1)}}l(s.length>0);r(w.classPrefix)},getContentWindow:function(){var w=this.getEl().getElementsByTagName("iframe")[0];return w?w.contentWindow:null}});if(!q.desktop){m()}return u});h("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(j){var i=j.extend({init:function(k){k={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(k)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(l){var m,n=l.callback||function(){};function k(q,o,p){return{type:"button",text:q,subtype:p?"primary":"",onClick:function(r){r.control.parents()[1].close();n(o)}}}switch(l.buttons){case i.OK_CANCEL:m=[k("Ok",true,true),k("Cancel",false)];break;case i.YES_NO:case i.YES_NO_CANCEL:m=[k("Yes",1,true),k("No",0)];if(l.buttons==i.YES_NO_CANCEL){m.push(k("Cancel",-1))}break;default:m=[k("Ok",true,true)];break}return new j({padding:20,x:l.x,y:l.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:m,title:l.title,role:"alertdialog",items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:l.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:l.onClose,onCancel:function(){n(false)}}).renderTo(document.body).reflow()},alert:function(k,l){if(typeof k=="string"){k={text:k}}k.callback=l;return i.msgBox(k)},confirm:function(k,l){if(typeof k=="string"){k={text:k}}k.callback=l;k.buttons=i.OK_CANCEL;return i.msgBox(k)}}});return i});h("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(j,i){return function(m){var l=this,n=[];function k(){if(n.length){return n[n.length-1]}}l.windows=n;m.on("remove",function(){var o=n.length;while(o--){n[o].close()}});l.open=function(o,q){var p;m.editorManager.setActive(m);o.title=o.title||" ";o.url=o.url||o.file;if(o.url){o.width=parseInt(o.width||320,10);o.height=parseInt(o.height||240,10)}if(o.body){o.items={defaults:o.defaults,type:o.bodyType||"form",items:o.body}}if(!o.url&&!o.buttons){o.buttons=[{text:"Ok",subtype:"primary",onclick:function(){p.find("form")[0].submit()}},{text:"Cancel",onclick:function(){p.close()}}]}p=new j(o);n.push(p);p.on("close",function(){var r=n.length;while(r--){if(n[r]===p){n.splice(r,1)}}if(!n.length){m.focus()}});if(o.data){p.on("postRender",function(){this.find("*").each(function(s){var r=s.name();if(r in o.data){s.value(o.data[r])}})})}p.features=o||{};p.params=q||{};if(n.length===1){m.nodeChanged()}return p.renderTo().reflow()};l.alert=function(p,q,o){i.alert(p,function(){if(q){q.call(o||this)}else{m.focus()}})};l.confirm=function(p,q,o){i.confirm(p,function(r){q.call(o||this,r)})};l.close=function(){if(k()){k().close()}};l.getParams=function(){return k()?k().params:null};l.setParams=function(o){if(k()){k().params=o}};l.getWindows=function(){return n}}});h("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(j,i){return j.extend({Mixins:[i],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var k=this,l=k.classPrefix;return('<div id="'+k._id+'" class="'+k.classes+'" role="presentation"><div class="'+l+'tooltip-arrow"></div><div class="'+l+'tooltip-inner">'+k.encode(k.state.get("text"))+"</div></div>")},bindStates:function(){var k=this;k.state.on("change:text",function(l){k.getEl().lastChild.innerHTML=k.encode(l.value)});return k._super()},repaint:function(){var k=this,l,m;l=k.getEl().style;m=k._layoutRect;l.left=m.x+"px";l.top=m.y+"px";l.zIndex=65535+65535}})});h("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(k,i){var l;var j=k.extend({init:function(n){var m=this;m._super(n);n=m.settings;m.canFocus=true;if(n.tooltip&&j.tooltips!==false){m.on("mouseenter",function(q){var p=m.tooltip().moveTo(-65535);if(q.control==m){var o=p.text(n.tooltip).show().testMoveRel(m.getEl(),["bc-tc","bc-tl","bc-tr"]);p.classes.toggle("tooltip-n",o=="bc-tc");p.classes.toggle("tooltip-nw",o=="bc-tl");p.classes.toggle("tooltip-ne",o=="bc-tr");p.moveRel(m.getEl(),o)}else{p.hide()}});m.on("mouseleave mousedown click",function(){m.tooltip().hide()})}m.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){if(!l){l=new i({type:"tooltip"});l.renderTo()}return l},postRender:function(){var m=this,n=m.settings;m._super();if(!m.parent()&&(n.width||n.height)){m.initLayoutRect();m.repaint()}if(n.autofocus){m.focus()}},bindStates:function(){var m=this;function n(p){m.aria("disabled",p);m.classes.toggle("disabled",p)}function o(p){m.aria("pressed",p);m.classes.toggle("active",p)}m.state.on("change:disabled",function(p){n(p.value)});m.state.on("change:active",function(p){o(p.value)});if(m.state.get("disabled")){n(true)}if(m.state.get("active")){o(true)}return m._super()},remove:function(){this._super();if(l){l.remove();l=null}}});return j});h("tinymce/ui/Progress",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{value:0},init:function(k){var j=this;j._super(k);j.classes.add("progress");if(!j.settings.filter){j.settings.filter=function(l){return Math.round(l)}}},renderHtml:function(){var j=this,l=j._id,k=this.classPrefix;return('<div id="'+l+'" class="'+j.classes+'"><div class="'+k+'bar-container"><div class="'+k+'bar"></div></div><div class="'+k+'text">0%</div></div>')},postRender:function(){var j=this;j._super();j.value(j.settings.value);return j},bindStates:function(){var j=this;function k(l){l=j.settings.filter(l);j.getEl().lastChild.innerHTML=l+"%";j.getEl().firstChild.firstChild.style.width=l+"%"}j.state.on("change:value",function(l){k(l.value)});k(j.state.get("value"));return j._super()}})});h("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress"],function(k,j,i){return k.extend({Mixins:[j],Defaults:{classes:"widget notification"},init:function(m){var l=this;l._super(m);if(m.text){l.text(m.text)}if(m.icon){l.icon=m.icon}if(m.color){l.color=m.color}if(m.type){l.classes.add("notification-"+m.type)}if(m.timeout&&(m.timeout<0||m.timeout>0)&&!m.closeButton){l.closeButton=false}else{l.classes.add("has-close");l.closeButton=true}if(m.progressBar){l.progressBar=new i()}l.on("click",function(n){if(n.target.className.indexOf(l.classPrefix+"close")!=-1){l.close()}})},renderHtml:function(){var n=this,p=n.classPrefix,o="",m="",q="",l="";if(n.icon){o='<i class="'+p+"ico "+p+"i-"+n.icon+'"></i>'}if(n.color){l=' style="background-color: '+n.color+'"'}if(n.closeButton){m='<button type="button" class="'+p+'close" aria-hidden="true">\u00d7</button>'}if(n.progressBar){q=n.progressBar.renderHtml()}return('<div id="'+n._id+'" class="'+n.classes+'"'+l+' role="presentation">'+o+'<div class="'+p+'notification-inner">'+n.state.get("text")+"</div>"+q+m+"</div>")},bindStates:function(){var l=this;l.state.on("change:text",function(m){l.getEl().childNodes[1].innerHTML=m.value});if(l.progressBar){l.progressBar.bindStates()}return l._super()},close:function(){var l=this;if(!l.fire("close").isDefaultPrevented()){l.remove()}return l},repaint:function(){var l=this,m,n;m=l.getEl().style;n=l._layoutRect;m.left=n.x+"px";m.top=n.y+"px";m.zIndex=65535+65535}})});h("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(i,j){return function(o){var k=this,m=[];function n(){if(m.length){return m[m.length-1]}}k.notifications=m;function p(){j.requestAnimationFrame(function(){l();q()})}function l(){for(var r=0;r<m.length;r++){m[r].moveTo(0,0)}}function q(){if(m.length>0){var t=m.slice(0,1)[0];var r=o.inline?o.getElement():o.getContentAreaContainer();t.moveRel(r,"tc-tc");if(m.length>1){for(var s=1;s<m.length;s++){m[s].moveRel(m[s-1].getEl(),"bc-tc")}}}}o.on("remove",function(){var r=m.length;while(r--){m[r].close()}});o.on("ResizeEditor",q);o.on("ResizeWindow",p);k.open=function(s){var r;o.editorManager.setActive(o);r=new i(s);m.push(r);if(s.timeout>0){r.timer=setTimeout(function(){r.close()},s.timeout)}r.on("close",function(){var t=m.length;if(r.timer){o.getWin().clearTimeout(r.timer)}while(t--){if(m[t]===r){m.splice(t,1)}}q()});r.renderTo();q();return r};k.close=function(){if(n()){n().close()}};k.getNotifications=function(){return m}}});h("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(k){function i(l,n,o){var m=[];for(;n&&n!=l;n=n.parentNode){m.push(k.nodeIndex(n,o))}return m}function j(l,p){var n,o,m;for(o=l,n=p.length-1;n>=0;n--){m=o.childNodes;if(p[n]>m.length-1){return null}o=m[p[n]]}return o}return{create:i,resolve:j}});h("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer"],function(r,m,q,l,n,j,o,k,i,p){return function(s){var aj=k.each,W=s.$;var u=r.BACKSPACE,G=r.DELETE,t=s.dom,I=s.selection,an=s.settings,V=s.parser,M=s.serializer;var w=o.gecko,E=o.ie,ag=o.webkit;var ab="data:text/mce-internal,";var v=E?"Text":"URL";function aa(au,at){try{s.getDoc().execCommand(au,false,at)}catch(ar){}}function K(){var ar=s.getDoc().documentMode;return ar?ar:6}function Z(ar){return ar.isDefaultPrevented()}function Q(at){var ar,au;if(at.dataTransfer){if(s.selection.isCollapsed()&&at.target.tagName=="IMG"){I.select(at.target)}ar=s.selection.getContent();if(ar.length>0){au=ab+escape(s.id)+","+escape(ar);at.dataTransfer.setData(v,au)}}}function L(ar){var at;if(ar.dataTransfer){at=ar.dataTransfer.getData(v);if(at&&at.indexOf(ab)>=0){at=at.substr(ab.length).split(",");return{id:unescape(at[0]),html:unescape(at[1])}}}return null}function R(ar){if(s.queryCommandSupported("mceInsertClipboardContent")){s.execCommand("mceInsertClipboardContent",false,{content:ar})}else{s.execCommand("mceInsertContent",false,ar)}}function ap(){var aD=s.getDoc(),ax=s.dom,aE=s.selection;var at=window.MutationObserver,ay,aC;if(!at){ay=true;at=function(){var aG=[],aJ;function aI(aL){var aK=aL.relatedNode||aL.target;aG.push({target:aK,addedNodes:[aK]})}function aH(aL){var aK=aL.relatedNode||aL.target;aG.push({target:aK,attributeName:aL.attrName})}this.observe=function(aK){aJ=aK;aJ.addEventListener("DOMSubtreeModified",aI,false);aJ.addEventListener("DOMNodeInsertedIntoDocument",aI,false);aJ.addEventListener("DOMNodeInserted",aI,false);aJ.addEventListener("DOMAttrModified",aH,false)};this.disconnect=function(){aJ.removeEventListener("DOMSubtreeModified",aI,false);aJ.removeEventListener("DOMNodeInsertedIntoDocument",aI,false);aJ.removeEventListener("DOMNodeInserted",aI,false);aJ.removeEventListener("DOMAttrModified",aH,false)};this.takeRecords=function(){return aG}}}function ar(aI){var aH=ax.schema.getBlockElements(),aG=s.getBody();if(aI.nodeName!="BR"){return false}for(aI=aI;aI!=aG&&!aH[aI.nodeName];aI=aI.parentNode){if(aI.nextSibling){return false}}return true}function au(aH,aG){var aI;for(aI=aH.nextSibling;aI&&aI!=aG;aI=aI.nextSibling){if(aI.nodeType==3&&W.trim(aI.data).length===0){continue}if(aI!==aG){return false}}return aI===aG}function az(aJ,aI,aH){var aL,aK,aG;aG=ax.schema.getNonEmptyElements();aL=new q(aH||aJ,aJ);while((aK=aL[aI?"next":"prev"]())){if(aG[aK.nodeName]&&!ar(aK)){return aK}if(aK.nodeType==3&&aK.data.length>0){return aK}}}function aB(aH){var aK,aI,aG,aJ,aL;if(aH.collapsed){return}aK=ax.getParent(m.getNode(aH.startContainer,aH.startOffset),ax.isBlock);aI=ax.getParent(m.getNode(aH.endContainer,aH.endOffset),ax.isBlock);aL=s.schema.getTextBlockElements();if(aK==aI){return}if(!aL[aK.nodeName]||!aL[aI.nodeName]){return}if(ax.getContentEditable(aK)==="false"||ax.getContentEditable(aI)==="false"){return}aH.deleteContents();aG=az(aK,false);aJ=az(aI,true);if(!ax.isEmpty(aI)){W(aK).append(aI.childNodes)}W(aI).remove();if(aG){if(aG.nodeType==1){if(aG.nodeName=="BR"){aH.setStartBefore(aG);aH.setEndBefore(aG)}else{aH.setStartAfter(aG);aH.setEndAfter(aG)}}else{aH.setStart(aG,aG.data.length);aH.setEnd(aG,aG.data.length)}}else{if(aJ){if(aJ.nodeType==1){aH.setStartBefore(aJ);aH.setEndBefore(aJ)}else{aH.setStart(aJ,0);aH.setEnd(aJ,0)}}}aE.setRng(aH);return true}function aw(aH,aM){var aJ,aL,aI,aK,aG,aN;if(!aH.collapsed){return aH}aG=aH.startContainer;aN=aH.startOffset;if(aG.nodeType==3){if(aM){if(aN<aG.data.length){return aH}}else{if(aN>0){return aH}}}aJ=m.getNode(aH.startContainer,aH.startOffset);aI=ax.getParent(aJ,ax.isBlock);aL=az(s.getBody(),aM,aJ);aK=ax.getParent(aL,ax.isBlock);if(!aJ||!aL){return aH}if(aK&&aI!=aK){if(!aM){if(!au(aK,aI)){return aH}if(aL.nodeType==1){if(aL.nodeName=="BR"){aH.setStartBefore(aL)}else{aH.setStartAfter(aL)}}else{aH.setStart(aL,aL.data.length)}if(aJ.nodeType==1){aH.setEnd(aJ,0)}else{aH.setEndBefore(aJ)}}else{if(!au(aI,aK)){return aH}if(aJ.nodeType==1){if(aJ.nodeName=="BR"){aH.setStartBefore(aJ)}else{aH.setStartAfter(aJ)}}else{aH.setStart(aJ,aJ.data.length)}if(aL.nodeType==1){aH.setEnd(aL,0)}else{aH.setEndBefore(aL)}}}return aH}function av(aH){var aG=aE.getRng();aG=aw(aG,aH);if(aB(aG)){return true}}function aF(aR,aG){var aS,aJ,aK,aL,aO,aH,aN,aQ,aI;function aM(aU,aT){aI=W(aT).parents().filter(function(aV,aW){return !!s.schema.getTextInlineElements()[aW.nodeName]});aK=aU.cloneNode(false);aI=k.map(aI,function(aV){aV=aV.cloneNode(false);if(aK.hasChildNodes()){aV.appendChild(aK.firstChild);aK.appendChild(aV)}else{aK.appendChild(aV)}aK.appendChild(aV);return aV});if(aI.length){aQ=ax.create("br");aI[0].appendChild(aQ);ax.replace(aK,aU);aG.setStartBefore(aQ);aG.setEndBefore(aQ);s.selection.setRng(aG);return aQ}return null}function aP(aT){return aT&&s.schema.getTextBlockElements()[aT.tagName]}if(!aG.collapsed){return}aH=aG.startContainer;aN=aG.startOffset;aJ=ax.getParent(aH,ax.isBlock);if(!aP(aJ)){return}if(aH.nodeType==1){aH=aH.childNodes[aN];if(aH&&aH.tagName!="BR"){return}if(aR){aO=aJ.nextSibling}else{aO=aJ.previousSibling}if(ax.isEmpty(aJ)&&aP(aO)&&ax.isEmpty(aO)){if(aM(aJ,aH)){ax.remove(aO);return true}}}else{if(aH.nodeType==3){aS=l.create(aJ,aH);aL=aJ.cloneNode(true);aH=l.resolve(aL,aS);if(aR){if(aN>=aH.data.length){return}aH.deleteData(aN,1)}else{if(aN<=0){return}aH.deleteData(aN-1,1)}if(ax.isEmpty(aL)){return aM(aJ,aH)}}}}function aA(aI){var aH,aG,aJ;if(av(aI)){return}k.each(s.getBody().getElementsByTagName("*"),function(aK){if(aK.tagName=="SPAN"){aK.setAttribute("mce-data-marked",1)}if(!aK.hasAttribute("data-mce-style")&&aK.hasAttribute("style")){s.dom.setAttrib(aK,"style",s.dom.getAttrib(aK,"style"))}});aH=new at(function(){});aH.observe(s.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:["style"]});s.getDoc().execCommand(aI?"ForwardDelete":"Delete",false,null);aG=s.selection.getRng();aJ=aG.startContainer.parentNode;k.each(aH.takeRecords(),function(aK){if(!ax.isChildOf(aK.target,s.getBody())){return}if(aK.attributeName=="style"){var aL=aK.target.getAttribute("data-mce-style");if(aL){aK.target.setAttribute("style",aL)}else{aK.target.removeAttribute("style")}}k.each(aK.addedNodes,function(aN){if(aN.nodeName=="SPAN"&&!aN.getAttribute("mce-data-marked")){var aO,aM;if(aN==aJ){aO=aG.startOffset;aM=aN.firstChild}ax.remove(aN,true);if(aM){aG.setStart(aM,aO);aG.setEnd(aM,aO);s.selection.setRng(aG)}}})});aH.disconnect();k.each(s.dom.select("span[mce-data-marked]"),function(aK){aK.removeAttribute("mce-data-marked")})}s.on("keydown",function(aK){var aJ=aK.keyCode==G,aG=aK.ctrlKey||aK.metaKey;if(!Z(aK)&&(aJ||aK.keyCode==u)){var aI=s.selection.getRng(),aH=aI.startContainer,aL=aI.startOffset;if(aJ&&aK.shiftKey){return}if(aF(aJ,aI)){aK.preventDefault();return}if(!aG&&aI.collapsed&&aH.nodeType==3){if(aJ?aL<aH.data.length:aL>0){return}}aK.preventDefault();if(aG){s.selection.getSel().modify("extend",aJ?"forward":"backward",aK.metaKey?"lineboundary":"word")}aA(aJ)}});s.on("keypress",function(aL){if(!Z(aL)&&!aE.isCollapsed()&&aL.charCode>31&&!r.metaKeyPressed(aL)){var aG,aM,aK,aH,aI,aJ;aG=s.selection.getRng();aJ=String.fromCharCode(aL.charCode);aL.preventDefault();aM=W(aG.startContainer).parents().filter(function(aN,aO){return !!s.schema.getTextInlineElements()[aO.nodeName]});aA(true);aM=aM.filter(function(aN,aO){return !W.contains(s.getBody(),aO)});if(aM.length){aK=ax.createFragment();aM.each(function(aN,aO){aO=aO.cloneNode(false);if(aK.hasChildNodes()){aO.appendChild(aK.firstChild);aK.appendChild(aO)}else{aI=aO;aK.appendChild(aO)}aK.appendChild(aO)});aI.appendChild(s.getDoc().createTextNode(aJ));aH=ax.getParent(aG.startContainer,ax.isBlock);if(ax.isEmpty(aH)){W(aH).empty().append(aK)}else{aG.insertNode(aK)}aG.setStart(aI.firstChild,1);aG.setEnd(aI.firstChild,1);s.selection.setRng(aG)}else{s.selection.setContent(aJ)}}});s.addCommand("Delete",function(){aA()});s.addCommand("ForwardDelete",function(){aA(true)});if(ay){return}s.on("dragstart",function(aG){aC=aE.getRng();Q(aG)});s.on("drop",function(aG){if(!Z(aG)){var aH=L(aG);if(aH){aG.preventDefault();i.setEditorTimeout(s,function(){var aI=m.getCaretRangeFromPoint(aG.x,aG.y,aD);if(aC){aE.setRng(aC);aC=null}aA();aE.setRng(aI);R(aH.html)})}}});s.on("cut",function(aG){if(!Z(aG)&&aG.clipboardData&&!s.selection.isCollapsed()){aG.preventDefault();aG.clipboardData.clearData();aG.clipboardData.setData("text/html",s.selection.getContent());aG.clipboardData.setData("text/plain",s.selection.getContent({format:"text"}));i.setEditorTimeout(s,function(){aA(true)})}})}function P(){function ar(av){var au=t.create("body");var aw=av.cloneContents();au.appendChild(aw);return I.serializer.serialize(au,{format:"html"})}function at(au){if(!au.setStart){if(au.item){return false}var ay=au.duplicate();ay.moveToElementText(s.getBody());return m.compareRanges(au,ay)}var aw=ar(au);var ax=t.createRng();ax.selectNode(s.getBody());var av=ar(ax);return aw===av}s.on("keydown",function(ax){var aw=ax.keyCode,av,au;if(!Z(ax)&&(aw==G||aw==u)){av=s.selection.isCollapsed();au=s.getBody();if(av&&!t.isEmpty(au)){return}if(!av&&!at(s.selection.getRng())){return}ax.preventDefault();s.setContent("");if(au.firstChild&&t.isBlock(au.firstChild)){s.selection.setCursorLocation(au.firstChild,0)}else{s.selection.setCursorLocation(au,0)}s.nodeChanged()}})}function ao(){s.shortcuts.add("meta+a",null,"SelectAll")}function aq(){if(!s.settings.content_editable){t.bind(s.getDoc(),"mousedown mouseup",function(at){var ar;if(at.target==s.getDoc().documentElement){ar=I.getRng();s.getBody().focus();if(at.type=="mousedown"){if(p.isCaretContainer(ar.startContainer)){return}I.placeCaretAt(at.clientX,at.clientY)}else{I.setRng(ar)}}})}}function ad(){s.on("keydown",function(au){if(!Z(au)&&au.keyCode===u){if(!s.getBody().getElementsByTagName("hr").length){return}if(I.isCollapsed()&&I.getRng(true).startOffset===0){var at=I.getNode();var ar=at.previousSibling;if(at.nodeName=="HR"){t.remove(at);au.preventDefault();return}if(ar&&ar.nodeName&&ar.nodeName.toLowerCase()==="hr"){t.remove(ar);au.preventDefault()}}}})}function Y(){if(!window.Range.prototype.getClientRects){s.on("mousedown",function(at){if(!Z(at)&&at.target.nodeName==="HTML"){var ar=s.getBody();ar.blur();i.setEditorTimeout(s,function(){ar.focus()})}})}}function z(){s.on("click",function(at){var ar=at.target;if(/^(IMG|HR)$/.test(ar.nodeName)&&t.getContentEditableParent(ar)!=="false"){at.preventDefault();I.getSel().setBaseAndExtent(ar,0,ar,1);s.nodeChanged()}if(ar.nodeName=="A"&&t.hasClass(ar,"mce-item-anchor")){at.preventDefault();I.select(ar)}})}function ak(){function at(){var au=t.getAttribs(I.getStart().cloneNode(false));return function(){var av=I.getStart();if(av!==s.getBody()){t.setAttrib(av,"style",null);aj(au,function(aw){av.setAttributeNode(aw.cloneNode(true))})}}}function ar(){return !I.isCollapsed()&&t.getParent(I.getStart(),t.isBlock)!=t.getParent(I.getEnd(),t.isBlock)}s.on("keypress",function(av){var au;if(!Z(av)&&(av.keyCode==8||av.keyCode==46)&&ar()){au=at();s.getDoc().execCommand("delete",false,null);au();av.preventDefault();return false}});t.bind(s.getDoc(),"cut",function(av){var au;if(!Z(av)&&ar()){au=at();i.setEditorTimeout(s,function(){au()})}})}function X(){document.body.setAttribute("role","application")}function U(){s.on("keydown",function(at){if(!Z(at)&&at.keyCode===u){if(I.isCollapsed()&&I.getRng(true).startOffset===0){var ar=I.getNode().previousSibling;if(ar&&ar.nodeName&&ar.nodeName.toLowerCase()==="table"){at.preventDefault();return false}}}})}function ah(){if(K()>7){return}aa("RespectVisibilityInDesign",true);s.contentStyles.push(".mceHideBrInPre pre br {display: none}");t.addClass(s.getBody(),"mceHideBrInPre");V.addNodeFilter("pre",function(ar){var au=ar.length,aw,at,ax,av;while(au--){aw=ar[au].getAll("br");at=aw.length;while(at--){ax=aw[at];av=ax.prev;if(av&&av.type===3&&av.value.charAt(av.value-1)!="\n"){av.value+="\n"}else{ax.parent.insert(new n("#text",3),ax,true).value="\n"}}}});M.addNodeFilter("pre",function(ar){var au=ar.length,aw,at,ax,av;while(au--){aw=ar[au].getAll("br");at=aw.length;while(at--){ax=aw[at];av=ax.prev;if(av&&av.type==3){av.value=av.value.replace(/\r?\n$/,"")}}}})}function y(){t.bind(s.getBody(),"mouseup",function(){var at,ar=I.getNode();if(ar.nodeName=="IMG"){if((at=t.getStyle(ar,"width"))){t.setAttrib(ar,"width",at.replace(/[^0-9%]+/g,""));t.setStyle(ar,"width","")}if((at=t.getStyle(ar,"height"))){t.setAttrib(ar,"height",at.replace(/[^0-9%]+/g,""));t.setStyle(ar,"height","")}}})}function am(){s.on("keydown",function(aw){var au,at,ax,ar,av;if(Z(aw)||aw.keyCode!=r.BACKSPACE){return}au=I.getRng();at=au.startContainer;ax=au.startOffset;ar=t.getRoot();av=at;if(!au.collapsed||ax!==0){return}while(av&&av.parentNode&&av.parentNode.firstChild==av&&av.parentNode!=ar){av=av.parentNode}if(av.tagName==="BLOCKQUOTE"){s.formatter.toggle("blockquote",null,av);au=t.createRng();au.setStart(at,0);au.setEnd(at,0);I.setRng(au)}})}function al(){function ar(){s._refreshContentEditable();aa("StyleWithCSS",false);aa("enableInlineTableEditing",false);if(!an.object_resizing){aa("enableObjectResizing",false)}}if(!an.readonly){s.on("BeforeExecCommand MouseDown",ar)}}function T(){function ar(){aj(t.select("a"),function(av){var at=av.parentNode,au=t.getRoot();if(at.lastChild===av){while(at&&!t.isBlock(at)){if(at.parentNode.lastChild!==at||at===au){return}at=at.parentNode}t.add(at,"br",{"data-mce-bogus":1})}})}s.on("SetContent ExecCommand",function(at){if(at.type=="setcontent"||at.command==="mceInsertLink"){ar()}})}function J(){if(an.forced_root_block){s.on("init",function(){aa("DefaultParagraphSeparator",an.forced_root_block)})}}function A(){s.on("keydown",function(at){var ar;if(!Z(at)&&at.keyCode==u){ar=s.getDoc().selection.createRange();if(ar&&ar.item){at.preventDefault();s.undoManager.beforeChange();t.remove(ar.item(0));s.undoManager.add()}}})}function S(){var ar;if(K()>=10){ar="";aj("p div h1 h2 h3 h4 h5 h6".split(" "),function(at,au){ar+=(au>0?",":"")+at+":empty"});s.contentStyles.push(ar+"{padding-right: 1px !important}")}}function ai(){if(K()<9){V.addNodeFilter("noscript",function(ar){var at=ar.length,au,av;while(at--){au=ar[at];av=au.firstChild;if(av){au.attr("data-mce-innertext",av.value)}}});M.addNodeFilter("noscript",function(ar){var at=ar.length,au,aw,av;while(at--){au=ar[at];aw=ar[at].firstChild;if(aw){aw.value=j.decode(aw.value)}else{av=au.attributes.map["data-mce-innertext"];if(av){au.attr("data-mce-innertext",null);aw=new n("#text",3);aw.value=av;aw.raw=true;au.append(aw)}}}})}}function O(){var ay=t.doc,at=ay.body,av,aw,az;function ax(aA,aD){var aB=at.createTextRange();try{aB.moveToPoint(aA,aD)}catch(aC){aB=null}return aB}function au(aB){var aA;if(aB.button){aA=ax(aB.x,aB.y);if(aA){if(aA.compareEndPoints("StartToStart",aw)>0){aA.setEndPoint("StartToStart",aw)}else{aA.setEndPoint("EndToEnd",aw)}aA.select()}}else{ar()}}function ar(){var aA=ay.selection.createRange();if(aw&&!aA.item&&aA.compareEndPoints("StartToEnd",aA)===0){aw.select()}t.unbind(ay,"mouseup",ar);t.unbind(ay,"mousemove",au);aw=av=0}ay.documentElement.unselectable=true;t.bind(ay,"mousedown contextmenu",function(aA){if(aA.target.nodeName==="HTML"){if(av){ar()}az=ay.documentElement;if(az.scrollHeight>az.clientHeight){return}av=1;aw=ax(aA.x,aA.y);if(aw){t.bind(ay,"mouseup",ar);t.bind(ay,"mousemove",au);t.getRoot().focus();aw.select()}}})}function af(){s.on("keyup focusin mouseup",function(ar){if(ar.keyCode!=65||!r.metaKeyPressed(ar)){I.normalize()}},true)}function C(){s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function D(){if(!s.inline){s.on("keydown",function(){if(document.activeElement==document.body){s.getWin().focus()}})}}function H(){if(!s.inline){s.contentStyles.push("body {min-height: 150px}");s.on("click",function(at){var ar;if(at.target.nodeName=="HTML"){if(o.ie>11){s.getBody().focus();return}ar=s.selection.getRng();s.getBody().focus();s.selection.setRng(ar);s.selection.normalize();s.nodeChanged()}})}}function F(){if(o.mac){s.on("keydown",function(ar){if(r.metaKeyPressed(ar)&&!ar.shiftKey&&(ar.keyCode==37||ar.keyCode==39)){ar.preventDefault();s.selection.getSel().modify("move",ar.keyCode==37?"backward":"forward","lineboundary")}})}}function ac(){aa("AutoUrlDetect",false)}function B(){s.on("click",function(ar){var at=ar.target;do{if(at.tagName==="A"){ar.preventDefault();return}}while((at=at.parentNode))});s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function N(){s.on("init",function(){s.dom.bind(s.getBody(),"submit",function(ar){ar.preventDefault()})})}function ae(){V.addNodeFilter("br",function(ar){var at=ar.length;while(at--){if(ar[at].attr("class")=="Apple-interchange-newline"){ar[at].remove()}}})}function x(){s.on("dragstart",function(ar){Q(ar)});s.on("drop",function(at){if(!Z(at)){var au=L(at);if(au&&au.id!=s.id){at.preventDefault();var ar=m.getCaretRangeFromPoint(at.x,at.y,s.getDoc());I.setRng(ar);R(au.html)}}})}am();P();af();if(ag){ap();aq();z();J();N();U();ae();if(o.iOS){D();H();B()}else{ao()}}if(E&&o.ie<11){ad();X();ah();y();A();S();ai();O()}if(o.ie>=11){H();U()}if(o.ie){ao();ac();x()}if(w){ad();Y();ak();al();T();C();F();U()}}});h("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(i,n,k){var l=n.DOM,j;function o(r,q){if(q=="selectionchange"){return r.getDoc()}if(!r.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(q)){return r.getDoc().documentElement}if(r.settings.event_root){if(!r.eventRoot){r.eventRoot=l.select(r.settings.event_root)[0]}return r.eventRoot}return r.getBody()}function m(s,q){var u=o(s,q),r;function t(v){return !v.hidden&&!v.readonly}if(!s.delegates){s.delegates={}}if(s.delegates[q]){return}if(s.settings.event_root){if(!j){j={};s.editorManager.on("removeEditor",function(){var v;if(!s.editorManager.activeEditor){if(j){for(v in j){s.dom.unbind(o(s,v))}j=null}}})}if(j[q]){return}r=function(z){var y=z.target,x=s.editorManager.editors,w=x.length;while(w--){var v=x[w].getBody();if(v===y||l.isChildOf(y,v)){if(t(x[w])){x[w].fire(q,z)}}}};j[q]=r;l.bind(u,q,r)}else{r=function(v){if(t(s)){s.fire(q,v)}};l.bind(u,q,r);s.delegates[q]=r}}var p={bindPendingEventDelegates:function(){var q=this;k.each(q._pendingNativeEvents,function(r){m(q,r)})},toggleNativeEvent:function(r,s){var q=this;if(r=="focus"||r=="blur"){return}if(s){if(q.initialized){m(q,r)}else{if(!q._pendingNativeEvents){q._pendingNativeEvents=[r]}else{q._pendingNativeEvents.push(r)}}}else{if(q.initialized){q.dom.unbind(o(q,r),r,q.delegates[r]);delete q.delegates[r]}}},unbindAllNativeEvents:function(){var q=this,r;if(q.delegates){for(r in q.delegates){q.dom.unbind(o(q,r),r,q.delegates[r])}delete q.delegates}if(!q.inline){q.getBody().onload=null;q.dom.unbind(q.getWin());q.dom.unbind(q.getDoc())}q.dom.unbind(q.getBody());q.dom.unbind(q.getContainer())}};p=k.extend({},i,p);return p});h("tinymce/Mode",[],function(){function j(l,n,m){try{l.getDoc().execCommand(n,false,m)}catch(k){}}function i(k,m){var l=k.readonly?"readonly":"design";if(m==l){return}if(m=="readonly"){k.selection.controlSelection.hideResizeRect();k.readonly=true;k.getBody().contentEditable=false}else{k.readonly=false;k.getBody().contentEditable=true;j(k,"StyleWithCSS",false);j(k,"enableInlineTableEditing",false);j(k,"enableObjectResizing",false);k.focus();k.nodeChanged()}k.fire("SwitchMode",{mode:m})}return{setMode:i}});h("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(k,j){var n=k.each,m=k.explode;var i={f9:120,f10:121,f11:122};var l=k.makeMap("alt,ctrl,shift,meta,access");return function(r){var q=this,o={};function p(w,x,v,u){var y,t,s;s={func:v,scope:u||r,desc:r.translate(x)};n(m(w,"+"),function(z){if(z in l){s[z]=true}else{if(/^[0-9]{2,}$/.test(z)){s.keyCode=parseInt(z,10)}else{s.charCode=z.charCodeAt(0);s.keyCode=i[z]||z.toUpperCase().charCodeAt(0)}}});y=[s.keyCode];for(t in l){if(s[t]){y.push(t)}else{s[t]=false}}s.id=y.join(",");if(s.access){s.alt=true;if(j.mac){s.ctrl=true}else{s.shift=true}}if(s.meta){if(j.mac){s.meta=true}else{s.ctrl=true;s.meta=false}}return s}r.on("keyup keypress keydown",function(s){if((s.altKey||s.ctrlKey||s.metaKey)&&!s.isDefaultPrevented()){n(o,function(t){if(t.ctrl!=s.ctrlKey||t.meta!=s.metaKey){return}if(t.alt!=s.altKey||t.shift!=s.shiftKey){return}if(s.keyCode==t.keyCode||(s.charCode&&s.charCode==t.charCode)){s.preventDefault();if(s.type=="keydown"){t.func.call(t.scope)}return true}})}});q.add=function(v,w,t,s){var u;u=t;if(typeof t==="string"){t=function(){r.execCommand(u,false,null)}}else{if(k.isArray(u)){t=function(){r.execCommand(u[0],u[1],u[2])}}}n(m(v.toLowerCase()),function(y){var x=p(y,w,t,s);o[x.id]=x});return true};q.remove=function(t){var s=p(t);if(o[s.id]){delete o[s.id];return true}return false}}});h("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(j,i,k){return function(n){var m={};function p(x){var z,y;y={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};z=y[x.blob().type.toLowerCase()]||"dat";return x.id()+"."+z}function s(y,x){if(y){return y.replace(/\/$/,"")+"/"+x.replace(/^\//,"")}return x}function q(x){return{id:x.id,blob:x.blob,base64:x.base64,filename:k.constant(p(x))}}function o(z,D,y,x){var C,B,A;C=new XMLHttpRequest();C.open("POST",n.url);C.withCredentials=n.credentials;A=x();C.upload.onprogress=function(F){var E=Math.round(F.loaded/F.total*100);A.progressBar.value(E)};C.onload=function(){var E;A.close();if(C.status!=200){y("HTTP Error: "+C.status);return}E=JSON.parse(C.responseText);if(!E||typeof E.location!="string"){y("Invalid JSON: "+C.responseText);return}D(s(n.basePath,E.location))};B=new FormData();B.append("file",z.blob(),p(z));C.send(B)}function v(){return new j(function(x){x([])})}function l(x){return x.then(function(y){return y})["catch"](function(y){return y})}function r(z,B,y){var x=z(y);var A=l(x);delete m[B];m[B]=A;return A}function u(y,x){return i.map(y,function(z){var A=z.id();return m[A]?m[A]:r(x,A,z)})}function t(A,y){function x(B){return new j(function(D){var C=n.handler;C(q(B),function(E){D({url:E,blobInfo:B,status:true})},function(E){D({url:"",blobInfo:B,status:false,error:E})},y)})}var z=u(A,x);return j.all(z)}function w(y,x){return(!n.url&&n.handler===o)?v():t(y,x)}n=i.extend({credentials:false,handler:o},n);return{upload:w}}});h("tinymce/file/Conversions",["tinymce/util/Promise"],function(k){function n(o){return new k(function(p){var q=new XMLHttpRequest();q.open("GET",o,true);q.responseType="blob";q.onload=function(){if(this.status==200){p(this.response)}};q.send()})}function m(p){var o,q;p=decodeURIComponent(p).split(",");q=/data:([^;]+)/.exec(p[0]);if(q){o=q[1]}return{type:o,data:p[1]}}function j(o){return new k(function(r){var t,p,q;o=m(o);try{t=atob(o.data)}catch(s){r(new Blob([]));return}p=new Uint8Array(t.length);for(q=0;q<p.length;q++){p[q]=t.charCodeAt(q)}r(new Blob([p],{type:o.type}))})}function l(o){if(o.indexOf("blob:")===0){return n(o)}if(o.indexOf("data:")===0){return j(o)}return null}function i(o){return new k(function(q){var p=new FileReader();p.onloadend=function(){q(p.result)};p.readAsDataURL(o)})}return{uriToBlob:l,blobToDataUri:i,parseDataUri:m}});h("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(m,l,n,k,i){var j=0;return function(q){var o={};function p(v,s){var r,u;function t(x,z){var w,y;if(x.src.indexOf("blob:")===0){y=q.getByUri(x.src);if(y){z({image:x,blobInfo:y})}return}w=k.parseDataUri(x.src).data;y=q.findFirst(function(A){return A.base64()===w});if(y){z({image:x,blobInfo:y})}else{k.uriToBlob(x.src).then(function(A){var B="blobid"+(j++),C=q.create(B,A,w);q.add(C);z({image:x,blobInfo:C})})}}if(!s){s=n.constant(true)}r=l.filter(v.getElementsByTagName("img"),function(w){var x=w.src;if(!i.fileApi){return false}if(w.hasAttribute("data-mce-bogus")){return false}if(w.hasAttribute("data-mce-placeholder")){return false}if(!x||x==i.transparentSrc){return false}if(x.indexOf("blob:")===0){return true}if(x.indexOf("data:")===0){return s(w)}return false});u=l.map(r,function(w){var x;if(o[w.src]){return new m(function(y){o[w.src].then(function(z){y({image:w,blobInfo:z.blobInfo})})})}x=new m(function(y){t(w,y)}).then(function(y){delete o[y.image.src];return y})["catch"](function(y){delete o[w.src];return y});o[w.src]=x;return x});return m.all(u)}return{findAll:p}}});h("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(i,j){return function(){var l=[],p=j.constant;function o(u,t,s){return{id:p(u),blob:p(t),base64:p(s),blobUri:p(URL.createObjectURL(t))}}function q(s){if(!m(s.id())){l.push(s)}}function m(s){return r(function(t){return t.id()===s})}function r(s){return i.filter(l,s)[0]}function k(s){return r(function(t){return t.blobUri()==s})}function n(){i.each(l,function(s){URL.revokeObjectURL(s.blobUri())});l=[]}return{create:o,add:q,get:m,getByUri:k,findFirst:r,destroy:n}}});h("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(j,l,i,k){return function(w){var o=new k(),u,A,r=w.settings;function n(B){return function(C){if(w.selection){return B(C)}return[]}}function x(E,D,C){var B=0;do{B=E.indexOf(D,B);if(B!==-1){E=E.substring(0,B)+C+E.substr(B+D.length);B+=C.length-D.length+1}}while(B!==-1);return E}function p(C,D,B){C=x(C,'src="'+D+'"','src="'+B+'"');C=x(C,'data-mce-src="'+D+'"','data-mce-src="'+B+'"');return C}function m(C,B){j.each(w.undoManager.data,function(D){D.content=p(D.content,C,B)})}function z(){return w.notificationManager.open({text:w.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}function t(B){if(!u){u=new l({url:r.images_upload_url,basePath:r.images_upload_base_path,credentials:r.images_upload_credentials,handler:r.images_upload_handler})}return s().then(n(function(D){var C;C=j.map(D,function(E){return E.blobInfo});return u.upload(C,z).then(n(function(E){E=j.map(E,function(H,F){var G=D[F].image;m(G.src,H.url);w.$(G).attr({src:H.url,"data-mce-src":w.convertURL(H.url,"src")});return{element:G,status:H.status}});if(B){B(E)}return E}))}))}function v(B){if(r.automatic_uploads!==false){return t(B)}}function s(){if(!A){A=new i(o)}return A.findAll(w.getBody(),r.images_dataimg_filter).then(n(function(B){j.each(B,function(C){m(C.image.src,C.blobInfo.blobUri());C.image.src=C.blobInfo.blobUri()});return B}))}function y(){o.destroy();A=u=null}function q(B){return B.replace(/src="(blob:[^"]+)"/g,function(C,E){var D=o.getByUri(E);if(!D){D=j.reduce(w.editorManager.editors,function(F,G){return F||G.editorUpload.blobCache.getByUri(E)},null)}if(D){return'src="data:'+D.blob().type+";base64,"+D.base64()+'"'}return C})}w.on("setContent",function(){if(w.settings.automatic_uploads!==false){v()}else{s()}});w.on("RawSaveContent",function(B){B.content=q(B.content)});w.on("getContent",function(B){if(B.source_view||B.format=="raw"){return}B.content=q(B.content)});return{blobCache:o,uploadImages:t,uploadImagesAuto:v,scanForImages:s,destroy:y}}});h("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(m,p,q,i,t,G){var u=q.isContentEditableTrue,E=q.isContentEditableFalse,y=q.matchStyleValues("display","block table table-cell table-caption"),n=t.isCaretContainer,H=m.curry,C=q.isElement,z=G.isCaretCandidate;function j(K){return K>0}function D(K){return K<0}function r(L,N,P,K,M){var O=new p(L,K);if(D(N)){if(E(L)){L=O.prev(true);if(P(L)){return L}}while((L=O.prev(M))){if(P(L)){return L}}}if(j(N)){if(E(L)){L=O.next(true);if(P(L)){return L}}while((L=O.next(M))){if(P(L)){return L}}}return null}function x(L,K){for(L=L.parentNode;L&&L!=K;L=L.parentNode){if(u(L)){return L}}return K}function s(L,K){while(L&&L!=K){if(y(L)){return L}L=L.parentNode}return null}function v(K,M,L){return s(K.container(),L)==s(M.container(),L)}function J(K,M,L){return x(K.container(),L)==x(M.container(),L)}function l(L,M){var K,N;if(!M){return null}K=M.container();N=M.offset();if(!C(K)){return null}return K.childNodes[N+L]}function B(M,L){var K=L.ownerDocument.createRange();if(M){K.setStartBefore(L);K.setEndBefore(L)}else{K.setStartAfter(L);K.setEndAfter(L)}return K}function I(M,L,K){return s(L,M)==s(K,M)}function A(O,L,N){var M,K;if(O){K="previousSibling"}else{K="nextSibling"}while(N&&N!=L){M=N[K];if(n(M)){M=M[K]}if(E(M)){if(I(L,M,N)){return M}break}if(z(M)){break}N=N.parentNode}return null}var w=H(B,true);var k=H(B,false);function o(R,M,P){var N,K,O,S;var L=H(A,true,M);var Q=H(A,false,M);K=P.startContainer;O=P.startOffset;if(t.isCaretContainerBlock(K)){if(!C(K)){K=K.parentNode}S=K.getAttribute("data-mce-caret");if(S=="before"){N=K.nextSibling;if(E(N)){return w(N)}}if(S=="after"){N=K.previousSibling;if(E(N)){return k(N)}}}if(!P.collapsed){return P}if(q.isText(K)){if(n(K)){if(R===1){N=Q(K);if(N){return w(N)}N=L(K);if(N){return k(N)}}if(R===-1){N=L(K);if(N){return k(N)}N=Q(K);if(N){return w(N)}}return P}if(t.endsWithCaretContainer(K)&&O>=K.data.length-1){if(R===1){N=Q(K);if(N){return w(N)}}return P}if(t.startsWithCaretContainer(K)&&O<=1){if(R===-1){N=L(K);if(N){return k(N)}}return P}if(O===K.data.length){N=Q(K);if(N){return w(N)}return P}if(O===0){N=L(K);if(N){return k(N)}return P}}return P}function F(K,L){return E(l(K,L))}return{isForwards:j,isBackwards:D,findNode:r,getEditingHost:x,getParentBlock:s,isInSameBlock:v,isInSameEditingHost:J,isBeforeContentEditableFalse:H(F,0),isAfterContentEditableFalse:H(F,-1),normalizeRange:o}});h("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(l,y,i,z,m,k){var x=l.isContentEditableFalse,p=l.isText,t=l.isElement,j=z.isForwards,v=z.isBackwards,q=y.isCaretCandidate,n=y.isAtomic,u=y.isEditableCaretCandidate;function o(C,A){var B=[];while(C&&C!=A){B.push(C);C=C.parentNode}return B}function w(A,B){if(A.hasChildNodes()&&B<A.childNodes.length){return A.childNodes[B]}return null}function r(B,A){if(j(B)){if(q(A.previousSibling)&&!p(A.previousSibling)){return i.before(A)}if(p(A)){return i(A,0)}}if(v(B)){if(q(A.nextSibling)&&!p(A.nextSibling)){return i.after(A)}if(p(A)){return i(A,A.data.length)}}if(v(B)){return i.after(A)}return i.before(A)}function s(I,H,B){var A,E,C,D,J,F,G;if(!t(B)||!H){return null}G=H;A=G.container();E=G.offset();if(p(A)){if(v(I)&&E>0){return i(A,--E)}if(j(I)&&E<A.length){return i(A,++E)}C=A}else{if(v(I)&&E>0){D=w(A,E-1);if(q(D)){if(!n(D)){J=z.findNode(D,I,u,D);if(J){if(p(J)){return i(J,J.data.length)}return i.after(J)}}if(p(D)){return i(D,D.data.length)}return i.before(D)}}if(j(I)&&E<A.childNodes.length){D=w(A,E);if(q(D)){if(!n(D)){J=z.findNode(D,I,u,D);if(J){if(p(J)){return i(J,0)}return i.before(J)}}if(p(D)){return i(D,0)}return i.after(D)}}C=G.getNode()}if((j(I)&&G.isAtEnd())||(v(I)&&G.isAtStart())){C=z.findNode(C,I,k.constant(true),B,true);if(u(C)){return r(I,C)}}D=z.findNode(C,I,u,B);F=m.last(m.filter(o(A,B),x));if(F&&(!D||!F.contains(D))){if(j(I)){G=i.after(F)}else{G=i.before(F)}return G}if(D){return r(I,D)}return null}return function(A){return{next:function(B){return s(1,B,A)},prev:function(B){return s(-1,B,A)}}}});h("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(m,i,j,l,n,k,p){var o=j.isContentEditableFalse;return function(t,u){var y,q,v;function r(E,G){var I=k.collapse(E.getBoundingClientRect(),G),D,J,H,F,C;if(t.tagName=="BODY"){D=t.ownerDocument.documentElement;J=t.scrollLeft||D.scrollLeft;H=t.scrollTop||D.scrollTop}else{C=t.getBoundingClientRect();J=t.scrollLeft-C.left;H=t.scrollTop-C.top}I.left+=J;I.right+=J;I.top+=H;I.bottom+=H;I.width=1;F=E.offsetWidth-E.clientWidth;if(F>0){if(G){F*=-1}I.left+=F;I.right+=F}return I}function A(){var C,F,E,D,G;C=n("*[contentEditable=false]",t);for(D=0;D<C.length;D++){F=C[D];E=F.previousSibling;if(m.endsWithCaretContainer(E)){G=E.data;if(G.length==1){E.parentNode.removeChild(E)}else{E.deleteData(G.length-1,1)}}E=F.nextSibling;if(m.startsWithCaretContainer(E)){G=E.data;if(G.length==1){E.parentNode.removeChild(E)}else{E.deleteData(0,1)}}}return null}function B(F,E){var G,D,C;x();if(u(E)){v=m.insertBlock("p",E,F);G=r(E,F);n(v).css("top",G.top);q=n('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(G).appendTo(t);if(F){q.addClass("mce-visual-caret-before")}w();D=E.ownerDocument.createRange();C=v.firstChild;D.setStart(C,0);D.setEnd(C,1)}else{v=m.insertInline(E,F);D=E.ownerDocument.createRange();if(o(v.nextSibling)){D.setStart(v,0);D.setEnd(v,0)}else{D.setStart(v,1);D.setEnd(v,1)}return D}return D}function x(){A();if(v){m.remove(v);v=null}if(q){q.remove();q=null}clearInterval(y)}function w(){y=p.setInterval(function(){n("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function z(){p.clearInterval(y)}function s(){return(".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}")}return{show:B,hide:x,getCss:s,destroy:z}}});h("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(k,i,j){function l(o){function n(p){return k.map(p,function(q){q=j.clone(q);q.node=o;return q})}if(k.isArray(o)){return k.reduce(o,function(p,q){return p.concat(l(q))},[])}if(i.isElement(o)){return n(o.getClientRects())}if(i.isText(o)){var m=o.ownerDocument.createRange();m.setStart(o,0);m.setEnd(o,o.data.length);return n(m.getClientRects())}}return{getClientRects:l}});h("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(u,o,w,l,i,v,m,x){var t=u.curry;function q(A,y,B,z){while((z=i.findNode(z,A,l.isEditableCaretCandidate,y))){if(B(z)){return}}}function k(F,B,C,y,D,E){var I=0,z,H=[],A;function G(L){var J,M,K;K=w.getClientRects(L);if(F==-1){K=K.reverse()}for(J=0;J<K.length;J++){M=K[J];if(C(M,A)){continue}if(H.length>0&&B(M,o.last(H))){I++}M.line=I;if(D(M)){return true}H.push(M)}}A=o.last(E.getClientRects());if(!A){return H}z=E.getNode();G(z);q(F,y,G,z);return H}function s(y,z){return z.line>y}function p(y,z){return z.line===y}var r=t(k,-1,x.isAbove,x.isBelow);var n=t(k,1,x.isBelow,x.isAbove);function j(H,z,F,A){var B=new v(z),L,I,D,G,K=[],J=0,y,C;function E(M){if(H==1){return o.last(M.getClientRects())}return o.last(M.getClientRects())}if(H==1){L=B.next;I=x.isBelow;D=x.isAbove;G=m.after(A)}else{L=B.prev;I=x.isAbove;D=x.isBelow;G=m.before(A)}C=E(G);do{if(!G.isVisible()){continue}y=E(G);if(D(y,C)){continue}if(K.length>0&&I(y,o.last(K))){J++}y=x.clone(y);y.position=G;y.line=J;if(F(y)){return K}K.push(y)}while((G=L(G)));return K}return{upUntil:r,downUntil:n,positionsUntil:j,isAboveLine:t(s),isLine:t(p)}});h("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(m,q,n,t,l,z,w){var s=n.isContentEditableFalse,p=z.findNode,x=m.curry;function r(B,A){return Math.abs(B.left-A)}function k(B,A){return Math.abs(B.right-A)}function j(B,A){function C(D,E){return D>=E.left&&D<=E.right}return q.reduce(B,function(D,G){var F,E;F=Math.min(r(D,A),k(D,A));E=Math.min(r(G,A),k(G,A));if(C(A,G)){return G}if(C(A,D)){return D}if(E==F&&s(G.node)){return G}if(E<F){return G}return D})}function v(C,A,D,B){while((B=p(B,C,w.isEditableCaretCandidate,A))){if(D(B)){return}}}function y(A,D){var B=[];function C(E,F){var G;G=q.filter(t.getClientRects(F),function(H){return !E(H,D)});B=B.concat(G);return G.length===0}B.push(D);v(-1,A,x(C,l.isAbove),D.node);v(1,A,x(C,l.isBelow),D.node);return B}function o(A){return q.filter(q.toArray(A.getElementsByTagName("*")),s)}function u(B,A){return{node:B.node,before:r(B,A)<k(B,A)}}function i(B,D,C){var E,A;E=t.getClientRects(o(B));E=q.filter(E,function(F){return C>=F.top&&C<=F.bottom});A=j(E,D);if(A){A=j(y(B,A),D);if(A&&s(A.node)){return u(A,D)}}return null}return{findClosestClientRect:j,findLineNodeRects:y,closestCaret:i}});h("tinymce/DragDropOverrides",["tinymce/dom/NodeType"],function(i){var j=i.isContentEditableFalse;function k(u){var t=u.$,l=document,m=u.getDoc(),s=u.dom,o={};function n(y){return j(y)}function w(y){t(u.getBody()).css("cursor",y)}function v(y){if(y==o.element||u.dom.isChildOf(y,o.element)){return false}if(j(y)){return false}return true}function r(G){var D,C,H,I,F=0,E=0,A,z,y,B;if(G.button!==0){return}D=G.screenX-o.screenX;C=G.screenY-o.screenY;A=Math.max(Math.abs(D),Math.abs(C));if(!o.dragging&&A>10){o.dragging=true;w("default");o.clone=o.element.cloneNode(true);H=s.getPos(o.element);o.relX=o.clientX-H.x;o.relY=o.clientY-H.y;o.width=o.element.offsetWidth;o.height=o.element.offsetHeight;t(o.clone).css({width:o.width,height:o.height}).removeAttr("data-mce-selected");o.ghost=t("<div>").css({position:"absolute",opacity:0.5,overflow:"hidden",width:o.width,height:o.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(o.clone).appendTo(u.getBody())[0];I=u.dom.getViewPort(u.getWin());o.maxX=I.w;o.maxY=I.h}if(o.dragging){u.selection.placeCaretAt(G.clientX,G.clientY);z=o.clientX+D-o.relX;y=o.clientY+C+5;if(z+o.width>o.maxX){F=(z+o.width)-o.maxX}if(y+o.height>o.maxY){E=(y+o.height)-o.maxY}if(u.getBody().nodeName!="BODY"){B=u.getBody().getBoundingClientRect()}else{B={left:0,top:0}}t(o.ghost).css({left:z-B.left,top:y-B.top,width:o.width-F,height:o.height-E})}}function q(){if(o.dragging){u.selection.setRng(u.selection.getSel().getRangeAt(0));if(v(u.selection.getNode())){u.undoManager.transact(function(){u.insertContent(s.getOuterHTML(o.element));t(o.element).remove()})}}x()}function p(y){x();if(n(y.target)){if(u.fire("dragstart",{target:y.target}).isDefaultPrevented()){return}u.on("mousemove",r);u.on("mouseup",q);if(l!=m){s.bind(l,"mousemove",r);s.bind(l,"mouseup",q)}o={screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY,element:y.target}}}function x(){t(o.ghost).remove();w(null);u.off("mousemove",r);u.off("mouseup",x);if(l!=m){s.unbind(l,"mousemove",r);s.unbind(l,"mouseup",x)}o={}}u.on("mousedown",p);u.on("drop",function(z){var y=u.getDoc().elementFromPoint(z.clientX,z.clientY);if(j(y)||j(u.dom.getContentEditableParent(y))){z.preventDefault()}})}return{init:k}});h("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(k,D,j,s,C,B,x,r,o,E,y,n,q,m,l){var A=n.curry,u=o.isContentEditableTrue,w=o.isContentEditableFalse,v=o.isElement,t=C.isAfterContentEditableFalse,i=C.isBeforeContentEditableFalse,p=E.getSelectedNode;function F(G,H){while((H=G(H))){if(H.isVisible()){return H}}return H}function z(G){var P=G.getBody(),T=new D(P);var Y=A(F,T.next);var ae=A(F,T.prev),ac=new B(G.getBody(),ad),J="sel-"+G.dom.uniqueId(),X,af=G.$;function ad(aq){return G.dom.isBlock(aq)}function K(aq){if(aq){G.selection.setRng(aq)}}function M(){return G.selection.getRng()}function H(ar,aq){G.selection.scrollIntoView(ar,aq)}function an(au,aq,ar){var at;at=G.fire("ShowCaret",{target:aq,direction:au,before:ar});if(at.isDefaultPrevented()){return null}H(aq,au===-1);return ac.show(ar,aq)}function Z(aq){var ar;ar=G.fire("ObjectSelected",{target:aq});if(ar.isDefaultPrevented()){return null}ac.hide();return ao(aq)}function ao(ar){var aq=ar.ownerDocument.createRange();aq.selectNode(ar);return aq}function N(at,aq){var ar=C.isInSameBlock(at,aq);if(!ar&&o.isBr(at.getNode())){return true}return ar}function ap(ar,aq){aq=C.normalizeRange(ar,P,aq);if(ar==-1){return j.fromRangeStart(aq)}return j.fromRangeEnd(aq)}function am(aq){return s.isCaretContainerBlock(aq.startContainer)}function O(ay,aq,at,ar){var aw,ax,av,au;if(!ar.collapsed){aw=p(ar);if(w(aw)){return an(ay,aw,ay==-1)}}au=am(ar);ax=ap(ay,ar);if(at(ax)){return Z(ax.getNode(ay==-1))}ax=aq(ax);if(!ax){if(au){return ar}return null}if(at(ax)){return an(ay,ax.getNode(ay==-1),ay==1)}av=aq(ax);if(at(av)){if(N(ax,av)){return an(ay,av.getNode(ay==-1),ay==1)}}if(au){return U(ax.toRange())}return null}function I(aB,aw,ax){var az,aD,ay,aC,aA,ar,av,au,at;at=p(ax);az=ap(aB,ax);aD=aw(P,x.isAboveLine(1),az);ay=q.filter(aD,x.isLine(1));aA=q.last(az.getClientRects());if(i(az)){at=az.getNode()}if(t(az)){at=az.getNode(true)}if(!aA){return null}ar=aA.left;aC=r.findClosestClientRect(ay,ar);if(aC){if(w(aC.node)){av=Math.abs(ar-aC.left);au=Math.abs(ar-aC.right);return an(aB,aC.node,av<au)}}if(at){var aq=x.positionsUntil(aB,P,x.isAboveLine(1),at);aC=r.findClosestClientRect(q.filter(aq,x.isLine(1)),ar);if(aC){return U(aC.position.toRange())}aC=q.last(q.filter(aq,x.isLine(0)));if(aC){return U(aC.position.toRange())}}}function ag(av,aq){var au,ar,aw;function at(){var ax=G.dom.create(G.settings.forced_root_block);if(!k.ie||k.ie>=11){ax.innerHTML='<br data-mce-bogus="1">'}return ax}if(aq.collapsed&&G.settings.forced_root_block){au=G.dom.getParent(aq.startContainer,"PRE");if(!au){return}if(av==1){ar=Y(j.fromRangeStart(aq))}else{ar=ae(j.fromRangeStart(aq))}if(!ar){aw=at();if(av==1){G.$(au).after(aw)}else{G.$(au).before(aw)}G.selection.select(aw,true);G.selection.collapse()}}}function W(av,aq,at,ar){var au;au=O(av,aq,at,ar);if(au){return au}au=ag(av,ar);if(au){return au}return null}function Q(au,at,aq){var ar;ar=I(au,at,aq);if(ar){return ar}ar=ag(au,aq);if(ar){return ar}return null}function V(){return af("*[data-mce-caret]")[0]}function ab(aq){aq=af(aq);if(aq.attr("data-mce-caret")){ac.hide();aq.removeAttr("data-mce-caret");aq.removeAttr("data-mce-bogus");aq.removeAttr("style");K(M());H(aq[0])}}function R(aq){var ar;aq=C.normalizeRange(1,P,aq);ar=j.fromRangeStart(aq);if(w(ar.getNode())){return an(1,ar.getNode(),!ar.isAtEnd())}if(w(ar.getNode(true))){return an(1,ar.getNode(true),false)}ac.hide();return null}function U(aq){var ar;if(!aq||!aq.collapsed){return aq}ar=R(aq);if(ar){return ar}return aq}function L(au){var ar,aq,av,at;if(!w(au)){return null}if(w(au.previousSibling)){av=au.previousSibling}aq=ae(j.before(au));if(!aq){ar=Y(j.after(au))}if(ar&&v(ar.getNode())){at=ar.getNode()}s.remove(au.previousSibling);s.remove(au.nextSibling);G.dom.remove(au);aa();if(G.dom.isEmpty(G.getBody())){G.setContent("");G.focus();return}if(av){return j.after(av).toRange()}if(at){return j.before(at).toRange()}if(aq){return aq.toRange()}if(ar){return ar.toRange()}return null}function ah(au,av,aq){var ar,at;if(!aq.collapsed){ar=p(aq);if(w(ar)){return U(L(ar))}}at=ap(au,aq);if(av(at)){return U(L(at.getNode(au==-1)))}}function aj(){var az=A(W,1,Y,i);var au=A(W,-1,ae,t);var aq=A(ah,1,i);var aw=A(ah,-1,t);var av=A(Q,-1,x.upUntil);var ay=A(Q,1,x.downUntil);function ar(aD){var aC=aD(M());if(aC){K(aC);return true}return false}function ax(aD){var aC=G.getBody();while(aD&&aD!=aC){if(u(aD)||w(aD)){return aD}aD=aD.parentNode}return null}G.on("mouseup",function(){var aC=M();if(aC.collapsed){K(R(aC))}});G.on("mousedown",function(aD){var aE;aE=ax(aD.target);if(aE){if(w(aE)){aD.preventDefault();ai(Z(aE),false)}else{G.selection.placeCaretAt(aD.clientX,aD.clientY)}}else{aa();ac.hide();var aC=r.closestCaret(P,aD.clientX,aD.clientY);if(aC){aD.preventDefault();G.getBody().focus();K(an(1,aC.node,aC.before))}}});G.on("keydown",function(aD){var aC;if(y.modifierPressed(aD)){return}switch(aD.keyCode){case y.RIGHT:aC=ar(az);break;case y.DOWN:aC=ar(ay);break;case y.LEFT:aC=ar(au);break;case y.UP:aC=ar(av);break;case y.DELETE:aC=ar(aq);break;case y.BACKSPACE:aC=ar(aw);break;default:aC=w(G.selection.getNode());break}if(aC){aD.preventDefault()}});function at(){var aD,aC=ax(G.selection.getNode());if(u(aC)&&ad(aC)&&G.dom.isEmpty(aC)){aD=G.dom.create("br",{"data-mce-bogus":"1"});G.$(aC).empty().append(aD);G.selection.setRng(j.before(aD).toRange())}}function aB(aD){var aC=V();if(!aC){return}if(aD.type=="compositionstart"){aD.preventDefault();aD.stopPropagation();ab(aC);return}if(aC.innerHTML!="&nbsp;"){ab(aC)}}function aA(aD){var aC;switch(aD.keyCode){case y.DELETE:aC=at();break;case y.BACKSPACE:aC=at();break}if(aC){aD.preventDefault()}}G.on("keyup compositionstart",function(aC){aB(aC);aA(aC)},true);G.on("cut",function(){var aC=G.selection.getNode();if(w(aC)){m.setEditorTimeout(G,function(){K(U(L(aC)))})}});G.on("getSelectionRange",function(aD){var aC=aD.range;if(X){if(!X.parentNode){X=null;return}aC=aC.cloneRange();aC.selectNode(X);aD.range=aC}});G.on("setSelectionRange",function(aD){var aC;aC=ai(aD.range);if(aC){aD.range=aC}});G.on("focus",function(){m.setEditorTimeout(G,function(){G.selection.setRng(U(G.selection.getRng()))})});l.init(G)}function S(){var ar=G.contentStyles,aq=".mce-content-body";ar.push(ac.getCss());ar.push(aq+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100pxheight: 100px}"+aq+" *[contentEditable=false] {cursor: default;}"+aq+" *[contentEditable=true] {cursor: text;}")}function ak(aq){return s.isCaretContainer(aq.startContainer)||s.isCaretContainer(aq.endContainer)}function ai(ax,aC){var at,aw=G.$,av=G.dom,ar,aq,au,az,aA,ay,aB;if(!ax){aa();return null}if(ax.collapsed){aa();if(!ak(ax)){aB=ap(1,ax);if(w(aB.getNode())){return an(1,aB.getNode(),!aB.isAtEnd())}if(w(aB.getNode(true))){return an(1,aB.getNode(true),false)}}return null}au=ax.startContainer;az=ax.startOffset;aA=ax.endOffset;if(au.nodeType==3&&az==0&&w(au.parentNode)){au=au.parentNode;az=av.nodeIndex(au);au=au.parentNode}if(au.nodeType!=1){aa();return null}if(aA==az+1){at=au.childNodes[az]}if(w(at)){if(aC!==false){ay=G.fire("ObjectSelected",{target:at});if(ay.isDefaultPrevented()){aa();return null}}ar=aw("#"+J);if(ar.length===0){ar=aw('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",J);ar.appendTo(G.getBody())}ar.empty().append("\u00a0").append(at.cloneNode(true)).append("\u00a0").css({top:av.getPos(at,G.getBody()).y});ax=G.dom.createRng();ax.setStart(ar[0].firstChild,1);ax.setEnd(ar[0].lastChild,0);G.getBody().focus();ar[0].focus();aq=G.selection.getSel();aq.removeAllRanges();aq.addRange(ax);G.$("*[data-mce-selected]").removeAttr("data-mce-selected");at.setAttribute("data-mce-selected",1);X=at;return ax}aa();return null}function aa(){if(X){X.removeAttribute("data-mce-selected");G.$("#"+J).remove();X=null}}function al(){ac.destroy();X=null}if(k.ceFalse){aj();S()}return{showBlockCaretContainer:ab,destroy:al}}return z});h("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides"],function(X,E,G,p,B,O,M,I,C,q,N,K,z,H,v,w,Q,R,r,j,F,S,t,x,m,l,U,k,o){var D=X.DOM,T=G.ThemeManager,W=G.PluginManager;var s=t.extend,P=t.each,u=t.explode;var V=t.inArray,i=t.trim,y=t.resolve;var L=w.Event;var n=S.gecko,J=S.ie;function A(ad,aa,ac){var Z=this,Y,ab;Y=Z.documentBaseUrl=ac.documentBaseURL;ab=ac.baseURI;Z.settings=aa=s({id:ad,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:Y,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:Z.convertURL,url_converter_scope:Z,ie7_compat:true},aa);G.language=aa.language||"en";G.languageLoad=aa.language_load;G.baseURL=ac.baseURL;Z.id=aa.id=ad;Z.setDirty(false);Z.plugins={};Z.documentBaseURI=new H(aa.document_base_url||Y,{base_uri:ab});Z.baseURI=ab;Z.contentCSS=[];Z.contentStyles=[];Z.shortcuts=new U(Z);Z.loadedCSS={};Z.editorCommands=new z(Z);if(aa.target){Z.targetElm=aa.target}Z.suffix=ac.suffix;Z.editorManager=ac;Z.inline=aa.inline;if(aa.cache_suffix){S.cacheSuffix=aa.cache_suffix.replace(/^[\?\&]+/,"")}if(aa.override_viewport===false){S.overrideViewPort=false}ac.fire("SetupEditor",Z);Z.execCallback("setup",Z);Z.$=E.overrideDefaults(function(){return{context:Z.inline?Z.getBody():Z.getDoc(),element:Z.getBody()}})}A.prototype={render:function(){var Y=this,ab=Y.settings,ae=Y.id,ad=Y.suffix;function aa(){D.unbind(window,"ready",aa);Y.render()}if(!L.domLoaded){D.bind(window,"ready",aa);return}if(!Y.getElement()){return}if(!S.contentEditable){return}if(!ab.inline){Y.orgVisibility=Y.getElement().style.visibility;Y.getElement().style.visibility="hidden"}else{Y.inline=true}var ac=Y.getElement().form||D.getParent(ae,"form");if(ac){Y.formElement=ac;if(ab.hidden_input&&!/TEXTAREA|INPUT/i.test(Y.getElement().nodeName)){D.insertAfter(D.create("input",{type:"hidden",name:ae}),ae);Y.hasHiddenInput=true}Y.formEventDelegate=function(af){Y.fire(af.type,af)};D.bind(ac,"submit reset",Y.formEventDelegate);Y.on("reset",function(){Y.setContent(Y.startContent,{format:"raw"})});if(ab.submit_patch&&!ac.submit.nodeType&&!ac.submit.length&&!ac._mceOldSubmit){ac._mceOldSubmit=ac.submit;ac.submit=function(){Y.editorManager.triggerSave();Y.setDirty(false);return ac._mceOldSubmit(ac)}}}Y.windowManager=new Q(Y);Y.notificationManager=new R(Y);if(ab.encoding=="xml"){Y.on("GetContent",function(af){if(af.save){af.content=D.encode(af.content)}})}if(ab.add_form_submit_trigger){Y.on("submit",function(){if(Y.initialized){Y.save()}})}if(ab.add_unload_trigger){Y._beforeUnload=function(){if(Y.initialized&&!Y.destroyed&&!Y.isHidden()){Y.save({format:"raw",no_events:true,set_dirty:false})}};Y.editorManager.on("BeforeUnload",Y._beforeUnload)}function Z(){var ag=v.ScriptLoader;if(ab.language&&ab.language!="en"&&!ab.language_url){ab.language_url=Y.editorManager.baseURL+"/langs/"+ab.language+".js"}if(ab.language_url){ag.add(ab.language_url)}if(ab.theme&&typeof ab.theme!="function"&&ab.theme.charAt(0)!="-"&&!T.urls[ab.theme]){var af=ab.theme_url;if(af){af=Y.documentBaseURI.toAbsolute(af)}else{af="themes/"+ab.theme+"/theme"+ad+".js"}T.load(ab.theme,af)}if(t.isArray(ab.plugins)){ab.plugins=ab.plugins.join(" ")}P(ab.external_plugins,function(ai,ah){W.load(ah,ai);ab.plugins+=" "+ah});P(ab.plugins.split(/[ ,]/),function(ah){ah=i(ah);if(ah&&!W.urls[ah]){if(ah.charAt(0)=="-"){ah=ah.substr(1,ah.length);var ai=W.dependencies(ah);P(ai,function(ak){var aj={prefix:"plugins/",resource:ak,suffix:"/plugin"+ad+".js"};ak=W.createUrl(aj,ak);W.load(ak.resource,ak)})}else{W.load(ah,{prefix:"plugins/",resource:ah,suffix:"/plugin"+ad+".js"})}}});ag.loadQueue(function(){if(!Y.removed){Y.init()}})}Z()},init:function(){var ag=this,ap=ag.settings,ac=ag.getElement();var ae,an,ab,aj,ah,Y,Z,ar,am,ai,al,aa=[];this.editorManager.i18n.setCode(ap.language);ag.rtl=ap.rtl_ui||this.editorManager.i18n.rtl;ag.editorManager.add(ag);ap.aria_label=ap.aria_label||D.getAttrib(ac,"aria-label",ag.getLang("aria.rich_text_area"));if(ap.theme){if(typeof ap.theme!="function"){ap.theme=ap.theme.replace(/-/,"");Y=T.get(ap.theme);ag.theme=new Y(ag,T.urls[ap.theme]);if(ag.theme.init){ag.theme.init(ag,T.urls[ap.theme]||ag.documentBaseUrl.replace(/\/$/,""),ag.$)}}else{ag.theme=ap.theme}}function aq(aw){var av=W.get(aw),au,at;au=W.urls[aw]||ag.documentBaseUrl.replace(/\/$/,"");aw=i(aw);if(av&&V(aa,aw)===-1){P(W.dependencies(aw),function(ax){aq(ax)});if(ag.plugins[aw]){return}at=new av(ag,au,ag.$);ag.plugins[aw]=at;if(at.init){at.init(ag,au);aa.push(aw)}}}P(ap.plugins.replace(/\-/g,"").split(/[ ,]/),aq);if(ap.render_ui&&ag.theme){ag.orgDisplay=ac.style.display;if(typeof ap.theme!="function"){ae=ap.width||ac.style.width||ac.offsetWidth;an=ap.height||ac.style.height||ac.offsetHeight;ab=ap.min_height||100;ai=/^[0-9\.]+(|px)$/i;if(ai.test(""+ae)){ae=Math.max(parseInt(ae,10),100)}if(ai.test(""+an)){an=Math.max(parseInt(an,10),ab)}ah=ag.theme.renderUI({targetNode:ac,width:ae,height:an,deltaWidth:ap.delta_width,deltaHeight:ap.delta_height});if(!ap.content_editable){an=(ah.iframeHeight||an)+(typeof an=="number"?(ah.deltaHeight||0):"");if(an<ab){an=ab}}}else{ah=ap.theme(ag,ac);if(ah.editorContainer.nodeType){ah.editorContainer=ah.editorContainer.id=ah.editorContainer.id||ag.id+"_parent"}if(ah.iframeContainer.nodeType){ah.iframeContainer=ah.iframeContainer.id=ah.iframeContainer.id||ag.id+"_iframecontainer"}an=ah.iframeHeight||ac.offsetHeight}ag.editorContainer=ah.editorContainer}if(ap.content_css){P(u(ap.content_css),function(at){ag.contentCSS.push(ag.documentBaseURI.toAbsolute(at))})}if(ap.content_style){ag.contentStyles.push(ap.content_style)}if(ap.content_editable){ac=aj=ah=null;return ag.initContentBody()}ag.iframeHTML=ap.doctype+"<html><head>";if(ap.document_base_url!=ag.documentBaseUrl){ag.iframeHTML+='<base href="'+ag.documentBaseURI.getURI()+'" />'}if(!S.caretAfter&&ap.ie7_compat){ag.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}ag.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(al=0;al<ag.contentCSS.length;al++){var ak=ag.contentCSS[al];ag.iframeHTML+=('<link type="text/css" rel="stylesheet" href="'+t._addCacheSuffix(ak)+'" />');ag.loadedCSS[ak]=true}ar=ap.body_id||"tinymce";if(ar.indexOf("=")!=-1){ar=ag.getParam("body_id","","hash");ar=ar[ag.id]||ar}am=ap.body_class||"";if(am.indexOf("=")!=-1){am=ag.getParam("body_class","","hash");am=am[ag.id]||""}if(ap.content_security_policy){ag.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+ap.content_security_policy+'" />'}ag.iframeHTML+='</head><body id="'+ar+'" class="mce-content-body '+am+'" data-id="'+ag.id+'"><br></body></html>';var af='javascript:(function(){document.open();try{document.domain="'+document.domain+'"}catch(e) {document.domain="['+document.domain+']"};var ed = window.parent.tinymce.get("'+ag.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname){if(S.ie&&S.ie<12){Z=af}}var ad=D.create("iframe",{id:ag.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:ag.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:an,display:"block"}});ad.onload=function(){ad.onload=null;ag.fire("load")};D.setAttrib(ad,"src",Z||"about:blank");ag.contentAreaContainer=ah.iframeContainer;ag.iframeElement=ad;aj=D.add(ah.iframeContainer,ad);if(J){try{ag.getDoc()}catch(ao){aj.src=Z=af}}if(ah.editorContainer){D.get(ah.editorContainer).style.display=ag.orgDisplay;ag.hidden=D.isHidden(ah.editorContainer)}ag.getElement().style.display="none";D.setAttrib(ag.id,"aria-hidden",true);if(!Z){ag.initContentBody()}ac=aj=ah=null},initContentBody:function(Z){var aa=this,ab=aa.settings,ac=aa.getElement(),ad=aa.getDoc(),Y,ae;if(!ab.inline){aa.getElement().style.visibility=aa.orgVisibility}if(!Z&&!ab.content_editable){ad.open();ad.write(aa.iframeHTML);ad.close()}if(ab.content_editable){aa.on("remove",function(){var af=this.getBody();D.removeClass(af,"mce-content-body");D.removeClass(af,"mce-edit-focus");D.setAttrib(af,"contentEditable",null)});D.addClass(ac,"mce-content-body");aa.contentDocument=ad=ab.content_document||document;aa.contentWindow=ab.content_window||window;aa.bodyElement=ac;ab.content_document=ab.content_window=null;ab.root_name=ac.nodeName.toLowerCase()}Y=aa.getBody();Y.disabled=true;aa.readonly=ab.readonly;if(!aa.readonly){if(aa.inline&&D.getStyle(Y,"position",true)=="static"){Y.style.position="relative"}Y.contentEditable=aa.getParam("content_editable_state",true)}Y.disabled=false;aa.editorUpload=new k(aa);aa.schema=new r(ab);aa.dom=new X(ad,{keep_values:true,url_converter:aa.convertURL,url_converter_scope:aa,hex_colors:ab.force_hex_style_colors,class_filter:ab.class_filter,update_styles:true,root_element:aa.inline?aa.getBody():null,collect:ab.content_editable,schema:aa.schema,onSetAttrib:function(af){aa.fire("SetAttrib",af)}});aa.parser=new j(ab,aa.schema);aa.parser.addAttributeFilter("src,href,style,tabindex",function(af,ag){var ah=af.length,aj,al=aa.dom,ak,ai;while(ah--){aj=af[ah];ak=aj.attr(ag);ai="data-mce-"+ag;if(!aj.attributes.map[ai]){if(ak.indexOf("data:")===0||ak.indexOf("blob:")===0){continue}if(ag==="style"){ak=al.serializeStyle(al.parseStyle(ak),aj.name);if(!ak.length){ak=null}aj.attr(ai,ak);aj.attr(ag,ak)}else{if(ag==="tabindex"){aj.attr(ai,ak);aj.attr(ag,null)}else{aj.attr(ai,aa.convertURL(ak,ag,aj.name))}}}}});aa.parser.addNodeFilter("script",function(af){var ag=af.length,ai,ah;while(ag--){ai=af[ag];ah=ai.attr("type")||"no/type";if(ah.indexOf("mce-")!==0){ai.attr("type","mce-"+ah)}}});aa.parser.addNodeFilter("#cdata",function(af){var ag=af.length,ah;while(ag--){ah=af[ag];ah.type=8;ah.name="#comment";ah.value="[CDATA["+ah.value+"]]"}});aa.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(ag){var ah=ag.length,ai,af=aa.schema.getNonEmptyElements();while(ah--){ai=ag[ah];if(ai.isEmpty(af)){ai.append(new B("br",1)).shortEnded=true}}});aa.serializer=new O(ab,aa);aa.selection=new I(aa.dom,aa.getWin(),aa.serializer,aa);aa.formatter=new C(aa);aa.undoManager=new q(aa);aa.forceBlocks=new K(aa);aa.enterKey=new N(aa);aa._nodeChangeDispatcher=new p(aa);aa._selectionOverrides=new o(aa);aa.fire("PreInit");if(!ab.browser_spellcheck&&!ab.gecko_spellcheck){ad.body.spellcheck=false;D.setAttrib(Y,"spellcheck","false")}aa.fire("PostRender");aa.quirks=new F(aa);if(ab.directionality){Y.dir=ab.directionality}if(ab.nowrap){Y.style.whiteSpace="nowrap"}if(ab.protect){aa.on("BeforeSetContent",function(af){P(ab.protect,function(ag){af.content=af.content.replace(ag,function(ah){return"<!--mce:protected "+escape(ah)+"-->"})})})}aa.on("SetContent",function(){aa.addVisual(aa.getBody())});if(ab.padd_empty_editor){aa.on("PostProcess",function(af){af.content=af.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}aa.load({initial:true,format:"html"});aa.startContent=aa.getContent({format:"raw"});aa.initialized=true;aa.bindPendingEventDelegates();aa.fire("init");aa.focus(true);aa.nodeChanged({initial:true});aa.execCallback("init_instance_callback",aa);if(aa.contentStyles.length>0){ae="";P(aa.contentStyles,function(af){ae+=af+"\r\n"});aa.dom.addStyle(ae)}P(aa.contentCSS,function(af){if(!aa.loadedCSS[af]){aa.dom.loadCSS(af);aa.loadedCSS[af]=true}});if(ab.auto_focus){x.setEditorTimeout(aa,function(){var af;if(ab.auto_focus===true){af=aa}else{af=aa.editorManager.get(ab.auto_focus)}if(!af.destroyed){af.focus()}},100)}ac=ad=Y=null},focus:function(Z){var ai=this,ah=ai.selection,ac=ai.settings.content_editable,Y;var af,ag=ai.getDoc(),aa=ai.getBody(),ad;function ae(aj){return ai.dom.getParent(aj,function(ak){return ai.dom.getContentEditable(ak)==="true"})}if(!Z){Y=ah.getRng();if(Y.item){af=Y.item(0)}ai._refreshContentEditable();ad=ae(ah.getNode());if(ai.$.contains(aa,ad)){ad.focus();ah.normalize();ai.editorManager.setActive(ai);return}if(!ac){if(!S.opera){ai.getBody().focus()}ai.getWin().focus()}if(n||ac){if(aa.setActive){try{aa.setActive()}catch(ab){aa.focus()}}else{aa.focus()}if(ac){ah.normalize()}}if(af&&af.ownerDocument==ag){Y=ag.body.createControlRange();Y.addElement(af);Y.select()}}ai.editorManager.setActive(ai)},execCallback:function(Z){var Y=this,ab=Y.settings[Z],aa;if(!ab){return}if(Y.callbackLookup&&(aa=Y.callbackLookup[Z])){ab=aa.func;aa=aa.scope}if(typeof ab==="string"){aa=ab.replace(/\.\w+$/,"");aa=aa?y(aa):0;ab=y(ab);Y.callbackLookup=Y.callbackLookup||{};Y.callbackLookup[Z]={func:ab,scope:aa}}return ab.apply(aa||Y,Array.prototype.slice.call(arguments,1))},translate:function(aa){var Z=this.settings.language||"en",Y=this.editorManager.i18n;if(!aa){return""}return Y.data[Z+"."+aa]||aa.replace(/\{\#([^\}]+)\}/g,function(ac,ab){return Y.data[Z+"."+ab]||"{#"+ab+"}"})},getLang:function(Y,Z){return(this.editorManager.i18n.data[(this.settings.language||"en")+"."+Y]||(Z!==g?Z:"{#"+Y+"}"))},getParam:function(Z,ac,aa){var ab=Z in this.settings?this.settings[Z]:ac,Y;if(aa==="hash"){Y={};if(typeof ab==="string"){P(ab.indexOf("=")>0?ab.split(/[;,](?![^=;,]*(?:[;,]|$))/):ab.split(","),function(ad){ad=ad.split("=");if(ad.length>1){Y[i(ad[0])]=i(ad[1])}else{Y[i(ad[0])]=i(ad)}})}else{Y=ab}return Y}return ab},nodeChanged:function(Y){this._nodeChangeDispatcher.nodeChanged(Y)},addButton:function(Z,aa){var Y=this;if(aa.cmd){aa.onclick=function(){Y.execCommand(aa.cmd)}}if(!aa.text&&!aa.icon){aa.icon=Z}Y.buttons=Y.buttons||{};aa.tooltip=aa.tooltip||aa.title;Y.buttons[Z]=aa},addMenuItem:function(Z,aa){var Y=this;if(aa.cmd){aa.onclick=function(){Y.execCommand(aa.cmd)}}Y.menuItems=Y.menuItems||{};Y.menuItems[Z]=aa},addContextToolbar:function(Z,ab){var aa=this,Y;aa.contextToolbars=aa.contextToolbars||[];if(typeof Z=="string"){Y=Z;Z=function(ac){return aa.dom.is(ac,Y)}}aa.contextToolbars.push({predicate:Z,items:ab})},addCommand:function(Y,aa,Z){this.editorCommands.addCommand(Y,aa,Z)},addQueryStateHandler:function(Y,aa,Z){this.editorCommands.addQueryStateHandler(Y,aa,Z)},addQueryValueHandler:function(Y,aa,Z){this.editorCommands.addQueryValueHandler(Y,aa,Z)},addShortcut:function(aa,ab,Z,Y){this.shortcuts.add(aa,ab,Z,Y)},execCommand:function(ab,aa,Z,Y){return this.editorCommands.execCommand(ab,aa,Z,Y)},queryCommandState:function(Y){return this.editorCommands.queryCommandState(Y)},queryCommandValue:function(Y){return this.editorCommands.queryCommandValue(Y)},queryCommandSupported:function(Y){return this.editorCommands.queryCommandSupported(Y)},show:function(){var Y=this;if(Y.hidden){Y.hidden=false;if(Y.inline){Y.getBody().contentEditable=true}else{D.show(Y.getContainer());D.hide(Y.id)}Y.load();Y.fire("show")}},hide:function(){var Y=this,Z=Y.getDoc();if(!Y.hidden){if(J&&Z&&!Y.inline){Z.execCommand("SelectAll")}Y.save();if(Y.inline){Y.getBody().contentEditable=false;if(Y==Y.editorManager.focusedEditor){Y.editorManager.focusedEditor=null}}else{D.hide(Y.getContainer());D.setStyle(Y.id,"display",Y.orgDisplay)}Y.hidden=true;Y.fire("hide")}},isHidden:function(){return !!this.hidden},setProgressState:function(Y,Z){this.fire("ProgressState",{state:Y,time:Z})},load:function(Z){var Y=this,ab=Y.getElement(),aa;if(ab){Z=Z||{};Z.load=true;aa=Y.setContent(ab.value!==g?ab.value:ab.innerHTML,Z);Z.element=ab;if(!Z.no_events){Y.fire("LoadContent",Z)}Z.element=ab=null;return aa}},save:function(Z){var Y=this,ac=Y.getElement(),aa,ab;if(!ac||!Y.initialized){return}Z=Z||{};Z.save=true;Z.element=ac;aa=Z.content=Y.getContent(Z);if(!Z.no_events){Y.fire("SaveContent",Z)}if(Z.format=="raw"){Y.fire("RawSaveContent",Z)}aa=Z.content;if(!/TEXTAREA|INPUT/i.test(ac.nodeName)){if(!Y.inline){ac.innerHTML=aa}if((ab=D.getParent(Y.id,"form"))){P(ab.elements,function(ad){if(ad.name==Y.id){ad.value=aa;return false}})}}else{ac.value=aa}Z.element=ac=null;if(Z.set_dirty!==false){Y.setDirty(false)}return aa},setContent:function(ad,ab){var aa=this,Y=aa.getBody(),ac,Z;ab=ab||{};ab.format=ab.format||"html";ab.set=true;ab.content=ad;if(!ab.no_events){aa.fire("BeforeSetContent",ab)}ad=ab.content;if(ad.length===0||/^\s+$/.test(ad)){Z=J&&J<11?"":'<br data-mce-bogus="1">';if(Y.nodeName=="TABLE"){ad="<tr><td>"+Z+"</td></tr>"}else{if(/^(UL|OL)$/.test(Y.nodeName)){ad="<li>"+Z+"</li>"}}ac=aa.settings.forced_root_block;if(ac&&aa.schema.isValidChild(Y.nodeName.toLowerCase(),ac.toLowerCase())){ad=Z;ad=aa.dom.createHTML(ac,aa.settings.forced_root_block_attrs,ad)}else{if(!J&&!ad){ad='<br data-mce-bogus="1">'}}aa.dom.setHTML(Y,ad);aa.fire("SetContent",ab)}else{if(ab.format!=="raw"){ad=new M({validate:aa.validate},aa.schema).serialize(aa.parser.parse(ad,{isRootContent:true}))}ab.content=i(ad);aa.dom.setHTML(Y,ab.content);if(!ab.no_events){aa.fire("SetContent",ab)}}return ab.content},getContent:function(aa){var Z=this,ab,Y=Z.getBody();aa=aa||{};aa.format=aa.format||"html";aa.get=true;aa.getInner=true;if(!aa.no_events){Z.fire("BeforeGetContent",aa)}if(aa.format=="raw"){ab=Z.serializer.getTrimmedContent()}else{if(aa.format=="text"){ab=Y.innerText||Y.textContent}else{ab=Z.serializer.serialize(Y,aa)}}if(aa.format!="text"){aa.content=i(ab)}else{aa.content=ab}if(!aa.no_events){Z.fire("GetContent",aa)}return aa.content},insertContent:function(Z,Y){if(Y){Z=s({content:Z},Y)}this.execCommand("mceInsertContent",false,Z)},isDirty:function(){return !this.isNotDirty},setDirty:function(Z){var Y=!this.isNotDirty;this.isNotDirty=!Z;if(Z&&Z!=Y){this.fire("dirty")}},setMode:function(Y){l.setMode(this,Y)},getContainer:function(){var Y=this;if(!Y.container){Y.container=D.get(Y.editorContainer||Y.id+"_parent")}return Y.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){if(!this.targetElm){this.targetElm=D.get(this.id)}return this.targetElm},getWin:function(){var Y=this,Z;if(!Y.contentWindow){Z=Y.iframeElement;if(Z){Y.contentWindow=Z.contentWindow}}return Y.contentWindow},getDoc:function(){var Y=this,Z;if(!Y.contentDocument){Z=Y.getWin();if(Z){Y.contentDocument=Z.document}}return Y.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(aa,Z,ac){var Y=this,ab=Y.settings;if(ab.urlconverter_callback){return Y.execCallback("urlconverter_callback",aa,ac,true,Z)}if(!ab.convert_urls||(ac&&ac.nodeName=="LINK")||aa.indexOf("file:")===0||aa.length===0){return aa}if(ab.relative_urls){return Y.documentBaseURI.toRelative(aa)}aa=Y.documentBaseURI.toAbsolute(aa,ab.remove_script_host);return aa},addVisual:function(ac){var Z=this,aa=Z.settings,ab=Z.dom,Y;ac=ac||Z.getBody();if(Z.hasVisual===g){Z.hasVisual=aa.visual}P(ab.select("table,a",ac),function(ae){var ad;switch(ae.nodeName){case"TABLE":Y=aa.visual_table_class||"mce-item-table";ad=ab.getAttrib(ae,"border");if((!ad||ad=="0")&&Z.hasVisual){ab.addClass(ae,Y)}else{ab.removeClass(ae,Y)}return;case"A":if(!ab.getAttrib(ae,"href",false)){ad=ab.getAttrib(ae,"name")||ae.id;Y=aa.visual_anchor_class||"mce-item-anchor";if(ad&&Z.hasVisual){ab.addClass(ae,Y)}else{ab.removeClass(ae,Y)}}return}});Z.fire("VisualAid",{element:ac,hasVisual:Z.hasVisual})},remove:function(){var Y=this;if(!Y.removed){Y.save();Y.removed=1;Y.unbindAllNativeEvents();if(Y.hasHiddenInput){if(Y.getElement()){D.remove(Y.getElement().nextSibling)}}if(!Y.inline){if(J&&J<10){Y.getDoc().execCommand("SelectAll",false,null)}D.setStyle(Y.id,"display",Y.orgDisplay);Y.getBody().onload=null}Y.fire("remove");Y.editorManager.remove(Y);D.remove(Y.getContainer());Y._selectionOverrides.destroy();Y.editorUpload.destroy();Y.destroy()}},destroy:function(aa){var Y=this,Z;if(Y.destroyed){return}if(!aa&&!Y.removed){Y.remove();return}if(!aa){Y.editorManager.off("beforeunload",Y._beforeUnload);if(Y.theme&&Y.theme.destroy){Y.theme.destroy()}Y.selection.destroy();Y.dom.destroy()}Z=Y.formElement;if(Z){if(Z._mceOldSubmit){Z.submit=Z._mceOldSubmit;Z._mceOldSubmit=null}D.unbind(Z,"submit reset",Y.formEventDelegate)}Y.contentAreaContainer=Y.formElement=Y.container=Y.editorContainer=null;Y.bodyElement=Y.contentDocument=Y.contentWindow=null;Y.iframeElement=Y.targetElm=null;if(Y.selection){Y.selection=Y.selection.win=Y.selection.dom=Y.selection.dom.doc=null}Y.destroyed=1},uploadImages:function(Y){return this.editorUpload.uploadImages(Y)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var Z=this,Y,aa;if(Z._isHidden()){Y=Z.getBody();aa=Y.parentNode;aa.removeChild(Y);aa.appendChild(Y);Y.focus()}},_isHidden:function(){var Y;if(!n){return 0}Y=this.selection.getSel();return(!Y||!Y.rangeCount||Y.rangeCount===0)}};s(A.prototype,m);return A});h("tinymce/util/I18n",[],function(){var j={},i="en";return{setCode:function(k){if(k){i=k;this.rtl=this.data[k]?this.data[k]._dir==="rtl":false}},getCode:function(){return i},rtl:false,add:function(n,l){var k=j[n];if(!k){j[n]=k={}}for(var m in l){k[m]=l[m]}this.setCode(n)},translate:function(m){var k;k=j[i];if(!k){k={}}if(typeof m=="undefined"){return m}if(typeof m!="string"&&m.raw){return m.raw}if(m.push){var l=m.slice(1);m=(k[m[0]]||m[0]).replace(/\{([0-9]+)\}/g,function(o,n){return l[n]})}return(k[m]||m).replace(/{context:\w+}$/,"")},data:j}});h("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(o,p,j){var k,m,l,n=o.DOM;function i(w){function r(){try{return document.activeElement}catch(x){return document.body}}function v(y,x){if(x&&x.startContainer){if(!y.isChildOf(x.startContainer,y.getRoot())||!y.isChildOf(x.endContainer,y.getRoot())){return}return{startContainer:x.startContainer,startOffset:x.startOffset,endContainer:x.endContainer,endOffset:x.endOffset}}return x}function q(z,y){var x;if(y.startContainer){x=z.getDoc().createRange();x.setStart(y.startContainer,y.startOffset);x.setEnd(y.endContainer,y.endOffset)}else{x=y}return x}function u(x){return !!n.getParent(x,i.isEditorUIElement)}function s(y){var x=y.editor;x.on("init",function(){if(x.inline||j.ie){if("onbeforedeactivate" in document&&j.ie<9){x.dom.bind(x.getBody(),"beforedeactivate",function(A){if(A.target!=x.getBody()){return}try{x.lastRng=x.selection.getRng()}catch(z){}})}else{x.on("nodechange mouseup keyup",function(A){var z=r();if(A.type=="nodechange"&&A.selectionChange){return}if(z&&z.id==x.id+"_ifr"){z=x.getBody()}if(x.dom.isChildOf(z,x.getBody())){x.lastRng=x.selection.getRng()}})}if(j.webkit&&!k){k=function(){var A=w.activeEditor;if(A&&A.selection){var z=A.selection.getRng();if(z&&!z.collapsed){x.lastRng=z}}};n.bind(document,"selectionchange",k)}}});x.on("setcontent",function(){x.lastRng=null});x.on("mousedown",function(){x.selection.lastFocusBookmark=null});x.on("focusin",function(){var A=w.focusedEditor,z;if(x.selection.lastFocusBookmark){z=q(x,x.selection.lastFocusBookmark);x.selection.lastFocusBookmark=null;x.selection.setRng(z)}if(A!=x){if(A){A.fire("blur",{focusedEditor:x})}w.setActive(x);w.focusedEditor=x;x.fire("focus",{blurredEditor:A});x.focus(true)}x.lastRng=null});x.on("focusout",function(){p.setEditorTimeout(x,function(){var z=w.focusedEditor;if(!u(r())&&z==x){x.fire("blur",{focusedEditor:null});w.focusedEditor=null;if(x.selection){x.selection.lastFocusBookmark=null}}})});if(!m){m=function(A){var z=w.activeEditor;if(z&&A.target.ownerDocument==document){if(z.selection&&A.target!=z.getBody()){z.selection.lastFocusBookmark=v(z.dom,z.lastRng)}if(A.target!=document.body&&!u(A.target)&&w.focusedEditor==z){z.fire("blur",{focusedEditor:null});w.focusedEditor=null}}};n.bind(document,"focusin",m)}if(x.inline&&!l){l=function(B){var A=w.activeEditor;if(A.inline&&!A.dom.isChildOf(B.target,A.getBody())){var z=A.selection.getRng();if(!z.collapsed){A.lastRng=z}}};n.bind(document,"mouseup",l)}}function t(x){if(w.focusedEditor==x.editor){w.focusedEditor=null}if(!w.activeEditor){n.unbind(document,"selectionchange",k);n.unbind(document,"focusin",m);n.unbind(document,"mouseup",l);k=m=l=null}}w.on("AddEditor",s);w.on("RemoveEditor",t)}i.isEditorUIElement=function(q){return q.className.toString().indexOf("mce-")!==-1};return i});h("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(v,m,z,p,k,j,r,w,o){var B=z.DOM;var x=j.explode,l=j.each,A=j.extend;var C=0,s,t,n=false;function u(D){l(t.editors,function(E){E.fire("ResizeWindow",D)})}function i(D,E){if(E!==n){if(E){m(window).on("resize",u)}else{m(window).off("resize",u)}n=E}}function y(F){var G=t.editors,E;delete G[F.id];for(var D=0;D<G.length;D++){if(G[D]==F){G.splice(D,1);E=true;break}}if(t.activeEditor==F){t.activeEditor=G[0]}if(t.focusedEditor==F){t.focusedEditor=null}return E}function q(D){if(D&&!(D.getContainer()||D.getBody()).parentNode){y(D);D.unbindAllNativeEvents();D.destroy(true);D=null}return D}t={$:m,majorVersion:"4",minorVersion:"3.3",releaseDate:"2016-01-14",editors:[],i18n:w,activeEditor:null,setup:function(){var L=this,E,I,K="",F,D;I=document.location.href;if(/^[^:]+:\/\/\/?[^\/]+\//.test(I)){I=I.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(I)){I+="/"}}F=window.tinymce||window.tinyMCEPreInit;if(F){E=F.base||F.baseURL;K=F.suffix}else{var G=document.getElementsByTagName("script");for(var H=0;H<G.length;H++){D=G[H].src;var J=D.substring(D.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(D)){if(J.indexOf(".min")!=-1){K=".min"}E=D.substring(0,D.lastIndexOf("/"));break}}if(!E&&document.currentScript){D=document.currentScript.src;if(D.indexOf(".min")!=-1){K=".min"}E=D.substring(0,D.lastIndexOf("/"))}K=".min";E="webman/modules/TinyMCE/js/tinymce"}L.baseURL=new p(I).toAbsolute(E);L.documentBaseURL=I;L.baseURI=new p(L.baseURL);L.suffix=K;L.focusManager=new o(L)},init:function(I){var D=this,J=[];function H(M){var L=M.id;if(!L){L=M.name;if(L&&!B.get(L)){L=M.name}else{L=B.uniqueId()}M.setAttribute("id",L)}return L}function F(O,M,N){if(!q(D.get(O))){var L=new v(O,M,D);L.targetElm=L.targetElm||N;J.push(L);L.render()}}function K(L){var M=I[L];if(!M){return}return M.apply(D,Array.prototype.slice.call(arguments,2))}function G(M,L){return L.constructor===RegExp?L.test(M.className):B.hasClass(M,L)}function E(){var L,M;B.unbind(window,"ready",E);K("onpageload");if(I.types){l(I.types,function(N){l(B.select(N.selector),function(O){F(H(O),A({},I,N),O)})});return}else{if(I.selector){l(B.select(I.selector),function(N){F(H(N),I,N)});return}else{if(I.target){F(H(I.target),I)}}}switch(I.mode){case"exact":L=I.elements||"";if(L.length>0){l(x(L),function(O){var N;if((N=B.get(O))){F(O,I,N)}else{l(document.forms,function(P){l(P.elements,function(Q){if(Q.name===O){O="mce_editor_"+C++;B.setAttrib(Q,"id",O);F(O,I,Q)}})})}})}break;case"textareas":case"specific_textareas":l(B.select("textarea"),function(N){if(I.editor_deselector&&G(N,I.editor_deselector)){return}if(!I.editor_selector||G(N,I.editor_selector)){F(H(N),I,N)}});break}if(I.oninit){L=M=0;l(J,function(N){M++;if(!N.initialized){N.on("init",function(){L++;if(L==M){K("oninit")}})}else{L++}if(L==M){K("oninit")}})}}D.settings=I;B.bind(window,"ready",E)},get:function(D){if(!arguments.length){return this.editors}return D in this.editors?this.editors[D]:null},add:function(E){var D=this,F=D.editors;F[E.id]=E;F.push(E);i(F,true);D.activeEditor=E;D.fire("AddEditor",{editor:E});if(!s){s=function(){D.fire("BeforeUnload")};B.bind(window,"beforeunload",s)}return E},createEditor:function(E,D){return this.add(new v(E,D,this))},remove:function(D){var E=this,F,H=E.editors,G;if(!D){for(F=H.length-1;F>=0;F--){E.remove(H[F])}return}if(typeof D=="string"){D=D.selector||D;l(B.select(D),function(I){G=H[I.id];if(G){E.remove(G)}});return}G=D;if(!H[G.id]){return null}if(y(G)){E.fire("RemoveEditor",{editor:G})}if(!H.length){B.unbind(window,"beforeunload",s)}G.remove();i(H,H.length>0);return G},execCommand:function(H,G,F){var D=this,E=D.get(F);switch(H){case"mceAddEditor":if(!D.get(F)){new v(F,D.settings,D).render()}return true;case"mceRemoveEditor":if(E){E.remove()}return true;case"mceToggleEditor":if(!E){D.execCommand("mceAddEditor",0,F);return true}if(E.isHidden()){E.show()}else{E.hide()}return true}if(D.activeEditor){return D.activeEditor.execCommand(H,G,F)}return false},triggerSave:function(){l(this.editors,function(D){D.save()})},addI18n:function(E,D){w.add(E,D)},translate:function(D){return w.translate(D)},setActive:function(D){var E=this.activeEditor;if(this.activeEditor!=D){if(E){E.fire("deactivate",{relatedTarget:D})}D.fire("activate",{relatedTarget:E})}this.activeEditor=D}};A(t,r);t.setup();window.tinymce=window.tinyMCE=t;return t});h("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(j,i){var l=i.each,k=i.explode;j.on("AddEditor",function(n){var m=n.editor;m.on("preInit",function(){var q,t,s,p=m.settings;function o(v,u){l(u,function(x,w){if(x){s.setStyle(v,w,x)}});s.rename(v,"span")}function r(u){s=m.dom;if(p.convert_fonts_to_spans){l(s.select("font,u,strike",u.node),function(v){q[v.nodeName.toLowerCase()](s,v)})}}if(p.inline_styles){t=k(p.font_size_legacy_values);q={font:function(v,u){o(u,{backgroundColor:u.style.backgroundColor,color:u.color,fontFamily:u.face,fontSize:t[parseInt(u.size,10)-1]})},u:function(v,u){if(m.settings.schema==="html4"){o(u,{textDecoration:"underline"})}},strike:function(v,u){o(u,{textDecoration:"line-through"})}};m.on("PreProcess SetContent",r)}})})});h("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(i,j){var k={send:function(m){var o,n=0;function l(){if(!m.async||o.readyState==4||n++>10000){if(m.success&&n<10000&&o.status==200){m.success.call(m.success_scope,""+o.responseText,o,m)}else{if(m.error){m.error.call(m.error_scope,n>10000?"TIMED_OUT":"GENERAL",o,m)}}o=null}else{setTimeout(l,10)}}m.scope=m.scope||this;m.success_scope=m.success_scope||m.scope;m.error_scope=m.error_scope||m.scope;m.async=m.async===false?false:true;m.data=m.data||"";k.fire("beforeInitialize",{settings:m});o=new XMLHttpRequest();if(o){if(o.overrideMimeType){o.overrideMimeType(m.content_type)}o.open(m.type||(m.data?"POST":"GET"),m.url,m.async);if(m.crossDomain){o.withCredentials=true}if(m.content_type){o.setRequestHeader("Content-Type",m.content_type)}if(m.requestheaders){j.each(m.requestheaders,function(p){o.setRequestHeader(p.key,p.value)})}o.setRequestHeader("X-Requested-With","XMLHttpRequest");o=k.fire("beforeSend",{xhr:o,settings:m}).xhr;o.send(m.data);if(!m.async){return l()}setTimeout(l,10)}}};j.extend(k,i);return k});h("tinymce/util/JSON",[],function(){function i(p,k){var n,j,m,l;k=k||'"';if(p===null){return"null"}m=typeof p;if(m=="string"){j="\bb\tt\nn\ff\rr\"\"''\\\\";return k+p.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(q,o){if(k==='"'&&q==="'"){return q}n=j.indexOf(o);if(n+1){return"\\"+j.charAt(n+1)}q=o.charCodeAt().toString(16);return"\\u"+"0000".substring(q.length)+q})+k}if(m=="object"){if(p.hasOwnProperty&&Object.prototype.toString.call(p)==="[object Array]"){for(n=0,j="[";n<p.length;n++){j+=(n>0?",":"")+i(p[n],k)}return j+"]"}j="{";for(l in p){if(p.hasOwnProperty(l)){j+=typeof p[l]!="function"?(j.length>1?","+k:k)+l+k+":"+i(p[l],k):""}}return j+"}"}return""+p}return{serialize:i,parse:function(k){try{return window[String.fromCharCode(101)+"val"]("("+k+")")}catch(j){}}}});h("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,k,j){var m=j.extend;function i(n){this.settings=m({},n);this.count=0}i.sendRPC=function(n){return new i().send(n)};i.prototype={send:function(p){var o=p.error,n=p.success;p=m(this.settings,p);p.success=function(r,q){r=l.parse(r);if(typeof r=="undefined"){r={error:"JSON Parse error."}}if(r.error){o.call(p.error_scope||p.scope,r.error,q)}else{n.call(p.success_scope||p.scope,r.result)}};p.error=function(r,q){if(o){o.call(p.error_scope||p.scope,r,q)}};p.data=l.serialize({id:p.id||"c"+(this.count++),method:p.method,params:p.params});p.content_type="application/json";k.send(p)}};return i});h("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(i){return{callbacks:{},count:0,send:function(k){var j=this,m=i.DOM,l=k.count!==g?k.count:j.count;var n="tinymce_jsonp_"+l;j.callbacks[l]=function(o){m.remove(n);delete j.callbacks[l];k.callback(o)};m.add(m.doc.body,"script",{id:n,src:k.url,type:"text/javascript"});j.count++}}});h("tinymce/util/LocalStorage",[],function(){var l,k,o,q,r,j;try{if(window.localStorage){return localStorage}}catch(n){}r="tinymce";k=document.documentElement;j=!!k.addBehavior;if(j){k.addBehavior("#default#userData")}function i(){q=[];for(var s in o){q.push(s)}l.length=q.length}function p(){var s,v,u,x=0;o={};if(!j){return}function t(y){var A,z;z=y!==g?x+y:v.indexOf(",",x);if(z===-1||z>v.length){return null}A=v.substring(x,z);x=z+1;return A}k.load(r);v=k.getAttribute(r)||"";do{var w=t();if(w===null){break}s=t(parseInt(w,32)||0);if(s!==null){w=t();if(w===null){break}u=t(parseInt(w,32)||0);if(s){o[s]=u}}}while(s!==null);i()}function m(){var v,u="";if(!j){return}for(var t in o){v=o[t];u+=(u?",":"")+t.length.toString(32)+","+t+","+v.length.toString(32)+","+v}k.setAttribute(r,u);try{k.save(r)}catch(s){}i()}l={key:function(s){return q[s]},getItem:function(s){return s in o?o[s]:null},setItem:function(s,t){o[s]=""+t;m()},removeItem:function(s){delete o[s];m()},clear:function(){o={};m()}};p();return l});h("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(m,o,n,l,j,i){var k=window.tinymce;k.DOM=m.DOM;k.ScriptLoader=n.ScriptLoader;k.PluginManager=l.PluginManager;k.ThemeManager=l.ThemeManager;k.dom=k.dom||{};k.dom.Event=o.Event;j.each(j,function(q,p){k[p]=q});j.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(p){k[p]=i[p.substr(2).toLowerCase()]});return{}});h("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(i,j){return i.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(k){this.settings=j.extend({},this.Defaults,k)},preRender:function(k){k.bodyClasses.add(this.settings.containerClass)},applyClasses:function(l){var k=this,o=k.settings,n,m,q,p;n=o.firstControlClass;m=o.lastControlClass;l.each(function(r){r.classes.remove(n).remove(m).add(o.controlClass);if(r.visible()){if(!q){q=r}p=r}});if(q){q.classes.add(n)}if(p){p.classes.add(m)}},renderHtml:function(k){var l=this,m="";l.applyClasses(k.items());k.items().each(function(n){m+=n.renderHtml()});return m},recalc:function(){},postRender:function(){},isNative:function(){return false}})});h("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(j){j.items().filter(":visible").each(function(l){var k=l.settings;l.layoutRect({x:k.x,y:k.y,w:k.w,h:k.h});if(l.recalc){l.recalc()}})},renderHtml:function(j){return'<div id="'+j._id+'-absend" class="'+j.classPrefix+'abs-end"></div>'+this._super(j)}})});h("tinymce/ui/Button",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"widget btn",role:"button"},init:function(l){var j=this,k;j._super(l);l=j.settings;k=j.settings.size;j.on("click mousedown",function(m){m.preventDefault()});j.on("touchstart",function(m){j.fire("click",m);m.preventDefault()});if(l.subtype){j.classes.add(l.subtype)}if(k){j.classes.add("btn-"+k)}if(l.icon){j.icon(l.icon)}},icon:function(j){if(!arguments.length){return this.state.get("icon")}this.state.set("icon",j);return this},repaint:function(){var j=this.getEl().firstChild,k;if(j){k=j.style;k.width=k.height="100%"}this._super()},renderHtml:function(){var j=this,p=j._id,m=j.classPrefix;var k=j.state.get("icon"),n,o=j.state.get("text"),l="";n=j.settings.image;if(n){k="none";if(typeof n!="string"){n=window.getSelection?n[0]:n[1]}n=" style=\"background-image: url('"+n+"')\""}else{n=""}if(o){j.classes.add("btn-has-text");l='<span class="'+m+'txt">'+j.encode(o)+"</span>"}k=j.settings.icon?m+"ico "+m+"i-"+k:"";return('<div id="'+p+'" class="'+j.classes+'" tabindex="-1" aria-labelledby="'+p+'"><button role="presentation" type="button" tabindex="-1">'+(k?'<i class="'+k+'"'+n+"></i>":"")+l+"</button></div>")},bindStates:function(){var j=this,m=j.$,l=j.classPrefix+"txt";function k(o){var n=m("span."+l,j.getEl());if(o){if(!n[0]){m("button:first",j.getEl()).append('<span class="'+l+'"></span>');n=m("span."+l,j.getEl())}n.html(j.encode(o))}else{n.remove()}j.classes.toggle("btn-has-text",!!o)}j.state.on("change:text",function(n){k(n.value)});j.state.on("change:icon",function(r){var p=r.value,q=j.classPrefix;j.settings.icon=p;p=p?q+"ico "+q+"i-"+j.settings.icon:"";var n=j.getEl().firstChild,o=n.getElementsByTagName("i")[0];if(p){if(!o||o!=n.firstChild){o=document.createElement("i");n.insertBefore(o,n.firstChild)}o.className=p}else{if(o){n.removeChild(o)}}k(j.state.get("text"))});return j._super()}})});h("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var j=this,k=j._layout;j.classes.add("btn-group");j.preRender();k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes+'"><div id="'+j._id+'-body">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(k){var j=this;j._super(k);j.on("click mousedown",function(l){l.preventDefault()});j.on("click",function(l){l.preventDefault();if(!j.disabled()){j.checked(!j.checked())}});j.checked(j.settings.checked)},checked:function(j){if(!arguments.length){return this.state.get("checked")}this.state.set("checked",j);return this},value:function(j){if(!arguments.length){return this.checked()}return this.checked(j)},renderHtml:function(){var j=this,l=j._id,k=j.classPrefix;return('<div id="'+l+'" class="'+j.classes+'" unselectable="on" aria-labelledby="'+l+'-al" tabindex="-1"><i class="'+k+"ico "+k+'i-checkbox"></i><span id="'+l+'-al" class="'+k+'label">'+j.encode(j.state.get("text"))+"</span></div>")},bindStates:function(){var j=this;function k(l){j.classes.toggle("checked",l);j.aria("checked",l)}j.state.on("change:text",function(l){j.getEl("al").firstChild.data=j.translate(l.value)});j.state.on("change:checked change:value",function(l){j.fire("change");k(l.value)});j.state.on("change:icon",function(p){var n=p.value,o=j.classPrefix;if(typeof n=="undefined"){return j.settings.icon}j.settings.icon=n;n=n?o+"ico "+o+"i-"+j.settings.icon:"";var l=j.getEl().firstChild,m=l.getElementsByTagName("i")[0];if(n){if(!m||m!=l.firstChild){m=document.createElement("i");l.insertBefore(m,l.firstChild)}m.className=n}else{if(m){l.removeChild(m)}}});if(j.state.get("checked")){k(true)}return j._super()}})});h("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(k,i,j,l){return k.extend({init:function(n){var m=this;m._super(n);n=m.settings;m.classes.add("combobox");m.subinput=true;m.ariaTarget="inp";n.menu=n.menu||n.values;if(n.menu){n.icon="caret"}m.on("click",function(p){var q=p.target,o=m.getEl();if(!l.contains(o,q)&&q!=o){return}while(q&&q!=o){if(q.id&&q.id.indexOf("-open")!=-1){m.fire("action");if(n.menu){m.showMenu();if(p.aria){m.menu.items()[0].focus()}}}q=q.parentNode}});m.on("keydown",function(o){if(o.target.nodeName=="INPUT"&&o.keyCode==13){m.parents().reverse().each(function(q){var r=m.state.get("value"),p=m.getEl("inp").value;o.preventDefault();m.state.set("value",p);if(r!=p){m.fire("change")}if(q.hasEventListeners("submit")&&q.toJSON){q.fire("submit",{data:q.toJSON()});return false}})}});m.on("keyup",function(o){if(o.target.nodeName=="INPUT"){m.state.set("value",o.target.value)}})},showMenu:function(){var m=this,n=m.settings,o;if(!m.menu){o=n.menu||[];if(o.length){o={type:"menu",items:o}}else{o.type=o.type||"menu"}m.menu=i.create(o).parent(m).renderTo(m.getContainerElm());m.fire("createmenu");m.menu.reflow();m.menu.on("cancel",function(p){if(p.control===m.menu){m.focus()}});m.menu.on("show hide",function(p){p.control.items().each(function(q){q.active(q.value()==m.value())})}).fire("show");m.menu.on("select",function(p){m.value(p.control.value())});m.on("focusin",function(p){if(p.target.tagName.toUpperCase()=="INPUT"){m.menu.hide()}});m.aria("expanded",true)}m.menu.show();m.menu.layoutRect({w:m.layoutRect().w});m.menu.moveRel(m.getEl(),m.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var n=this,s=n.getEl(),m=n.getEl("open"),q=n.layoutRect();var p,o;if(m){p=q.w-j.getSize(m).width-10}else{p=q.w-10}var r=document;if(r.all&&(!r.documentMode||r.documentMode<=8)){o=(n.layoutRect().h-2)+"px"}l(s.firstChild).css({width:p,lineHeight:o});n._super();return n},postRender:function(){var m=this;l(this.getEl("inp")).on("change",function(n){m.state.set("value",n.target.value);m.fire("change",n)});return m._super()},renderHtml:function(){var u=this,m=u._id,n=u.settings,o=u.classPrefix;var r=u.state.get("value")||"";var q,t,p="",s="";if("spellcheck" in n){s+=' spellcheck="'+n.spellcheck+'"'}if(n.maxLength){s+=' maxlength="'+n.maxLength+'"'}if(n.size){s+=' size="'+n.size+'"'}if(n.subtype){s+=' type="'+n.subtype+'"'}if(u.disabled()){s+=' disabled="disabled"'}q=n.icon;if(q&&q!="caret"){q=o+"ico "+o+"i-"+n.icon}t=u.state.get("text");if(q||t){p=('<div id="'+m+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+m+'-action" type="button" hidefocus="1" tabindex="-1">'+(q!="caret"?'<i class="'+q+'"></i>':'<i class="'+o+'caret"></i>')+(t?(q?" ":"")+t:"")+"</button></div>");u.classes.add("has-open")}return('<div id="'+m+'" class="'+u.classes+'"><input id="'+m+'-inp" class="'+o+'textbox" value="'+u.encode(r,false)+'" hidefocus="1"'+s+' placeholder="'+u.encode(n.placeholder)+'" />'+p+"</div>")},value:function(m){if(arguments.length){this.state.set("value",m);return this}if(this.state.get("rendered")){this.state.set("value",this.getEl("inp").value)}return this.state.get("value")},bindStates:function(){var m=this;m.state.on("change:value",function(n){if(m.getEl("inp").value!=n.value){m.getEl("inp").value=n.value}});m.state.on("change:disabled",function(n){m.getEl("inp").disabled=n.value});return m._super()},remove:function(){l(this.getEl("inp")).off();this._super()}})});h("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(i){return i.extend({init:function(k){var j=this;k.spellcheck=false;if(k.onaction){k.icon="none"}j._super(k);j.classes.add("colorbox");j.on("change keyup postrender",function(){j.repaintColor(j.value())})},repaintColor:function(k){var l=this.getEl().getElementsByTagName("i")[0];if(l){try{l.style.background=k}catch(j){}}},bindStates:function(){var j=this;j.state.on("change:value",function(k){if(j._rendered){j.repaintColor(k.value)}});return j._super()}})});h("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(i,j){return i.extend({showPanel:function(){var k=this,l=k.settings;k.active(true);if(!k.panel){var m=l.panel;if(m.type){m={layout:"grid",items:m}}m.role=m.role||"dialog";m.popover=true;m.autohide=true;m.ariaRoot=true;k.panel=new j(m).on("hide",function(){k.active(false)}).on("cancel",function(n){n.stopPropagation();k.focus();k.hidePanel()}).parent(k).renderTo(k.getContainerElm());k.panel.fire("show");k.panel.reflow()}else{k.panel.show()}k.panel.moveRel(k.getEl(),l.popoverAlign||(k.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var k=this;if(k.panel){k.panel.hide()}},postRender:function(){var k=this;k.aria("haspopup",true);k.on("click",function(l){if(l.control===k){if(k.panel&&k.panel.visible()){k.hidePanel()}else{k.showPanel();k.panel.focus(!!l.aria)}}});return k._super()},remove:function(){if(this.panel){this.panel.remove();this.panel=null}return this._super()}})});h("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(j,i){var k=i.DOM;return j.extend({init:function(l){this._super(l);this.classes.add("colorbutton")},color:function(l){if(l){this._color=l;this.getEl("preview").style.backgroundColor=l;return this}return this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var l=this,r=l._id,o=l.classPrefix,q=l.state.get("text");var m=l.settings.icon?o+"ico "+o+"i-"+l.settings.icon:"";var p=l.settings.image?" style=\"background-image: url('"+l.settings.image+"')\"":"",n="";if(q){l.classes.add("btn-has-text");n='<span class="'+o+'txt">'+l.encode(q)+"</span>"}return('<div id="'+r+'" class="'+l.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(m?'<i class="'+m+'"'+p+"></i>":"")+'<span id="'+r+'-preview" class="'+o+'preview"></span>'+n+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1"> <i class="'+o+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(n){if(n.aria&&n.aria.key=="down"){return}if(n.control==l&&!k.getParent(n.target,"."+l.classPrefix+"open")){n.stopImmediatePropagation();m.call(l,n)}});delete l.settings.onclick;return l._super()}})});h("tinymce/util/Color",[],function(){var k=Math.min,i=Math.max,j=Math.round;function l(w){var x=this,m=0,t=0,v=0;function p(y,A,C){var z,G,E,B,D,F;z=0;G=0;E=0;y=y/255;A=A/255;C=C/255;D=k(y,k(A,C));F=i(y,i(A,C));if(D==F){E=D;return{h:0,s:0,v:E*100}}B=(y==D)?A-C:((C==D)?y-A:C-y);z=(y==D)?3:((C==D)?1:5);z=60*(z-B/(F-D));G=(F-D)/F;E=F;return{h:j(z),s:j(G*100),v:j(E*100)}}function q(y,C,D){var B,A,r,z;y=(parseInt(y,10)||0)%360;C=parseInt(C,10)/100;D=parseInt(D,10)/100;C=i(0,k(C,1));D=i(0,k(D,1));if(C===0){m=t=v=j(255*D);return}B=y/60;A=D*C;r=A*(1-Math.abs(B%2-1));z=D-A;switch(Math.floor(B)){case 0:m=A;t=r;v=0;break;case 1:m=r;t=A;v=0;break;case 2:m=0;t=A;v=r;break;case 3:m=0;t=r;v=A;break;case 4:m=r;t=0;v=A;break;case 5:m=A;t=0;v=r;break;default:m=t=v=0}m=j(255*(m+z));t=j(255*(t+z));v=j(255*(v+z))}function n(){function r(y){y=parseInt(y,10).toString(16);return y.length>1?y:"0"+y}return"#"+r(m)+r(t)+r(v)}function u(){return{r:m,g:t,b:v}}function s(){return p(m,t,v)}function o(y){var r;if(typeof y=="object"){if("r" in y){m=y.r;t=y.g;v=y.b}else{if("v" in y){q(y.h,y.s,y.v)}}}else{if((r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(y))){m=parseInt(r[1],10);t=parseInt(r[2],10);v=parseInt(r[3],10)}else{if((r=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(y))){m=parseInt(r[1],16);t=parseInt(r[2],16);v=parseInt(r[3],16)}else{if((r=/#([0-F])([0-F])([0-F])/gi.exec(y))){m=parseInt(r[1]+r[1],16);t=parseInt(r[2]+r[2],16);v=parseInt(r[3]+r[3],16)}}}}m=m<0?0:(m>255?255:m);t=t<0?0:(t>255?255:t);v=v<0?0:(v>255?255:v);return x}if(w){o(w)}x.toRgb=u;x.toHsv=s;x.toHex=n;x.parse=o}return l});h("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(k,j,i,l){return k.extend({Defaults:{classes:"widget colorpicker"},init:function(m){this._super(m)},postRender:function(){var w=this,q=w.color(),r,t,s,v,o;t=w.getEl("h");s=w.getEl("hp");v=w.getEl("sv");o=w.getEl("svp");function p(D,A){var C=i.getPos(D),z,B;z=A.pageX-C.x;B=A.pageY-C.y;z=Math.max(0,Math.min(z/D.clientWidth,1));B=Math.max(0,Math.min(B/D.clientHeight,1));return{x:z,y:B}}function n(z,y){var x=(360-z.h)/360;i.css(s,{top:(x*100)+"%"});if(!y){i.css(o,{left:z.s+"%",top:(100-z.v)+"%"})}v.style.background=new l({s:100,v:100,h:z.h}).toHex();w.color().parse({s:z.s,v:z.v,h:z.h})}function m(x){var y;y=p(v,x);r.s=y.x*100;r.v=(1-y.y)*100;n(r);w.fire("change")}function u(x){var y;y=p(t,x);r=q.toHsv();r.h=(1-y.y)*360;n(r,true);w.fire("change")}w._repaint=function(){r=q.toHsv();n(r)};w._super();w._svdraghelper=new j(w._id+"-sv",{start:m,drag:m});w._hdraghelper=new j(w._id+"-h",{start:u,drag:u});w._repaint()},rgb:function(){return this.color().toRgb()},value:function(n){var m=this;if(arguments.length){m.color().parse(n);if(m._rendered){m._repaint()}}else{return m.color().toHex()}},color:function(){if(!this._color){this._color=new l()}return this._color},renderHtml:function(){var m=this,s=m._id,q=m.classPrefix,o;var p="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";function n(){var w,u,v="",t,x;t="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=";x=p.split(",");for(w=0,u=x.length-1;w<u;w++){v+=('<div class="'+q+'colorpicker-h-chunk" style="height:'+(100/u)+"%;"+t+x[w]+",endColorstr="+x[w+1]+");-ms-"+t+x[w]+",endColorstr="+x[w+1]+')"></div>')}return v}var r=("background: -ms-linear-gradient(top,"+p+");background: linear-gradient(to bottom,"+p+");");o=('<div id="'+s+'-h" class="'+q+'colorpicker-h" style="'+r+'">'+n()+'<div id="'+s+'-hp" class="'+q+'colorpicker-h-marker"></div></div>');return('<div id="'+s+'" class="'+m.classes+'"><div id="'+s+'-sv" class="'+q+'colorpicker-sv"><div class="'+q+'colorpicker-overlay1"><div class="'+q+'colorpicker-overlay2"><div id="'+s+'-svp" class="'+q+'colorpicker-selector1"><div class="'+q+'colorpicker-selector2"></div></div></div></div></div>'+o+"</div>")}})});h("tinymce/ui/Path",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;if(!k.delimiter){k.delimiter="\u00BB"}j._super(k);j.classes.add("path");j.canFocus=true;j.on("click",function(n){var l,m=n.target;if((l=m.getAttribute("data-index"))){j.fire("select",{value:j.row()[l],index:l})}});j.row(j.settings.row)},focus:function(){var j=this;j.getEl().firstChild.focus();return j},row:function(j){if(!arguments.length){return this.state.get("row")}this.state.set("row",j);return this},renderHtml:function(){var j=this;return('<div id="'+j._id+'" class="'+j.classes+'">'+j._getDataPathHtml(j.state.get("row"))+"</div>")},bindStates:function(){var j=this;j.state.on("change:row",function(k){j.innerHtml(j._getDataPathHtml(k.value))});return j._super()},_getDataPathHtml:function(p){var k=this,q=p||[],n,j,m="",o=k.classPrefix;for(n=0,j=q.length;n<j;n++){m+=((n>0?'<div class="'+o+'divider" aria-hidden="true"> '+k.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(n==j-1?" "+o+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+k._id+"-"+n+'" aria-level="'+n+'">'+q[n].name+"</div>")}if(!m){m='<div class="'+o+'path-item">\u00a0</div>'}return m}})});h("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(j,i){return j.extend({postRender:function(){var k=this,m=i.activeEditor;function l(n){if(n.nodeType===1){if(n.nodeName=="BR"||!!n.getAttribute("data-mce-bogus")){return true}if(n.getAttribute("data-mce-type")==="bookmark"){return true}}return false}if(m.settings.elementpath!==false){k.on("select",function(n){m.focus();m.selection.select(this.row()[n.index].element);m.nodeChanged()});m.on("nodeChange",function(r){var n=[],p=r.parents,q=p.length;while(q--){if(p[q].nodeType==1&&!l(p[q])){var o=m.fire("ResolveName",{name:p[q].nodeName.toLowerCase(),target:p[q]});if(!o.isDefaultPrevented()){n.push({name:o.name,element:p[q]})}if(o.isPropagationStopped()){break}}}k.row(n)})}return k._super()}})});h("tinymce/ui/FormItem",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.classes.add("formitem");k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<div id="'+j._id+'-title" class="'+l+'title">'+j.settings.title+"</div>"):"")+'<div id="'+j._id+'-body" class="'+j.bodyClasses+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(i,k,j){return i.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var m=this,l=m.items();if(!m.settings.formItemDefaults){m.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}}l.each(function(p){var o,n=p.settings.label;if(n){o=new k(j.extend({items:{type:"label",id:p._id+"-l",text:n,flex:0,forId:p._id,disabled:p.disabled()}},m.settings.formItemDefaults));o.type="formitem";p.aria("labelledby",p._id+"-l");if(typeof p.settings.flex=="undefined"){p.settings.flex=1}m.replace(p,o);o.add(p)}})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var l=this;l._super();l.fromJSON(l.settings.data)},bindStates:function(){var m=this;m._super();function l(){var q=0,r=[],o,p,n;if(m.settings.labelGapCalc===false){return}if(m.settings.labelGapCalc=="children"){n=m.find("formitem")}else{n=m.items()}n.filter("formitem").each(function(u){var t=u.items()[0],s=t.getEl().clientWidth;q=s>q?s:q;r.push(t)});p=m.settings.labelGap||0;o=r.length;while(o--){r[o].settings.minWidth=q+p}}m.on("show",l);l()}})});h("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(i){return i.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.preRender();k.preRender(j);return('<fieldset id="'+j._id+'" class="'+j.classes+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<legend id="'+j._id+'-title" class="'+l+'fieldset-title">'+j.settings.title+"</legend>"):"")+'<div id="'+j._id+'-body" class="'+j.bodyClasses+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></fieldset>")}})});h("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(j,i){return j.extend({init:function(o){var m=this,n=tinymce.activeEditor,l=n.settings;var k,q,p;o.spellcheck=false;p=l.file_picker_types||l.file_browser_callback_types;if(p){p=i.makeMap(p,/[, ]/)}if(!p||p[o.filetype]){q=l.file_picker_callback;if(q&&(!p||p[o.filetype])){k=function(){var r=m.fire("beforecall").meta;r=i.extend({filetype:o.filetype},r);q.call(n,function(s,t){m.value(s).fire("change",{meta:t})},m.value(),r)}}else{q=l.file_browser_callback;if(q&&(!p||p[o.filetype])){k=function(){q(m.getEl("inp").id,m.value(),o.filetype,window)}}}}if(k){o.icon="browse";o.onaction=k}m._super(o)}})});h("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(k){var j=k.layoutRect(),l=k.paddingBox;k.items().filter(":visible").each(function(m){m.layoutRect({x:l.left,y:l.top,w:j.innerW-l.right-l.left,h:j.innerH-l.top-l.bottom});if(m.recalc){m.recalc()}})}})});h("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(L){var X,S,y,V,t,B,R,w,m,Y,n,u;var T,k,o,q,s=[],r,E,P,I,J,W;var O,D,v,p,aa,M,x,N;var F,j,C,Q,H,U;var K,G;var z=Math.max,Z=Math.min;y=L.items().filter(":visible");V=L.layoutRect();t=L.paddingBox;B=L.settings;u=L.isRtl()?(B.direction||"row-reversed"):B.direction;R=B.align;w=L.isRtl()?(B.pack||"end"):B.pack;m=B.spacing||0;if(u=="row-reversed"||u=="column-reverse"){y=y.set(y.toArray().reverse());u=u.split("-")[0]}if(u=="column"){v="y";O="h";D="minH";p="maxH";M="innerH";aa="top";x="deltaH";N="contentH";H="left";C="w";F="x";j="innerW";Q="minW";U="right";K="deltaW";G="contentW"}else{v="x";O="w";D="minW";p="maxW";M="innerW";aa="left";x="deltaW";N="contentW";H="top";C="h";F="y";j="innerH";Q="minH";U="bottom";K="deltaH";G="contentH"}n=V[M]-t[aa]-t[aa];W=Y=0;for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();o=T.settings;q=o.flex;n-=(X<S-1?m:0);if(q>0){Y+=q;if(k[p]){s.push(T)}k.flex=q}n-=k[D];r=t[H]+k[Q]+t[U];if(r>W){W=r}}I={};if(n<0){I[D]=V[D]-n+V[x]}else{I[D]=V[M]-n+V[x]}I[Q]=W+V[K];I[N]=V[M]-n;I[G]=W;I.minW=Z(I.minW,V.maxW);I.minH=Z(I.minH,V.maxH);I.minW=z(I.minW,V.startMinWidth);I.minH=z(I.minH,V.startMinHeight);if(V.autoResize&&(I.minW!=V.minW||I.minH!=V.minH)){I.w=I.minW;I.h=I.minH;L.layoutRect(I);this.recalc(L);if(L._lastRect===null){var A=L.parent();if(A){A._lastRect=null;A.recalc()}}return}P=n/Y;for(X=0,S=s.length;X<S;X++){T=s[X];k=T.layoutRect();E=k[p];r=k[D]+k.flex*P;if(r>E){n-=(k[p]-k[D]);Y-=k.flex;k.flex=0;k.maxFlexSize=E}else{k.maxFlexSize=0}}P=n/Y;J=t[aa];I={};if(Y===0){if(w=="end"){J=n+t[aa]}else{if(w=="center"){J=Math.round((V[M]/2)-((V[M]-n)/2))+t[aa];if(J<0){J=t[aa]}}else{if(w=="justify"){J=t[aa];m=Math.floor(n/(y.length-1))}}}}I[F]=t[H];for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();r=k.maxFlexSize||k[D];if(R==="center"){I[F]=Math.round((V[j]/2)-(k[C]/2))}else{if(R==="stretch"){I[C]=z(k[Q]||0,V[j]-t[H]-t[U]);I[F]=t[H]}else{if(R==="end"){I[F]=V[j]-k[C]-t.top}}}if(k.flex>0){r+=k.flex*P}I[O]=r;I[v]=J;T.layoutRect(I);if(T.recalc){T.recalc()}J+=r+m}}})});h("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(j){j.items().filter(":visible").each(function(k){if(k.recalc){k.recalc()}})},isNative:function(){return true}})});h("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(n,m,p,j,l,i){var o=j.each;l.on("AddEditor",function(q){if(q.editor.rtl){n.rtl=true}k(q.editor)});n.translate=function(q){return l.translate(q)};m.tooltips=!i.iOS;function k(u){var w;function q(z,A){return function(){var B=this;u.on("nodeChange",function(E){var C=u.formatter;var D=null;o(E.parents,function(F){o(z,function(G){if(A){if(C.matchNode(F,A,{value:G.value})){D=G.value}}else{if(C.matchNode(F,G.value)){D=G.value}}if(D){return false}});if(D){return false}});B.value(D)})}}function v(z){z=z.replace(/;$/,"").split(";");var A=z.length;while(A--){z[A]=z[A].split("=")}return z}function s(){var D=0,C=[];var B=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function z(E){var F=[];if(!E){return}o(E,function(I){var H={text:I.title,icon:I.icon};if(I.items){H.menu=z(I.items)}else{var G=I.format||"custom"+D++;if(!I.format){I.name=G;C.push(I)}H.format=G;H.cmd=I.cmd}F.push(H)});return F}function A(){var E;if(u.settings.style_formats_merge){if(u.settings.style_formats){E=z(B.concat(u.settings.style_formats))}else{E=z(B)}}else{E=z(u.settings.style_formats||B)}return E}u.on("init",function(){o(C,function(E){u.formatter.register(E.name,E)})});return{type:"menu",items:A(),onPostRender:function(E){u.fire("renderFormatsMenu",{control:E.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return u.formatter.getCssText(this.settings.format)}},onPostRender:function(){var E=this;E.parent().on("show",function(){var F,G;F=E.settings.format;if(F){E.disabled(!u.formatter.canApply(F));E.active(u.formatter.match(F))}G=E.settings.cmd;if(G){E.active(u.queryCommandState(G))}})},onclick:function(){if(this.settings.format){x(this.settings.format)}if(this.settings.cmd){u.execCommand(this.settings.cmd)}}}}}w=s();function r(z){return function(){var A=this;if(u.formatter){u.formatter.formatChanged(z,function(B){A.active(B)})}else{u.on("init",function(){u.formatter.formatChanged(z,function(B){A.active(B)})})}}}o({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(A,z){u.addButton(z,{tooltip:A,onPostRender:r(z),onclick:function(){x(z)}})});o({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(A,z){u.addButton(z,{tooltip:A[0],cmd:A[1]})});o({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(A,z){u.addButton(z,{tooltip:A[0],cmd:A[1],onPostRender:r(z)})});function t(z){return function(){var A=this;z=z=="redo"?"hasRedo":"hasUndo";function B(){return u.undoManager?u.undoManager[z]():false}A.disabled(!B());u.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){A.disabled(u.readonly||!B())})}}function y(){var z=this;u.on("VisualAid",function(A){z.active(A.hasVisual)});z.active(u.hasVisual)}u.addButton("undo",{tooltip:"Undo",onPostRender:t("undo"),cmd:"undo"});u.addButton("redo",{tooltip:"Redo",onPostRender:t("redo"),cmd:"redo"});u.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});u.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:t("undo"),cmd:"undo"});u.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:t("redo"),cmd:"redo"});u.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:y,cmd:"mceToggleVisualAid"});u.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});o({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(A,z){u.addMenuItem(z,{text:A[0],icon:z,shortcut:A[2],cmd:A[1]})});u.on("mousedown",function(){p.hideAll()});function x(z){if(z.control){z=z.control.value()}if(z){u.execCommand("mceToggleFormat",false,z)}}u.addButton("styleselect",{type:"menubutton",text:"Formats",menu:w});u.addButton("formatselect",function(){var z=[],A=v(u.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");o(A,function(B){z.push({text:B[0],value:B[1],textStyle:function(){return u.formatter.getCssText(B[1])}})});return{type:"listbox",text:A[0][0],values:z,fixedWidth:true,onselect:x,onPostRender:q(z)}});u.addButton("fontselect",function(){var A="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats";var z=[],B=v(u.settings.font_formats||A);o(B,function(C){z.push({text:{raw:C[0]},value:C[1],textStyle:C[1].indexOf("dings")==-1?"font-family:"+C[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:z,fixedWidth:true,onPostRender:q(z,"fontname"),onselect:function(C){if(C.control.settings.value){u.execCommand("FontName",false,C.control.settings.value)}}}});u.addButton("fontsizeselect",function(){var z=[],B="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var A=u.settings.fontsize_formats||B;o(A.split(" "),function(D){var F=D,E=D;var C=D.split("=");if(C.length>1){F=C[0];E=C[1]}z.push({text:F,value:E})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:z,fixedWidth:true,onPostRender:q(z,"fontsize"),onclick:function(C){if(C.control.settings.value){u.execCommand("FontSize",false,C.control.settings.value)}}}});u.addMenuItem("formats",{text:"Formats",menu:w})}});h("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(F){var T,S,v,w,P,k,o,D,n,O,K,J,H,G,q,s,N,t,p,m,Q,A,z,M=[],j=[],B,U,r,u,I,V;T=F.settings;w=F.items().filter(":visible");P=F.layoutRect();v=T.columns||Math.ceil(Math.sqrt(w.length));S=Math.ceil(w.length/v);t=T.spacingH||T.spacing||0;p=T.spacingV||T.spacing||0;m=T.alignH||T.align;Q=T.alignV||T.align;s=F.paddingBox;I="reverseRows" in T?T.reverseRows:F.isRtl();if(m&&typeof m=="string"){m=[m]}if(Q&&typeof Q=="string"){Q=[Q]}for(K=0;K<v;K++){M.push(0)}for(J=0;J<S;J++){j.push(0)}for(J=0;J<S;J++){for(K=0;K<v;K++){O=w[J*v+K];if(!O){break}n=O.layoutRect();B=n.minW;U=n.minH;M[K]=B>M[K]?B:M[K];j[J]=U>j[J]?U:j[J]}}r=P.innerW-s.left-s.right;for(A=0,K=0;K<v;K++){A+=M[K]+(K>0?t:0);r-=(K>0?t:0)+M[K]}u=P.innerH-s.top-s.bottom;for(z=0,J=0;J<S;J++){z+=j[J]+(J>0?p:0);u-=(J>0?p:0)+j[J]}A+=s.left+s.right;z+=s.top+s.bottom;D={};D.minW=A+(P.w-P.innerW);D.minH=z+(P.h-P.innerH);D.contentW=D.minW-P.deltaW;D.contentH=D.minH-P.deltaH;D.minW=Math.min(D.minW,P.maxW);D.minH=Math.min(D.minH,P.maxH);D.minW=Math.max(D.minW,P.startMinWidth);D.minH=Math.max(D.minH,P.startMinHeight);if(P.autoResize&&(D.minW!=P.minW||D.minH!=P.minH)){D.w=D.minW;D.h=D.minH;F.layoutRect(D);this.recalc(F);if(F._lastRect===null){var C=F.parent();if(C){C._lastRect=null;C.recalc()}}return}if(P.autoResize){D=F.layoutRect(D);D.contentW=D.minW-P.deltaW;D.contentH=D.minH-P.deltaH}var E;if(T.packV=="start"){E=0}else{E=u>0?Math.floor(u/S):0}var R=0;var l=T.flexWidths;if(l){for(K=0;K<l.length;K++){R+=l[K]}}else{R=v}var L=r/R;for(K=0;K<v;K++){M[K]+=l?l[K]*L:L}G=s.top;for(J=0;J<S;J++){H=s.left;o=j[J]+E;for(K=0;K<v;K++){if(I){V=J*v+v-1-K}else{V=J*v+K}O=w[V];if(!O){break}q=O.settings;n=O.layoutRect();k=Math.max(M[K],n.startMinWidth);n.x=H;n.y=G;N=q.alignH||(m?(m[K]||m[0]):null);if(N=="center"){n.x=H+(k/2)-(n.w/2)}else{if(N=="right"){n.x=H+k-n.w}else{if(N=="stretch"){n.w=k}}}N=q.alignV||(Q?(Q[K]||Q[0]):null);if(N=="center"){n.y=G+(o/2)-(n.h/2)}else{if(N=="bottom"){n.y=G+o-n.h}else{if(N=="stretch"){n.h=o}}}O.layoutRect(n);H+=k+t;if(O.recalc){O.recalc()}}G+=o+p}}})});h("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(i,j){return i.extend({renderHtml:function(){var k=this;k.classes.add("iframe");k.canFocus=false;return('<iframe id="'+k._id+'" class="'+k.classes+'" tabindex="-1" src="'+(k.settings.url||"javascript:''")+'" frameborder="0"></iframe>')},src:function(k){this.getEl().src=k},html:function(m,n){var l=this,k=this.getEl().contentWindow.document.body;if(!k){j.setTimeout(function(){l.html(m)})}else{k.innerHTML=m;if(n){n()}}return this}})});h("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(j,i){return j.extend({init:function(l){var k=this;k._super(l);k.classes.add("widget").add("label");k.canFocus=false;if(l.multiline){k.classes.add("autoscroll")}if(l.strong){k.classes.add("strong")}},initLayoutRect:function(){var k=this,m=k._super();if(k.settings.multiline){var l=i.getSize(k.getEl());if(l.width>m.maxW){m.minW=m.maxW;k.classes.add("multiline")}k.getEl().style.width=m.minW+"px";m.startMinH=m.h=m.minH=Math.min(m.maxH,i.getSize(k.getEl()).height)}return m},repaint:function(){var k=this;if(!k.settings.multiline){k.getEl().style.lineHeight=k.layoutRect().h+"px"}return k._super()},renderHtml:function(){var l=this,k=l.settings.forId;return('<label id="'+l._id+'" class="'+l.classes+'"'+(k?' for="'+k+'"':"")+">"+l.encode(l.state.get("text"))+"</label>")},bindStates:function(){var k=this;k.state.on("change:text",function(l){k.innerHtml(k.encode(l.value))});return k._super()}})});h("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(k){var j=this;j._super(k);j.classes.add("toolbar")},postRender:function(){var j=this;j.items().each(function(k){k.classes.add("toolbar-item")});return j._super()}})});h("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(i){return i.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:true,defaults:{type:"menubutton"}}})});h("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,j,k){function i(o,n){while(o){if(n===o){return true}o=o.parentNode}return false}var m=l.extend({init:function(o){var n=this;n._renderOpen=true;n._super(o);o=n.settings;n.classes.add("menubtn");if(o.fixedWidth){n.classes.add("fixed-width")}n.aria("haspopup",true);n.state.set("menu",o.menu||n.render())},showMenu:function(){var n=this,o;if(n.menu&&n.menu.visible()){return n.hideMenu()}if(!n.menu){o=n.state.get("menu")||[];if(o.length){o={type:"menu",items:o}}else{o.type=o.type||"menu"}if(!o.renderTo){n.menu=j.create(o).parent(n).renderTo()}else{n.menu=o.parent(n).show().renderTo()}n.fire("createmenu");n.menu.reflow();n.menu.on("cancel",function(p){if(p.control.parent()===n.menu){p.stopPropagation();n.focus();n.hideMenu()}});n.menu.on("select",function(){n.focus()});n.menu.on("show hide",function(p){if(p.control==n.menu){n.activeMenu(p.type=="show")}n.aria("expanded",p.type=="show")}).fire("show")}n.menu.show();n.menu.layoutRect({w:n.layoutRect().w});n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var n=this;if(n.menu){n.menu.items().each(function(o){if(o.hideMenu){o.hideMenu()}});n.menu.hide()}},activeMenu:function(n){this.classes.toggle("active",n)},renderHtml:function(){var n=this,t=n._id,q=n.classPrefix;var o=n.settings.icon,r,s=n.state.get("text"),p="";r=n.settings.image;if(r){o="none";if(typeof r!="string"){r=window.getSelection?r[0]:r[1]}r=" style=\"background-image: url('"+r+"')\""}else{r=""}if(s){n.classes.add("btn-has-text");p='<span class="'+q+'txt">'+n.encode(s)+"</span>"}o=n.settings.icon?q+"ico "+q+"i-"+o:"";n.aria("role",n.parent() instanceof k?"menuitem":"button");return('<div id="'+t+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+r+"></i>":"")+p+' <i class="'+q+'caret"></i></button></div>')},postRender:function(){var n=this;n.on("click",function(o){if(o.control===n&&i(o.target,n.getEl())){n.showMenu();if(o.aria){n.menu.items()[0].focus()}}});n.on("mouseenter",function(r){var o=r.control,q=n.parent(),p;if(o&&q&&o instanceof m&&o.parent()==q){q.items().filter("MenuButton").each(function(s){if(s.hideMenu&&s!=o){if(s.menu&&s.menu.visible()){p=true}s.hideMenu()}});if(p){o.focus();o.showMenu()}}});return n._super()},bindStates:function(){var n=this;n.state.on("change:menu",function(){if(n.menu){n.menu.remove()}n.menu=null});return n._super()},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return m});h("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(k,i,j){return k.extend({Defaults:{border:0,role:"menuitem"},init:function(m){var l=this,n;l._super(m);m=l.settings;l.classes.add("menu-item");if(m.menu){l.classes.add("menu-item-expand")}if(m.preview){l.classes.add("menu-item-preview")}n=l.state.get("text");if(n==="-"||n==="|"){l.classes.add("menu-item-sep");l.aria("role","separator");l.state.set("text","-")}if(m.selectable){l.aria("role","menuitemcheckbox");l.classes.add("menu-item-checkbox");m.icon="selected"}if(!m.preview&&!m.selectable){l.classes.add("menu-item-normal")}l.on("mousedown",function(o){o.preventDefault()});if(m.menu&&!m.ariaHideMenu){l.aria("haspopup",true)}},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var m=this,o=m.settings,p,n=m.parent();n.items().each(function(q){if(q!==m){q.hideMenu()}});if(o.menu){p=m.menu;if(!p){p=o.menu;if(p.length){p={type:"menu",items:p}}else{p.type=p.type||"menu"}if(n.settings.itemDefaults){p.itemDefaults=n.settings.itemDefaults}p=m.menu=i.create(p).parent(m).renderTo();p.reflow();p.on("cancel",function(q){q.stopPropagation();m.focus();p.hide()});p.on("show hide",function(q){q.control.items().each(function(r){r.active(r.settings.selected)})}).fire("show");p.on("hide",function(q){if(q.control===p){m.classes.remove("selected")}});p.submenu=true}else{p.show()}p._parentMenu=n;p.classes.add("menu-sub");var l=p.testMoveRel(m.getEl(),m.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);p.moveRel(m.getEl(),l);p.rel=l;l="menu-sub-"+l;p.classes.remove(p._lastRel).add(l);p._lastRel=l;m.classes.add("selected");m.aria("expanded",true)}},hideMenu:function(){var l=this;if(l.menu){l.menu.items().each(function(m){if(m.hideMenu){m.hideMenu()}});l.menu.hide();l.aria("expanded",false)}return l},renderHtml:function(){var t=this,l=t._id,o=t.settings,q=t.classPrefix,s=t.encode(t.state.get("text"));var r=t.settings.icon,n="",p=o.shortcut;function m(u){var w,x,v={};if(j.mac){v={alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}}else{v={meta:"Ctrl"}}u=u.split("+");for(w=0;w<u.length;w++){x=v[u[w].toLowerCase()];if(x){u[w]=x}}return u.join("+")}if(r){t.parent().classes.add("menu-has-icons")}if(o.image){n=" style=\"background-image: url('"+o.image+"')\""}if(p){p=m(p)}r=q+"ico "+q+"i-"+(t.settings.icon||"none");return('<div id="'+l+'" class="'+t.classes+'" tabindex="-1">'+(s!=="-"?'<i class="'+r+'"'+n+"></i>\u00a0":"")+(s!=="-"?'<span id="'+l+'-text" class="'+q+'text">'+s+"</span>":"")+(p?'<div id="'+l+'-shortcut" class="'+q+'menu-shortcut">'+p+"</div>":"")+(o.menu?'<div class="'+q+'caret"></div>':"")+"</div>")},postRender:function(){var m=this,n=m.settings;var o=n.textStyle;if(typeof o=="function"){o=o.call(this)}if(o){var l=m.getEl("text");if(l){l.setAttribute("style",o)}}m.on("mouseenter click",function(p){if(p.control===m){if(!n.menu&&p.type==="click"){m.fire("select");m.parent().hideAll()}else{m.showMenu();if(p.aria){m.menu.focus(true)}}}});m._super();return m},active:function(l){if(typeof l!="undefined"){this.aria("checked",l)}return this._super(l)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});h("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(k,j,i){return k.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:true},init:function(o){var m=this;o.autohide=true;o.constrainToViewport=true;if(o.itemDefaults){var l=o.items,n=l.length;while(n--){l[n]=i.extend({},o.itemDefaults,l[n])}}m._super(o);m.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",true);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){var l=this;l.hideAll();l.fire("select")},hideAll:function(){var l=this;this.find("menuitem").exec("hideMenu");return l._super()},preRender:function(){var l=this;l.items().each(function(n){var m=n.settings;if(m.icon||m.image||m.selectable){l._hasIcons=true;return false}});return l._super()}})});h("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(j,i){return j.extend({init:function(o){var m=this,l,n,q,k;function p(r){for(var s=0;s<r.length;s++){n=r[s].selected||o.value===r[s].value;if(n){q=q||r[s].text;m.state.set("value",r[s].value);return true}if(r[s].menu){if(p(r[s].menu)){return true}}}}m._super(o);o=m.settings;m._values=l=o.values;if(l){if(typeof o.value!="undefined"){p(l)}if(!n&&l.length>0){q=l[0].text;m.state.set("value",l[0].value)}m.state.set("menu",l)}m.state.set("text",o.text||q);m.classes.add("listbox");m.on("select",function(s){var r=s.control;if(k){s.lastControl=k}if(o.multiple){r.active(!r.active())}else{m.value(s.control.value())}k=r})},bindStates:function(){var k=this;function m(o,n){if(o instanceof i){o.items().each(function(p){if(!p.hasMenus()){p.active(p.value()===n)}})}}function l(n,q){var p;if(!n){return}for(var o=0;o<n.length;o++){if(n[o].value===q){return n[o]}if(n[o].menu){p=l(n[o].menu,q);if(p){return p}}}}k.on("show",function(n){m(n.control,k.value())});k.state.on("change:value",function(o){var n=l(k.state.get("menu"),o.value);if(n){k.text(n.text)}else{k.text(k.settings.text)}});return k._super()}})});h("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(i){return i.extend({Defaults:{classes:"radio",role:"radio"}})});h("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(j,i){return j.extend({renderHtml:function(){var k=this,l=k.classPrefix;k.classes.add("resizehandle");if(k.settings.direction=="both"){k.classes.add("resizehandle-both")}k.canFocus=false;return('<div id="'+k._id+'" class="'+k.classes+'"><i class="'+l+"ico "+l+'i-resize"></i></div>')},postRender:function(){var k=this;k._super();k.resizeDragHelper=new i(this._id,{start:function(){k.fire("ResizeStart")},drag:function(l){if(k.settings.direction!="both"){l.deltaX=0}k.fire("Resize",l)},stop:function(){k.fire("ResizeEnd")}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()}return this._super()}})});h("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(j){function i(k){var m="";if(k){for(var l=0;l<k.length;l++){m+='<option value="'+k[l]+'">'+k[l]+"</option>"}}return m}return j.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(l){var k=this;k._super(l);if(k.settings.size){k.size=k.settings.size}if(k.settings.options){k._options=k.settings.options}},options:function(k){if(!arguments.length){return this.state.get("options")}this.state.set("options",k);return this},renderHtml:function(){var k=this,l,m="";l=i(k._options);if(k.size){m=' size = "'+k.size+'"'}return('<select id="'+k._id+'" class="'+k.classes+'"'+m+">"+l+"</select>")},bindStates:function(){var k=this;k.state.on("change:options",function(l){k.getEl().innerHTML=i(l.value)});return k._super()}})});h("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(l,k,j){function m(o,n,p){if(o<n){o=n}if(o>p){o=p}return o}function i(t,s){var r,q,o,p,n;if(t.settings.orientation=="v"){p="top";o="height";q="h"}else{p="left";o="width";q="w"}r=(t.layoutRect()[q]||100)-j.getSize(t.getEl("handle"))[o];n=(r*((s-t._minValue)/(t._maxValue-t._minValue)))+"px";t.getEl("handle").style[p]=n;t.getEl("handle").style.height=t.layoutRect().h+"px"}return l.extend({init:function(o){var n=this;if(!o.previewFilter){o.previewFilter=function(p){return Math.round(p*100)/100}}n._super(o);n.classes.add("slider");if(o.orientation=="v"){n.classes.add("vertical")}n._minValue=o.minValue||0;n._maxValue=o.maxValue||100;n._initValue=n.state.get("value")},renderHtml:function(){var n=this,p=n._id,o=n.classPrefix;return('<div id="'+p+'" class="'+n.classes+'"><div id="'+p+'-handle" class="'+o+'slider-handle"></div></div>')},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var x=this,t,y,n=0,w,v,r,s;var o,u,q,p;v=x._minValue;r=x._maxValue;w=x.value();if(x.settings.orientation=="v"){o="screenY";u="top";q="height";p="h"}else{o="screenX";u="left";q="width";p="w"}x._super();x._dragHelper=new k(x._id,{handle:x._id+"-handle",start:function(z){t=z[o];y=parseInt(x.getEl("handle").style[u],10);s=(x.layoutRect()[p]||100)-j.getSize(x.getEl("handle"))[q];x.fire("dragstart",{value:w})},drag:function(A){var B=A[o]-t,z=x.getEl("handle");n=m(y+B,0,s);z.style[u]=n+"px";w=v+(n/s)*(r-v);x.value(w);x.tooltip().text(""+x.settings.previewFilter(w)).show().moveRel(z,"bc tc");x.fire("drag",{value:w})},stop:function(){x.tooltip().hide();x.fire("dragend",{value:w})}})},repaint:function(){this._super();i(this,this.value())},bindStates:function(){var n=this;n.state.on("change:value",function(o){i(n,o.value)});return n._super()}})});h("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(i){return i.extend({renderHtml:function(){var j=this;j.classes.add("spacer");j.canFocus=false;return'<div id="'+j._id+'" class="'+j.classes+'"></div>'}})});h("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(k,i,j){return k.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var l=this,p=l.getEl(),n=l.layoutRect(),m,o;l._super();m=p.firstChild;o=p.lastChild;j(m).css({width:n.w-i.getSize(o).width,height:n.h-2});j(o).css({height:n.h-2});return l},activeMenu:function(m){var l=this;j(l.getEl().lastChild).toggleClass(l.classPrefix+"active",m)},renderHtml:function(){var l=this,r=l._id,o=l.classPrefix,p;var m=l.state.get("icon"),q=l.state.get("text"),n="";p=l.settings.image;if(p){m="none";if(typeof p!="string"){p=window.getSelection?p[0]:p[1]}p=" style=\"background-image: url('"+p+"')\""}else{p=""}m=l.settings.icon?o+"ico "+o+"i-"+m:"";if(q){l.classes.add("btn-has-text");n='<span class="'+o+'txt">'+l.encode(q)+"</span>"}return('<div id="'+r+'" class="'+l.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(m?'<i class="'+m+'"'+p+"></i>":"")+n+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(l._menuBtnText?(m?"\u00a0":"")+l._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(o){var n=o.target;if(o.control==this){while(n){if((o.aria&&o.aria.key!="down")||(n.nodeName=="BUTTON"&&n.className.indexOf("open")==-1)){o.stopImmediatePropagation();if(m){m.call(this,o)}return}n=n.parentNode}}});delete l.settings.onclick;return l._super()}})});h("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(i){return i.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return true}})});h("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(k,j,i){return k.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(l){var m;if(this.activeTabId){m=this.getEl(this.activeTabId);j(m).removeClass(this.classPrefix+"active");m.setAttribute("aria-selected","false")}this.activeTabId="t"+l;m=this.getEl("t"+l);m.setAttribute("aria-selected","true");j(m).addClass(this.classPrefix+"active");this.items()[l].show().fire("showtab");this.reflow();this.items().each(function(o,n){if(l!=n){o.hide()}})},renderHtml:function(){var m=this,n=m._layout,l="",o=m.classPrefix;m.preRender();n.preRender(m);m.items().each(function(q,p){var r=m._id+"-t"+p;q.aria("role","tabpanel");q.aria("labelledby",r);l+=('<div id="'+r+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+q._id+'" aria-selected="false" tabIndex="-1">'+m.encode(q.settings.title)+"</div>")});return('<div id="'+m._id+'" class="'+m.classes+'" hidefocus="1" tabindex="-1"><div id="'+m._id+'-head" class="'+o+'tabs" role="tablist">'+l+'</div><div id="'+m._id+'-body" class="'+m.bodyClasses+'">'+n.renderHtml(m)+"</div></div>")},postRender:function(){var l=this;l._super();l.settings.activeTab=l.settings.activeTab||0;l.activateTab(l.settings.activeTab);this.on("click",function(o){var n=o.target.parentNode;if(o.target.parentNode.id==l._id+"-head"){var m=n.childNodes.length;while(m--){if(n.childNodes[m]==o.target){l.activateTab(m)}}}})},initLayoutRect:function(){var m=this,p,l,o;l=i.getSize(m.getEl("head")).width;l=l<0?0:l;o=0;m.items().each(function(q){l=Math.max(l,q.layoutRect().minW);o=Math.max(o,q.layoutRect().minH)});m.items().each(function(q){q.settings.x=0;q.settings.y=0;q.settings.w=l;q.settings.h=o;q.layoutRect({x:0,y:0,w:l,h:o})});var n=i.getSize(m.getEl("head")).height;m.settings.minWidth=l;m.settings.minHeight=o+n;p=m._super();p.deltaH+=n;p.innerH=p.h-p.deltaH;return p}})});h("tinymce/ui/TextBox",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;j._super(k);j.classes.add("textbox");if(k.multiline){j.classes.add("multiline")}else{j.on("keydown",function(m){var l;if(m.keyCode==13){m.preventDefault();j.parents().reverse().each(function(n){if(n.toJSON){l=n;return false}});j.fire("submit",{data:l.toJSON()})}});j.on("keyup",function(l){j.state.set("value",l.target.value)})}},repaint:function(){var k=this,m,n,q,l,o=0,j;m=k.getEl().style;n=k._layoutRect;j=k._lastRepaintRect||{};var p=document;if(!k.settings.multiline&&p.all&&(!p.documentMode||p.documentMode<=8)){m.lineHeight=(n.h-o)+"px"}q=k.borderBox;l=q.left+q.right+8;o=q.top+q.bottom+(k.settings.multiline?8:0);if(n.x!==j.x){m.left=n.x+"px";j.x=n.x}if(n.y!==j.y){m.top=n.y+"px";j.y=n.y}if(n.w!==j.w){m.width=(n.w-l)+"px";j.w=n.w}if(n.h!==j.h){m.height=(n.h-o)+"px";j.h=n.h}k._lastRepaintRect=j;k.fire("repaint",{},false);return k},renderHtml:function(){var j=this,n=j._id,k=j.settings,m=j.encode(j.state.get("value"),false),l="";if("spellcheck" in k){l+=' spellcheck="'+k.spellcheck+'"'}if(k.maxLength){l+=' maxlength="'+k.maxLength+'"'}if(k.size){l+=' size="'+k.size+'"'}if(k.subtype){l+=' type="'+k.subtype+'"'}if(j.disabled()){l+=' disabled="disabled"'}if(k.multiline){return('<textarea id="'+n+'" class="'+j.classes+'" '+(k.rows?' rows="'+k.rows+'"':"")+' hidefocus="1"'+l+">"+m+"</textarea>")}return'<input id="'+n+'" class="'+j.classes+'" value="'+m+'" hidefocus="1"'+l+" />"},value:function(j){if(arguments.length){this.state.set("value",j);return this}if(this.state.get("rendered")){this.state.set("value",this.getEl().value)}return this.state.get("value")},postRender:function(){var j=this;j._super();j.$el.on("change",function(k){j.state.set("value",k.target.value);j.fire("change",k)})},bindStates:function(){var j=this;j.state.on("change:value",function(k){if(j.getEl().value!=k.value){j.getEl().value=k.value}});j.state.on("change:disabled",function(k){j.getEl().disabled=k.value});return j._super()},remove:function(){this.$el.off();this._super()}})});h("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(j,i,k){return function(p,o){var m=this,n,l=i.classPrefix;m.show=function(q,r){m.hide();n=true;k.setTimeout(function(){if(n){j(p).append('<div class="'+l+"throbber"+(o?" "+l+"throbber-inline":"")+'"></div>');if(r){r()}}},q);return m};m.hide=function(){var q=p.lastChild;if(q&&q.className.indexOf("throbber")!=-1){q.parentNode.removeChild(q)}n=false;return m}}});a(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/Env","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])})(this);(function(a){var b={};window.tinymce.synoReloadPlugins=function(e,d){var f,c;try{c=SYNO.SDS.Config.FnMap[e].config.version}catch(g){SYNO.Debug("load version of",e,"failed");c=""}if(b[e]!==undefined&&b[e]===c){return}b[e]=c;if(d===undefined){SYNO.Debug("plugins is undefined");return}if(Ext.isEmpty(tinymce.PluginManager.items)){return}if(Ext.isArray(d)){d=d.join(" ")}d=d.trim();if(Ext.isEmpty(d)){return}d=d.split(" ");Ext.each(d,function(h){tinymce.PluginManager.load(h,{prefix:"plugins/",resource:h,suffix:"/plugin.min.js"},Ext.emptyFn,window,true)},this);tinymce.ScriptLoader.loadQueue(Ext.emptyFn,this,e+c)}})(this);