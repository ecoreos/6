<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<title>Firewall</title>

<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>

<h2><a name="leaf_firewall"></a>Firewall</h2>
<p>At <strong>Control Panel</strong> > <strong>Security</strong> > <strong>Firewall</strong>, you can enable firewall, create firewall rules, and configure firewall settings to prevent unauthorized login and control service access. You can decide whether to allow or deny access to certain network ports by specific IP addresses.</p>


<h3>Firewall Management</h3>
<p>You can create firewall rules for different firewall profiles, so as to easily and quickly switch to and apply the desired profile according to different security needs.</p>

<h4>To enable firewall:</h4>
<ol>
<li>Go to <b>Control Panel</b> > <b>Security</b> > <b>Firewall</b>, and check <b>Enable firewall</b>.</li>
<li>Click <b>Apply</b> to save the settings.</li>
</ol>


<h4>To configure a firewall profile:</h4>
<ol>

<li>Under the <b>Firewall Profile</b> section, click the <b>+</b> icon in the drop-down menu and enter a name to create a new profile.</li>
<li>Select the desired profile from the drop-down menu and click <b>Select</b>.</li>
<li>Click the <b>Edit Rules</b> button on the right, and click <b>Create</b> to create firewall rules for the chosen profile. (Please refer to the section below for more information about creating firewall rules.)</li>
<li>Repeat the steps above until you have created all profiles and firewall rules you need.</li>
</ol>

<h4>To manage a firewall profile:</h4>
<p>Under the <b>Firewall Profile</b> section, click the corresponding buttons in the drop-down menu to create, delete, rename, or clone the chosen profile.</p>



<h4>To create a firewall rule:</h4>
<ol>

<li>Under the <b>Firewall Profile</b> section, select a firewall profile from the drop-down menu and click the <b>Edit Rules</b> button on the right.</li>

<li>Select a network interface from the drop-down menus in the upper right corner.</li>
<li>Click <b>Create</b>.</li>
<li>In the <b>Ports</b> section, select one of the following:
<ul>
<li>Choose <b>All</b> to apply this firewall rule to all ports.</li>
<li>Choose <b>Select from a list of built-in applications</b> and click <strong>Select</strong>. Select the built-in applications you want to apply this firewall rule to.</li>
<li>Choose <b>Custom</b> and click <b>Custom</b>. Enter up to 15 ports separated by commas or specify a port range to apply this firewall rule to.</li>
</ul>
</li>
<li>In the <b>Source IP</b> section, select one of the following:
<ul>
<li>Choose <b>All</b> to apply this firewall rule to all IP addresses.</li>
<li>Choose <b>Specific IP</b> and click <strong>Select</strong>. You can specify an IP addresses or IP range to apply this firewall rule to.</li>
<li>Choose <b>Region</b> and then specify up to 15 countries to apply this firewall rule to.</li>
</ul>
</li>
<li>In the <b>Action</b> section, select one of the following:
<ul>
	<li>Choose <b>Allow</b> to allow access by ports and source IP addresses you have specified.</li>
	<li>Choose <b>Deny</b> to deny access by ports and source IP addresses you have specified.</li>
</ul>
</li>
</ol>

<p>
You can view LAN and PPPoE firewall rules by selecting these interfaces from the box in the upper right-hand corner. At the bottom of the rule list you can select <b>Allow access</b> or <b>Deny access</b> to allow or deny any access requests that do not match an existing firewall rule for the respective interface.</p>


<div class="section">
<h4>Note:</h4>
<ul>
<li>Drag-and-drop to reorder the rules in the list.</li>
<li>Rules are prioritized according to their positions in the list.</li>
<li>If you have multiple network ports connecting to the same subnet, the firewall rules may not work properly.* </li>
<li>When you combine multiple LAN ports with link aggregation, firewall will apply the rules from the first network interface, and retain the rules of the second network interface.</li>
<li>If your DiskStation device connects to the Internet via PPPoE, the related firewall rules must be configured on the corresponding PPPoE interface.</li>
</ul>
</div>

<h4>To apply a firewall profile:</h4>

<ol>
<li>Under the <b>Firewall Profile</b> section, switch to the desired profile from the drop-down menu.</li>
<li>Click <b>Apply</b> to save the changes. The chosen firewall profile will be applied and used as the active profile.</li>
</ol>


<h3>Firewall rule behavior:</h3>
<p>DSM Firewall will match  rules according to priority. <strong>Once a rule is matched, it will be enforced and DSM Firewall will not continue matching remaining rules</strong>. If there are no rules matched, DSM Firewall will perform the default action specified in each interface.</p>
<h4>Firewall rule priority:</h4>
<ol> 
<li>Rules defined in "All interface".</li>
<li>Rules defined in respective interfaces for which the connection belongs to.</li>
<li>Default rules in respective interfaces for which the connection belongs to.</li>
</ol>
<p>____<br>
* Applies to specific models only.<br>
# This function includes GeoLite data created by MaxMind, available from <a href="http://www.maxmind.com" target="_blank">http://www.maxmind.com</a>.</p>
</body>
</html>
