<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<title>Backup Services - Synology DSM Help</title>
<meta name="author" content="Synology Inc.">
<meta name="description" content="Allow other users to back up data from their Synology NAS or rsync-compatible clients to your Synology NAS.">

<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h2>rsync</h2>

<p>You can allow other users to back up data via rsync from a Synology NAS or rsync-compatible clients to your DiskStation.</p>

<h3>Enabling rsync Backup Service</h3>

<h4>To enable rsync service:</h4>

<p>Go to <strong>Control Panel</strong> > <strong>File Services</strong> > <strong>rsync</strong>, and select <strong>Enable rsync service</strong>.</p>


<h4>To assign rsync backup privileges:</h4>


<p>Assign proper rsync privileges to users so that these users can back up data from a source Synology NAS or an rsync-compatible server to the destination Synology NAS.</p>

<ol>
<li>Go to <b>Control Panel</b> > <b>Privileges</b>, click <strong>rsync (Shared Folder Sync, LUN Backup on supported models)</strong> > <strong>Edit</strong>.</li>
<li>Assign <strong>Allow</strong> privileges to the desired users (DSM users for encrypted rsync, or rsync accounts for unencrypted rsync), or further specify the allowed IP addresses for specific users.</li>
</ol>



<div class="section">
<h4>Note:</h4>
<p>To perform rsync backup from a DiskStation running a version of DSM before 3.0 or a client that is not a DiskStation, and to retain the source data's <b>owner</b> and <b>group</b> information, you must add the rsync accounts to the <b>administrators</b> group, and back up data to the <b>NetBackup</b> shared folder.</p>
</div>

<h3>Enabling Rsync Accounts</h3>
<p>If you perform rsync backup from a non-Synology NAS client, you have to create rsync accounts on the destination Synology NAS so that the rsync users can back up data to your Synology NAS.</p>

<h4>To enable rsync accounts:</h4>
<ol>
<li>Go to <b>Control Panel</b> > <b>File Services</b> > <strong>rsync</strong>, and select <b>Enable rsync account</b>.</li>
<li>Click <b>Edit rsync Account</b> to set users and corresponding passwords for authentication.</li>
<li>Click <b>Apply</b>.</li>
</ol>

<div class="section">
<h4>Note:</h4>
<ul>
<li>If the rsync service is encrypted (that is, having a specified SSH encryption port), the system will directly apply DSM users' usernames and passwords as their rsync accounts.</li>
<li>If the rsync service is unencrypted, you need to create corresponding rsync accounts for them.</li>
</ul>
</div>


<h3>Using Customized rsync Configuration</h3>

<p>You can use customized rsync configuration, and configure user privileges and backup destination on your DiskStation. Other people can therefore perform rsync backup from their DiskStation devices or rsync-compatible clients to the destination shared folders (or "backup modules") on your DiskStation.</p>

<h4>To use customized rsync configuration:</h4>

<ol>
<li>Log in to your DiskStation device via Telnet or SSH.</li>
<li>Specify the backup module and authorized users in the rsync configuration file "<b><code>/etc/rsyncd.conf</code></b>". For detailed information, refer to the manual page of <b>rsyncd.conf</b> on your rsync client or <a href="http://rsync.samba.org/ftp/rsync/rsyncd.conf.html" target="_blank">here</a>.</li>
</ol>

<div class="section">
<h4>Note:</h4>
<p>If the backup module and the shared folder share the same name, the backup module setting will be used.</p>
</div>


<h3>Enabling Speed Limit</h3>
<p>You can control the maximum usable bandwidth of rsync backup for users and groups.</p>

<h4>To enable speed limit:</h4>
<ol>
  <li>Go to <b>Control Panel</b> > <b>File Services</b> > <strong>rsync</strong>. Select any of the following:
  <ul>
  <li><strong>No speed limit</strong></li>
  <li><strong>Enable speed limit</strong></li>
  <li><strong>Enable speed limit according to a schedule</strong> (Click <strong>Set Schedule</strong> for further modification.)</li>
  </ul>
  
<div class="section">
<h4>Note:</h4>
<p>This is a server-wide setting and will override the settings of individual users and groups. For example, choosing <strong>No speed limit</strong> disables the speed limit settings of all users and groups.</p>
</div>
  </li>

  <li>If you have enabled speed limit, click <strong>Speed Limit Settings</strong>, and click the desired user/group to modify the settings:
    <ul>
       <li><strong>None:</strong> No speed limit will be applied when group members transfer files with the service.</li>
      <li><strong>Apply group settings</strong>: The user will share the same speed limit settings with the affiliated group.</li>
      <li><strong>Constant</strong>: A fixed, constant speed limit will be applied to the user or group members. Upload and download speed limits can be specified in the fields to the left.</li>
      <li><strong>Customized</strong>: Two different speed limits can be specified and applied to the user or group members according to a schedule. Click <strong>Customize</strong> to modify the speed limit settings and set a schedule.</li>
    </ul>
  </li>
 <li>Click <b>Apply</b>.</li> 

</ol>
<div class="section">
  <h4>Note:</h4>
    <p>The <strong>Result (UL/DL)</strong> section displays the user's actual upload and download limit according to his individual and group settings. For example, if a user "Achilles" has an individual download limit of 100 KB/s, but belongs to a user group with a download limit of 500 KB/s, then the <strong>Result (UL/DL)</strong> section will display "0/500".</p>
</div>

</body>
</html>
