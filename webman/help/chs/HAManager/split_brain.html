<!DOCTYPE html>
<html class="img-no-display">
 <head>
<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>High Availability</title>


 </head>
 <body>
<h2>Split-brain</h2>

<p>High-availability 集群正常运作时，仅会有一台成员服务器作为活动服务器。在此情况下，无源服务器将通过 Heartbeat 连接和数据连接来检测活动服务器的状态。</p>

<p>当所有 Heartbeat 和数据连接丢失时，两个服务器皆会尝试作用为活动服务器。这种情形称为“Split-brain”错误。在此情况下，至 high-availability 集群的 IP 地址的连接将被重新导向到两台服务器之一，不一致的数据可在两台服务器上更新或写入。</p>
        
<p>当任何一个 Heartbeat 或数据重新连接后，系统将检测 split-brain 和两台服务器之间的数据不一致，并进入 high-availability 安全模式。</p> 

       
<h4>当 split-brain 错误发生时：</h4>
	<ol>
<li>两台服务器上的服务和 high-availability 集群的 IP 地址在 split-brain 错误解决之前无法使用。</li>
	<li>两台服务器进入 high-availability 安全模式后，在左侧面板中将出现名为 <strong>Split-brain</strong> 的新选项卡。在此选项卡中将列示以下信息：两台服务器上共享文件夹中文件的差异、此服务器成为活动服务器的时间以及 iSCSI Target 连接信息。所有其它的选项卡将仍为只读。</li>
<li>在 high-availability 安全模式下，File Station 将处于只读模式，但您可下载或查看文件。</li>
<li>在<b>概述</b>选项卡中，您只能选择解决 split-brain 错误或关闭当前登录服务器。若要解决 split-brain 错误，请执行以下操作之一：
       <ul>
<li>选择一个服务器作为 high-availability 集群的活动服务器，将另一个选择为无源服务器。这两台服务器重新启动后，活动服务器中所有不同的数据和设置将同步到无源服务器。请注意，split-brain 错误过程中无源服务器上更新的数据将丢失。</li>
<li>选择一台服务器作为 high-availability 集群的活动服务器，并取消绑定另一台服务器。两台服务器都重启后，活动服务器将保留在 high-availability 集群中，取消绑定的服务器将保留其数据并回到<b>独立</b>状态。请注意，需全面复制才能在今后绑定新的无源服务器。</li>
<li>取消绑定两台服务器，保留其具体数据，并让其都恢复到<b>独立</b>状态。</li>
       </ul>
       </li>
	</ol>
    <div class="section">
<h4>注：</h4>
    <ul>
<li>共享文件夹中的文件越多，列示差异所需的时间越长。</li>
<li>在选择活动/无源服务器之前，请确认两台服务器均已开机。</li>
    </ul>
    </div>

 </body>
</html>
