<!DOCTYPE html>
<html class="img-no-display">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<title>FTP/FTPS</title>


<link href="../../help.css" type="text/css" rel="stylesheet" />
<link href="../../scrollbar/flexcroll.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../../scrollbar/flexcroll.js"></script>
<script type="text/javascript" src="../../scrollbar/initFlexcroll.js"></script>
</head>
<body>
<h2>FTP/FTPS</h2>

<p>在<strong>控制面板</strong> &gt; <strong>文件服务</strong> &gt; <strong>FTP</strong> 中，您可启用 FTP 服务来让客户端访问系统中的文件夹和数据。启用 FTP 前，先确认以下路由器的 TCP 端口被转发到 DiskStation 设备:21（默认控制连接）、20（主动模式的数据连接）、55536-55567（被动模式的数据连接）。</p>

<h4>若要启用 FTP 服务：</h4>
<ol>
<li>请启用下列选项之一：
	<ul>
		<li><b>启用 FTP 服务（无加密）：</b>此选项是用于传输文件的标准网络协议。FTP 不提供任何加密来保护传输会话的信息，如密码、用户名或文件。但传输速度较快，且所需系统资源较少。</li>
		<li><b>启用 FTP SSL/TLS 加密服务（FTPS）：</b>此选项是延续标准 FTP，并额外支持传输层安全性（TLS）和安全套接字层（SSL）加密协议的，将保护传输会话中的信息，如密码、用户名或文件。但由于加密，传输速度较慢且消耗的系统资源较多。</li>
	</ul>
</li>
<li>单击<b>应用</b>。</li>
</ol>


<h3>超时</h3>
<p>FTP 服务器将在指定的一段时间后，断开与空闲用户的连接。</p>


<h3>FTP 服务的端口号设置</h3>
<p>此区域可让您指定 FTP 控制通道所用的端口。</p>
<div class="section">
<h4>注：</h4>
<p>FTP 控制通道的默认端口号为 21。您可以将其设置为 1 至 65535，但不可为下列编号：20、22、23、25、80、110、137、138、139、143、199、443、445、515、543、548、587、873、993、995、3306、3689、5000、5001、5005、5006、5335、5432、6881、8080、7000、7001、8081、9997、9998、9999、50001、50002 以及 eMule 默认端口：4662（TCP）、4672（UDP）。</p>
</div>


<h3>被动 FTP 的端口范围</h3>
<p>此区域可让您指定用于被动 FTP 连接的端口范围。您可以使用默认的端口范围或指定一个自定义范围。端口范围可设置在 1025 至 65535 间，并可涵盖多达 128 个端口。</li>
</p>


<h3>在 PASV 模式下回报外部 IP</h3>
<p>本功能选项启用后，服务器将会回报外部 IP 地址给 FTP 客户端。回报的 IP 地址将显示在 FTP 客户端的连接日志中。启用后，您可以选择自动检测 DiskStation 的外部 IP 地址或手动输入外部 IP 地址。</p>
<p>此选项只有在 DiskStation 架设于 NAT 且 FTP 客户端与 DiskStation 属于不同的子网时才能作用。在多数情况下不需要启用此选项，但如果当 FTP 客户端无法连接到 DiskStation 时，您可启用此选项并重试。</p>
<h3>启用 FXP</h3>
<p>FXP 支持 File eXchange Protocol（文件交换协议）。启用此选项后，FTP 服务将支持服务器对服务器的文件传输功能。</p>

<h3>启用 FIPS 加密模块</h3>
<p>在使用 OpenSSL FIPS 140-2 验证加密模块（证书 #1747）的 FIPS 服务上支持 FIPS。通过启用此选项，FTPS 服务将使用其他安全加密算法来提供更安全的会话。</p>


<h3>支持 ASCII 传送模式 </h3>
<p>启用此选项可支持 ASCII 传输模式，让 DiskStation 通过 FTP 正常传输 ASCII 格式的纯文本文件。</p>


<h3>UTF-8 编码</h3>
<p>此选项可有助于 FTP 客户端正确显示和处理带多语言文件名的文件。要满足各种 FTP 客户端的需要，提供了以下三个选项：
<ul>
<li><strong>禁用</strong>：不使用 UTF-8 编码。此选项可让客户端将 Windows 文件资源管理器用作 FTP 客户端来上传/下载文件带多语言文件名的文件。不建议常规使用。</li>
<li><strong>自动</strong>：让 DSM 自动确定如何处理 UTF-8 编辑。不建议将此选项作常规使用。</li>
<li><strong>强制</strong>：强制使用 UTF-8 编码。如果您已启用 FTP 客户端上的 UTF-8 编码，但它仍不能正确显示和处理带多语言文件名的文件，则选择此选项。</li>
</ul>

<h3>连接限制</h3>
<p>此区域包括下列选项。</p>

<ul>
<li><strong>限制每个 IP 的连接数目：</strong>启用此功能可限制每个 IP 来源的最大连接数目。此功能与 <b>FTP 带宽限制</b>同时启用可对带宽进行有效管理。</li>
<li><strong>启用 FTP 带宽限制：</strong>启用此功能可限制单一 FTP 连接的带宽。</li>
</ul>

<div class="section">

<h4>注：</h4>
<ul>
<li>&ldquo;guest&rdquo;帐号无法通过 FTP 登录服务器。</li>
<li>用户计算机上的代码页 (codepage) 设置，必须与 DiskStation 一致，才可以正确地访问数据。</li>
<li>在部分特定机型上，FTP 服务支持使用 SSL 或 TLS 连接。</li>
<li>FTP 客户端以及两个 FTP 服务器的防火墙设置应正确配置，否则 FXP 功能可能无法正常运作。</li>
<li>部分 FTP 客户端（如那些使用 Internet Explorer 8 或 9 的客户端）需要使用其用户名和密码登录，例如：<i>ftp://username:password@your.ftp.com</i>。</li>
</ul>
</div>




</body>
</html>
