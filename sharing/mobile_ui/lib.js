/* Copyright (c) 2016 Synology Inc. All rights reserved. */

angular.apply=function(h,g,c){if(c){angular.apply(h,c)}if(h&&g&&typeof g=="object"){for(var f in g){if(g.hasOwnProperty(f)){h[f]=g[f]}}}return h};var baseObj={isEmpty:function(a,b){return a===null||a===undefined||((angular.isArray(a)&&!a.length))||(!b?a==="":false)},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?!!a.tagName:false},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isDate:function(a){return window.toString.apply(a)==="[object Date]"},isPrimitive:function(a){return angular.isString(a)||angular.isNumber(a)||angular.isBoolean(a)},isIterable:function(a){if(angular.isArray(a)||a.callee){return true}if(/NodeList|HTMLCollection/.test(window.toString.call(a))){return true}return((typeof a.nextNode!="undefined"||a.item)&&angular.isNumber(a.length))},iterate:function(c,b,a){if(angular.isEmpty(c)){return}if(angular.isIterable(c)){angular.each(c,b,a);return}else{if(typeof c=="object"){for(var d in c){if(c.hasOwnProperty(d)){if(b.call(a||c,d,c[d],c)===false){return}}}}}},each:function(e,d,c){if(angular.isEmpty(e,true)){return}if(!angular.isIterable(e)||angular.isPrimitive(e)){e=[e]}for(var b=0,a=e.length;b<a;b++){if(d.call(c||e[b],e[b],b,e)===false){return b}}},urlAppend:function(b,a){if(!angular.isEmpty(a)){return b+(b.indexOf("?")===-1?"?":"&")+a}return b},urlEncode:function(d,e){var a,c=[],b=encodeURIComponent;angular.iterate(d,function(g,f){a=angular.isEmpty(f);angular.each(a?g:f,function(h){c.push("&",b(g),"=",(!angular.isEmpty(h)&&(h!=g||!a))?(angular.isDate(h)?angular.encode(h).replace(/"/g,""):b(h)):"")})});if(!e){c.shift();e=""}return e+c.join("")},urlDecode:function(b,c){if(angular.isEmpty(b)){return{}}var f={},h=b.split("&"),g=decodeURIComponent,d,a;angular.each(h,function(e){e=e.split("=");d=g(e[0]);a=g(e[1]);f[d]=c||!f[d]?a:[].concat(f[d]).concat(a)});return f},htmlEncode:function(a){return !a?a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(a){return !a?a:String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},isNative:function(){var a=null;return function(){if(a===null){a=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return a}},encode:function(a){return JSON.stringify(a)},decode:function(a){return JSON.parse(a)},copyTo:function(c,b,a){if(typeof a=="string"){a=a.split(/[,;\s]/)}angular.each(a,function(d){if(b.hasOwnProperty(d)){c[d]=b[d]}});return c},createNameSpace:function(){var a=arguments.length,i=0,c,b,g,f,h,d;for(;i<a;++i){g=arguments[i];f=arguments[i].split(".");d=window[f[0]];if(d===undefined){d=window[f[0]]={}}h=f.slice(1);c=h.length;for(b=0;b<c;++b){d=d[h[b]]=d[h[b]]||{}}}return d},createInjectableFn:function(b){if(angular.isArray(b)){var a;a=b[b.length-1];a.$inject=b.splice(0,b.length-1);return a}return b},initInjectModules:function(b,c){function a(e){for(var d=0;d<e.length;d++){angular.module(e[d],[])}}a(c);return b.concat(c)}};angular.apply(angular,baseObj);angular.isSecure=/^https/i.test(window.location.protocol);angular.apply(String,{format:function(a){var b=arguments;return a.replace(/\{(\d+)\}/g,function(d,c){return b[1*c+1]})}});angular.createNameSpace("SYNO.SDS.Session");_S=function(a){return SYNO.SDS.Session[a]};angular.module("Component",[]).directive("textfield",function(){return{restrict:"A",link:function(c,b,a,d){b.bind("blur",function(e){b.parent().removeClass("item-active")});b.bind("focus",function(e){b.parent().addClass("item-active")})}}});angular.createNameSpace("Ext.util");Ext.util.Cookies={set:function(p,n){var j=arguments;var k=arguments.length;var f=(k>2)?j[2]:null;var l=(k>3)?j[3]:"/";var o=(k>4)?j[4]:null;var m=(k>5)?j[5]:false;document.cookie=p+"="+window.escape(n)+((f===null)?"":("; expires="+f.toGMTString()))+((l===null)?"":("; path="+l))+((o===null)?"":("; domain="+o))+((m===true)?"; secure":"")},get:function(k){var f=k+"=";var i=f.length;var h=document.cookie.length;var j=0;var l=0;while(j<h){l=j+i;if(document.cookie.substring(j,l)==f){return Ext.util.Cookies.getCookieVal(l)}j=document.cookie.indexOf(" ",j)+1;if(j===0){break}}return null},clear:function(b){if(Ext.util.Cookies.get(b)){document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length}return window.unescape(document.cookie.substring(c,d))}};SYNO.Element=function(){return{getStyles:function(c){if(!c){return}var a={},d=window.getComputedStyle(c),b;for(b=1;b<arguments.length;b++){a[arguments[b]]=d[arguments[b]]}return a},setStyles:function(b,c){if(!b){return}for(var a in c){if(c.hasOwnProperty(a)){b.style[a]=c[a]}}return b}}}();SYNO.TextMetrics=function(){var a;return{measure:function(b,c,d){if(!a){a=this.createInstance(b)}a.bind(b);a.setFixedWidth(d||"auto");return a.getSize(c)},ellipsis:function(d,q,m){var k=q,o,n,g,l,c,h=1,b=false,f=d.clientWidth,p,j="...",e=3;if(m){q=k.substr(0,k.length-m);o=k.substr(k.length-m)}p=this.measure(d,j).width;l=this.measure(d,q).width;c=this.measure(d,o).width;g=l+c;while(g>f&&h<100){b=true;q=k.substr(0,k.length-m-e-h);n=this.measure(d,q).width;g=n+p+c;h++}return q+((b)?j:"")+o},createInstance:function(){var b=document.createElement("div");b.style.display="inline-block";b.className="text-metrics-ghost";document.body.appendChild(b);return{bind:function(c){SYNO.Element.setStyles(b,SYNO.Element.getStyles(c,"fontSize","fontWeight","lineHeight","letterSpacing","whitepace"))},setFixedWidth:function(c){b.style.width=c},getWidth:function(c){return this.getSize(c).width},getHeight:function(c){return this.getSize(c).height},getSize:function(e){b.innerHTML=e;var c=b.clientWidth,d=b.clientHeight;b.innerHTML="";return{width:c,height:d}}}}}}();angular.module("UploaderService",["WebAPIService"]).factory("Uploader",["WebAPI",function(d){var h,i,b=false,n,j;function c(s,u,t){h=s;i=0}function l(u){u.status="PROCESSING";var t={api:"SYNO.FileStation.Upload",method:"upload",version:2,html5upload:true,timeout:null,uploadData:{},callback:function(v,x,w){if(v){f(u)}else{g(u,x)}},onprogress:function(x){var w=x.total,v=x.loaded;u.progress=Math.min(v/w,1)*100}};if(u.sharing_id){t.headers={"X-SYNO-SHARING":_S("sharing_id")}}for(var s in u.params){if(u.params.hasOwnProperty(s)){t.uploadData[s]=u.params[s]}}t.uploadData.file=u.file;u.webapi=d.sendWebAPI(t)}function q(){if(i<h.length){e(h[i])}else{if(n){n.call(j||window)}}}function p(){i++;q()}function g(s,t){if(s.status!=="CANCEL"){s.status="FAIL";t=t||{};s.error=t.error}p()}function f(s){s.status="SUCCESS";s.progress=100;p()}function k(s){var t=(s.status=="PROCESSING");s.status="CANCEL";if(t){if(s.webapi){s.webapi.abort();s.webapi=null}}}function a(s){if(b){}else{l(s)}}function e(t){if(t.status!=="NOT_STARTED"){p();return}var u={path:t.params.path,filename:t.name,size:t.size,overwrite:t.params.overwrite},s={api:"SYNO.FileStation.CheckPermission",method:"write",version:3,params:u,callback:function(v,x,w){if(v){if(!x.blSkip){a(t)}else{f(t)}}else{g(t)}}};if(t.params.sharing_id){u=angular.apply(u,{sharing_id:t.params.sharing_id,uploader_name:t.params.uploader_name});delete u.path;s.params=u;s.headers={"X-SYNO-SHARING":_S("sharing_id")}}d.sendWebAPI(s)}function m(t,u,v,s){if(!angular.isArray(t)){t=[t]}if(!u){t=r(t)}c(t);q();n=v;j=s}function o(t){if(!angular.isArray(t)){t=[t]}for(var s=0;s<t.length;s++){k(t[s])}}function r(v,x,t){var u=[],s;for(s=0;s<v.length;s++){var w={overwrite:true,sharing_id:t.sharing_id,uploader_name:t.uploader_name,size:angular.isNumber(v[s].size)?v[s].size:v[s].fileSize||0};if(v[s].lastModifiedDate){w.mtime=v[s].lastModifiedDate.getTime()}u.push({params:w,name:v[s].name||v[s].fileName,ellipsisName:v[s].name||v[s].fileName,size:angular.isNumber(v[s].size)?v[s].size:v[s].fileSize||0,file:v[s],ext_path:SYNO.webfm.utils.getFileExtIcon(v[s].name||v[s].fileName,64,x),progress:0,status:"NOT_STARTED"})}return u}return{transformFileList:r,uploadFiles:m,cancelTasks:o}}]);var _urlAppend=angular.urlAppend;angular.urlAppend=function(h,g,e){var f=angular.urlDecode(g);e=typeof e!=="undefined"?e:true;if(e&&h.indexOf("SynoToken")===-1&&!angular.isEmpty(_S("SynoToken"))){f.SynoToken=decodeURIComponent(_S("SynoToken"))}if(e&&h.indexOf("_sharing_id")===-1&&!angular.isEmpty(_S("sharing_id"))){f._sharing_id=JSON.stringify(_S("sharing_id"))}return _urlAppend(h,angular.urlEncode(f))};var webapi=function(k,h,d){var f={"SYNO.API.Info":{path:"query.cgi",minVersion:1,maxVersion:1}},c="webapi",j=false,i=[];function l(s){var q={};for(var r in s){if(s.hasOwnProperty(r)){q[r]=angular.encode(s[r])}}return q}function p(r,u){var t=f[r],s,q;if(!angular.isObject(t)){return t}s=t.path+"/";if("SYNO.Entry.Request"===r&&angular.isObject(u)&&angular.isArray(u.compound)){q=[];u.compound.each(function(v){if(angular.isString(v.api)){q.push(v.api)}});s+=q.join()}else{s+=r}return angular.apply({},{},t)}function b(y,q,A,z,r){var v,x,u,s;if(angular.isObject(y)){x=y;z=q;r=A;if(x.webapi){x=x.webapi}if(angular.isObject(x.compound)){if(!angular.isArray(x.compound.params)){console.error("params must be array",x.compound.params);return}y="SYNO.Entry.Request";q="request";A=1;var t=x.compound.params||[],B=[];for(var w=0;w<t.length;w++){B.push(angular.apply({api:t[w].api,method:t[w].method,version:t[w].version},t[w].params))}u={stop_when_error:angular.isBoolean(x.compound.stopwhenerror)?x.compound.stopwhenerror:false,mode:angular.isString(x.compound.mode)?x.compound.mode:"sequential",compound:B}}else{y=x.api;q=x.method;A=x.version;u=x.params}}v=p(y,u);s=c+"/"+v.path;if(angular.isString(r)&&!angular.isEmpty(r)){s+="/"+window.encodeURIComponent(r)}if(!q||!A){return s}x={api:y,method:q,version:A};if(u){angular.apply(x,("JSON"===v.requestFormat)?l(u):u)}return angular.urlAppend(s,angular.urlEncode(x),z)}function a(s){var t={"X-Requested-With":"XMLHttpRequest"};var u={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};if(s.useDefaultXhrHeader!==false){s.headers=angular.apply(s.headers||{},t)}if(s.useDefaultPostHeader!==false){s.headers=angular.apply(s.headers||{},u)}s.headers=s.headers||{};s.headers["X-SYNO-TOKEN"]=_S("SynoToken");function q(x){var w=x.data;if(s.userInfo&&s.userInfo.cb){s.userInfo.cb.call(s.userInfo.scope||window,w.success,w.data||w,s.params,s)}}function v(w){h.reject(w);if(s.userInfo&&s.userInfo.cb){s.userInfo.cb.call(s.userInfo.scope||window,false)}}var r;if(!s.html5upload){r=k({method:"POST",url:s.url,transformRequest:function(x){var y=[];for(var w in x){if(x.hasOwnProperty(w)){y.push(encodeURIComponent(w)+"="+encodeURIComponent(x[w]))}}return y.join("&")},data:s.params,headers:s.headers});r.then(q,v)}else{r=d.upload({url:s.url,data:s.uploadData,headers:s.headers});r.then(q,v,s.onprogress)}return r}function o(B,y,v,q){var t,x,w,s=q.reqObj,r=q.reqEnc,A=function(F){for(var E in F){if(F.hasOwnProperty(E)){return false}}return true};if(!B){return Ext.Ajax.request(s)}SYNO.Encryption.CipherKey=y.cipherkey;SYNO.Encryption.RSAModulus=y.public_key;SYNO.Encryption.CipherToken=y.ciphertoken;SYNO.Encryption.TimeBias=y.server_time-Math.floor(+new Date()/1000);if(angular.isEmpty(s.params.compound)){t=SYNO.Encryption.EncryptParam(angular.copyTo({},s.params,r));for(x=0;x<r.length;x++){delete s.params[r[x]]}s.params=angular.apply(s.params,t);return a(s)}else{var C=angular.apply({},s.userInfo.params);var z=this,u=5;if(Ext.isIE6||Ext.isIE7||Ext.isIE8){u=1}x=0;var D=function(){for(;x<C.compound.length;x++){var F=angular.apply({},C.compound[x],C.compound[x].params);var E={};t={};E=SYNO.API.EncodeParams(angular.copyTo({},F,r));if(!A(E)){t=SYNO.Encryption.EncryptParam(E)}for(w=0;w<r.length;w++){delete F[r[w]]}C.compound[x]=angular.apply(F,t);if(x+1===C.compound.length){angular.apply(s.params,SYNO.API.EncodeParams(C));z.sendRequest(s);return}else{if(x%u===0){x++;window.setTimeout(D,80);return}}}};D()}}function m(z,t,u,r,I,C,s){var w,y,J,A=null,G;var B;if(angular.isObject(z)){y=z;if(y.webapi){y=y.webapi}r={};angular.apply(r,y);delete r.api;delete r.api;delete r.method;delete r.version;delete r.scope;delete r.callback;C=y.callback||z.callback;s=y.scope||z.scope;if(angular.isObject(y.compound)){G=y.compound}else{z=y.api;t=y.method;u=y.version;I=y.params}}if(r&&r.compound){G=r.compound}if(G){if(!angular.isArray(G.params)){console.error("params must be array",G.params);return}z="SYNO.Entry.Request";t="request";u=1;var H=G.params||[],q=[];for(var E=0;E<H.length;E++){q.push(angular.apply({api:H[E].api,method:H[E].method,version:H[E].version},H[E].params))}I={stop_when_error:angular.isBoolean(G.stopwhenerror)?G.stopwhenerror:false,mode:angular.isString(G.mode)?G.mode:"sequential",compound:q}}w=p(z,I);if(!w){console.error("No Such API: "+z);B={error:{code:101}};if(angular.isFunction(C)){C.call(s||window,false,B,I,r)}return}if(u<w.minVersion||w.maxVersion<u){console.warn(String.format("WARN: API({0}) version ({1}) is higher then server ({2})",z,u,w.version))}if(!angular.isObject(I)&&!angular.isEmpty(I)){console.error("params must be object, ",I);return}if(!angular.isSecure&&angular.isArray(r.encryption)){A=angular.apply([],r.encryption)}delete r.encryption;var F={api:z,method:t,version:u};var v=c+"/"+w.path,x;if(r&&r.url){var D=r.url;x=angular.urlDecode(D.substr(D.indexOf("?")+1));if(x&&x.api&&x.method&&x.version){delete x.api;delete x.method;delete x.version;delete x.SynoToken;F=x;v=r.url}}if(r&&angular.isElement(r.form)&&(/multipart\/form-data/i.test(r.form.enctype))){v=b(F);F={}}else{if(angular.isObject(r)&&true===r.html5upload){v=b(angular.apply({params:I},F));F={};r.method="POST"}}J=angular.apply((r||{}),{url:v,params:angular.apply({},F,("JSON"===w.requestFormat)?l(I):I),userInfo:{params:I,cb:C,scope:s}});if(!angular.isEmpty(A)){return m("SYNO.API.Encryption","getinfo",1,{appWindow:J.appWindow||undefined,reqObj:J,reqEnc:A},{format:"module"},o,this)}return a(J)}function n(q){if(j===true){return m(q)}else{i.push(q)}}function e(q,t,s){if(q){j=true;f=angular.apply(f,t);if(i.length>0){for(var r=0;r<i.length;r++){n(i[r])}}}else{console.error("get query failed")}}function g(){return m("SYNO.API.Info","query",1,{},{query:"all"},e)}return{sendWebAPI:n,queryWebAPI:g}};angular.module("WebAPIService",["ngFileUpload"]).factory("WebAPI",["$http","$q","Upload",webapi]);angular.createNameSpace("SYNO.API");SYNO.API.GetErrors=function(){var a={};a.minCustomeError=400;a.common={0:_T("common","commfail"),100:_T("common","error_system"),101:"Bad Request",102:"No Such API",103:"No Such Method",104:"Not Supported Version",105:_T("error","error_privilege_not_enough"),106:_T("error","error_timeout"),107:_T("login","error_interrupt"),108:_T("user","user_file_upload_fail"),109:_T("error","error_error_system"),110:_T("error","error_error_system"),111:_T("error","error_error_system"),112:"Stop Handling Compound Request",113:"Invalid Compound Request",114:_T("error","error_invalid"),115:_T("error","error_invalid"),116:_JSLIBSTR("uicommon","error_demo"),117:_T("error","error_error_system"),118:_T("error","error_error_system"),122:_T("error","error_privilege_not_enough"),123:_T("error","error_privilege_not_enough"),124:_T("error","error_privilege_not_enough"),125:_T("error","error_timeout"),126:_T("error","error_privilege_not_enough"),127:_T("error","error_privilege_not_enough")};a.core={402:_T("share","no_such_share"),403:_T("error","error_invalid"),404:_T("error","error_privilege_not_enough"),1101:_T("error","error_subject"),1102:_T("firewall","firewall_restore_failed"),1103:_T("firewall","firewall_block_admin_client"),1104:_T("firewall","firewall_rule_exceed_max_number"),1105:_T("firewall","firewall_rule_disable_fail"),1198:_T("common","version_not_support"),1201:_T("error","error_subject"),1202:_T("firewall","firewall_tc_ceil_exceed_system_upper_bound"),1203:_T("firewall","firewall_tc_max_ceil_too_large"),1204:_T("firewall","firewall_tc_restore_failed"),1301:_T("error","error_subject"),1302:_T("firewall","firewall_dos_restore_failed"),1402:_T("service","service_ddns_domain_load_error"),1410:_T("service","service_ddns_operation_fail"),1500:_T("common","error_system"),1501:_T("common","error_apply_occupied"),1502:_T("routerconf","routerconf_external_ip_warning"),1503:_T("routerconf","routerconf_require_gateway"),1510:_T("routerconf","routerconf_update_db_failed"),1521:_T("routerconf","routerconf_exceed_singel_max_port"),1522:_T("routerconf","routerconf_exceed_combo_max_port"),1523:_T("routerconf","routerconf_exceed_singel_range_max_port"),1524:_T("routerconf","routerconf_exceed_max_rule"),1525:_T("routerconf","routerconf_port_conflict"),1526:_T("routerconf","routerconf_add_port_failed"),1527:_T("routerconf","routerconf_apply_failed"),1530:_T("routerconf","routerconf_syntax_version_error"),1600:_T("error","error_error_system"),1601:_T("error","error_error_system"),1602:_T("error","error_error_system"),1701:_T("error","error_port_conflict"),1702:_T("error","error_file_exist"),1703:_T("error","error_no_path"),1704:_T("error","error_error_system"),1706:_T("error","error_volume_ro"),1903:_T("error","error_port_conflict"),1904:_T("error","error_port_conflict"),1905:_T("ftp","ftp_annoymous_root_share_invalid"),1951:_T("error","error_port_conflict"),2001:_T("error","error_error_system"),2002:_T("error","error_error_system"),2101:_T("error","error_error_system"),2102:_T("error","error_error_system"),2201:_T("error","error_error_system"),2202:_T("error","error_error_system"),2301:_T("error","error_invalid"),2303:_T("error","error_port_conflict"),2331:_T("nfs","nfs_key_wrong_format"),2332:_T("user","user_file_upload_fail"),2371:_T("error","error_mount_point_nfs"),2372:_T("error","error_hfs_plus_mount_point_nfs"),2401:_T("error","error_error_system"),2402:_T("error","error_error_system"),2403:_T("error","error_port_conflict"),2500:_T("error","error_unknown_desc"),2502:_T("error","error_invalid"),2503:_T("error","error_error_system"),2504:_T("error","error_error_system"),2505:_T("error","error_error_system"),2601:_T("network","domain_name_err"),2602:_T("network","domain_dns_name_err"),2603:_T("network","domain_kdc_ip_error"),2604:_T("network","error_badgname"),2605:_T("network","domain_unreachserver_err"),2606:_T("network","domain_port_unreachable_err"),2607:_T("network","domain_password_err"),2608:_T("network","domain_acc_revoked_ads"),2609:_T("network","domain_acc_revoked_rpc"),2610:_T("network","domain_acc_err"),2611:_T("network","domain_notadminuser"),2612:_T("network","domain_change_passwd"),2613:_T("network","domain_check_kdcip"),2614:_T("network","domain_error_misc_rpc"),2615:_T("network","domain_join_err"),2616:_T("directory_service","warr_enable_samba"),2702:_T("network","status_connected"),2703:_T("network","status_disconnected"),2704:_T("common","error_occupied"),2705:_T("common","error_system"),2706:_T("ldap_error","ldap_invalid_credentials"),2707:_T("ldap_error","ldap_operations_error"),2708:_T("ldap_error","ldap_server_not_support"),2709:_T("domain","domain_ldap_conflict"),2710:_T("ldap_error","ldap_operations_error"),2712:_T("ldap_error","ldap_no_such_object"),2713:_T("ldap_error","ldap_protocol_error"),2714:_T("ldap_error","ldap_invalid_dn_syntax"),2715:_T("ldap_error","ldap_insufficient_access"),2716:_T("ldap_error","ldap_insufficient_access"),2717:_T("ldap_error","ldap_timelimit_exceeded"),2718:_T("ldap_error","ldap_inappropriate_auth"),2719:_T("ldap_error","ldap_smb2_enable_warning"),2799:_T("common","error_system"),2800:_T("error","error_unknown_desc"),2801:_T("error","error_unknown_desc"),2900:_T("error","error_unknown_desc"),2901:_T("error","error_unknown_desc"),2902:_T("relayservice","relayservice_err_network"),2903:_T("relayservice","error_alias_server_internal"),2904:_T("relayservice","relayservice_err_alias_in_use"),2905:_T("pkgmgr","myds_error_account"),2906:_T("relayservice","error_alias_used_in_your_own"),3000:_T("error","error_unknown_desc"),3001:_T("error","error_unknown_desc"),3002:_T("relayservice","relayservice_err_resolv"),3003:_T("relayservice","myds_server_internal_error"),3004:_T("error","error_auth"),3005:_T("relayservice","relayservice_err_alias_in_use"),3006:_T("relayservice","myds_exceed_max_register_error"),3009:_T("error","error_unknown_desc"),3010:_T("myds","already_logged_in"),3013:_T("myds","error_migrate_authen"),3106:_T("user","no_such_user"),3107:_T("user","error_nameused"),3108:_T("user","error_nameused"),3109:_T("user","error_disable_admin"),3110:_T("user","error_too_much_user"),3111:_T("user","homes_not_found"),3112:_T("common","error_apply_occupied"),3113:_T("common","error_occupied"),3114:_T("user","error_nameused"),3115:_T("user","user_cntrmvdefuser"),3116:_T("user","user_set_fail"),3117:_T("user","user_quota_set_fail"),3118:_T("common","error_no_enough_space"),3119:_T("user","error_home_is_moving"),3191:_T("user","user_file_open_fail"),3192:_T("user","user_file_empty"),3193:_T("user","user_file_not_utf8"),3194:_T("user","user_upload_no_volume"),3202:_T("common","error_occupied"),3204:_T("group","failed_load_group"),3205:_T("group","failed_load_group"),3206:_T("group","error_nameused"),3207:_T("group","error_nameused"),3208:_T("group","error_badname"),3209:_T("group","error_toomanygr"),3210:_T("group","error_rmmember"),3221:_T("share","error_too_many_acl_rules"),3299:_T("common","error_system"),3301:_T("share","share_already_exist"),3302:_T("share","share_acl_volume_not_support"),3303:_T("share","error_encrypt_reserve"),3304:_T("share","error_volume_not_found"),3305:_T("share","error_badname"),3308:_T("common","err_pass"),3309:_T("share","error_toomanysh"),3313:_T("share","error_volume_not_found"),3314:_T("share","error_volume_read_only"),3319:_T("share","error_nameused"),3320:_T("share","share_space_not_enough"),3321:_T("share","error_too_many_acl_rules"),3322:_T("share","mount_point_not_empty"),3323:_T("error","error_mount_point_change_vol"),3324:_T("error","error_mount_point_rename"),3326:_T("share","error_key_file"),3327:_T("share","share_conflict_on_new_volume"),3328:_T("share","get_lock_failed"),3329:_T("share","error_toomanysnapshot"),3330:_T("share","share_snapshot_busy"),3332:_T("backup","is_backing_up_restoring"),3334:_T("share","error_mount_point_restore"),3335:_T("share","share_cannot_move_fstype_not_support"),3336:_T("share","share_cannot_move_replica_busy"),3337:_T("snapmgr","status_sync_desc"),3338:_T("share","error_mounted_encrypt_restore"),3340:_T("snapmgr","snap_restore_share_conf_err"),3341:_T("snapmgr","err_quota_is_not_enough"),3400:_T("error","error_error_system"),3401:_T("error","error_error_system"),3402:_T("error","error_error_system"),3403:_T("app_privilege","error_no_such_user_or_group"),3500:_T("error","error_invalid"),3501:_T("common","error_badport"),3502:_T("ftp","ftp_port_in_used"),3510:_T("error","error_invalid"),3511:_T("app_port_alias","err_port_dup"),3550:_T("volume","volume_no_volumes"),3551:_T("error","error_no_shared_folder"),3552:String.format(_T("volume","volume_crashed_service_disable"),_T("common","web_station")),3553:_T("volume","volume_expanding_waiting"),3554:_T("error","error_port_conflict"),3555:_T("common","error_badport"),3603:_T("volume","volume_share_volumeno"),3604:_T("error","error_space_not_enough"),3605:_T("usb","usb_printer_driver_fail"),3606:_T("login","error_cantlogin"),3607:_T("common","error_badip"),3608:_T("usb","net_prntr_ip_exist_error"),3609:_T("usb","net_prntr_ip_exist_unknown"),3610:_T("common","error_demo"),3611:_T("usb","net_prntr_name_exist_error"),3700:_T("error","error_invalid"),3701:_T("status","status_not_available"),3702:_T("error","error_invalid"),3710:_T("status","status_not_available"),3711:_T("error","error_invalid"),3712:_T("cms","fan_mode_not_supported"),3720:_T("status","status_not_available"),3721:_T("error","error_invalid"),3730:_T("status","status_not_available"),3731:_T("error","error_invalid"),3740:_T("status","status_not_available"),3741:_T("error","error_invalid"),3750:_T("status","status_not_available"),3751:_T("error","error_invalid"),3760:_T("status","status_not_available"),3761:_T("error","error_invalid"),3800:_T("error","error_invalid"),3801:_T("error","error_invalid"),4000:_T("error","error_invalid"),4001:_T("error","error_error_system"),4002:_T("dsmoption","error_format"),4003:_T("dsmoption","error_size"),4100:_T("error","error_invalid"),4101:_T("error","error_invalid"),4102:_T("app_port_alias","err_alias_refused"),4103:_T("app_port_alias","err_alias_used"),4104:_T("app_port_alias","err_port_used"),4300:_T("error","error_error_system"),4301:_T("error","error_error_system"),4302:_T("error","error_error_system"),4303:_T("error","error_invalid"),4304:_T("error","error_error_system"),4305:_T("error","error_error_system"),4306:_T("error","error_error_system"),4307:_T("error","error_error_system"),4308:_T("error","error_error_system"),4309:_T("error","error_invalid"),4310:_T("error","error_error_system"),4311:_T("network","interface_not_found"),4312:_T("tcpip","tcpip_ip_used"),4313:_T("tcpip","ipv6_ip_used"),4314:_T("tunnel","tunnel_conn_fail"),4315:_T("tcpip","ipv6_err_link_local"),4316:_T("network","error_applying_network_setting"),4317:_T("common","error_notmatch"),4319:_T("error","error_error_system"),4320:_T("vpnc","name_conflict"),4321:_T("service","service_illegel_crt"),4322:_T("service","service_illegel_key"),4323:_T("service","service_ca_not_utf8"),4324:_T("service","service_unknown_cipher"),4325:_T("vpnc","l2tp_conflict"),4326:_T("vpnc","vpns_conflict"),4340:_T("background_task","task_processing"),4350:_T("tcpip","ipv6_invalid_config"),4351:_T("tcpip","ipv6_router_bad_lan_req"),4352:_T("tcpip","ipv6_router_err_enable"),4353:_T("tcpip","ipv6_router_err_disable"),4354:_T("tcpip","ipv6_no_public_ip"),4370:_T("ovs","ovs_not_support_bonding"),4371:_T("ovs","ovs_not_support_vlan"),4372:_T("ovs","ovs_not_support_bridge"),4500:_T("error","error_error_system"),4501:_T("error","error_error_system"),4502:_T("pkgmgr","pkgmgr_space_not_ready"),4503:_T("error","volume_creating"),4504:_T("pkgmgr","error_sys_no_space"),4520:_T("error","error_space_not_enough"),4521:_T("pkgmgr","pkgmgr_file_not_package"),4522:_T("pkgmgr","broken_package"),4529:_T("pkgmgr","pkgmgr_pkg_cannot_upgrade"),4530:_T("pkgmgr","error_occupied"),4531:_T("pkgmgr","pkgmgr_not_syno_publish"),4532:_T("pkgmgr","pkgmgr_unknown_publisher"),4533:_T("pkgmgr","pkgmgr_cert_expired"),4534:_T("pkgmgr","pkgmgr_cert_revoked"),4535:_T("pkgmgr","broken_package"),4540:_T("pkgmgr","pkgmgr_file_install_failed"),4541:_T("pkgmgr","upgrade_fail"),4542:_T("error","error_error_system"),4543:_T("pkgmgr","pkgmgr_file_not_package"),4544:_T("pkgmgr","pkgmgr_pkg_install_already"),4545:_T("pkgmgr","pkgmgr_pkg_not_available"),4548:_T("pkgmgr","install_version_less_than_limit"),4549:_T("pkgmgr","depend_cycle"),4570:_T("common","error_invalid_serial"),4580:_T("pkgmgr","pkgmgr_pkg_start_failed"),4581:_T("pkgmgr","pkgmgr_pkg_stop_failed"),4590:_T("pkgmgr","invalid_feed"),4591:_T("pkgmgr","duplicate_feed"),4600:_T("error","error_error_system"),4601:_T("error","error_error_system"),4602:_T("notification","google_auth_failed"),4631:_T("error","error_error_system"),4632:_T("error","error_error_system"),4633:_T("error","error_error_system"),4634:_T("error","error_error_system"),4635:_T("error","error_error_system"),4661:_T("pushservice","error_update_ds_info"),4800:_T("error","error_invalid"),4801:_T("error","error_error_system"),4802:_T("error","error_error_system"),4803:_T("error","error_error_system"),4804:_T("error","error_error_system"),4900:_T("error","error_invalid"),4901:_T("error","error_error_system"),4902:_T("user","no_such_user"),4903:_T("report","err_dest_share_not_exist"),4904:_T("error","error_file_exist"),4905:_T("error","error_space_not_enough"),5000:_T("error","error_invalid"),5001:_T("error","error_invalid"),5002:_T("error","error_invalid"),5003:_T("error","error_invalid"),5004:_T("error","error_invalid"),5005:_T("syslog","err_server_disconnected"),5006:_T("syslog","service_ca_copy_failed"),5007:_T("syslog","service_ca_copy_failed"),5008:_T("error","error_invalid"),5009:_T("error","error_port_conflict"),5010:_T("error","error_invalid"),5011:_T("error","error_invalid"),5012:_T("syslog","err_name_conflict"),5100:_T("error","error_invalid"),5101:_T("error","error_invalid"),5102:_T("error","error_invalid"),5103:_T("error","error_invalid"),5104:_T("error","error_invalid"),5105:_T("error","error_invalid"),5106:_T("error","error_invalid"),5202:_T("update","error_apply_lock"),5203:_T("volume","volume_busy_waiting"),5205:_T("update","error_bad_dsm_version"),5206:_T("update","update_notice"),5207:_T("update","error_model"),5208:_T("update","error_apply_lock"),5211:_T("update","upload_err_no_space"),5213:_T("pkgmgr","error_occupied"),5214:_T("update","check_new_dsm_err"),5215:_T("error","error_space_not_enough"),5216:_T("error","error_fs_ro"),5217:_T("error","error_dest_no_path"),5219:_T("update","autoupdate_cancel_failed_running"),5220:_T("update","autoupdate_cancel_failed_no_task"),5221:_T("update","autoupdate_cancel_failed"),5222:_T("update","error_verify_patch"),5300:_T("error","error_invalid"),5301:_T("user","no_such_user"),5510:_T("service","service_illegel_crt"),5511:_T("service","service_illegel_key"),5512:_T("service","service_illegal_inter_crt"),5513:_T("service","service_unknown_cypher"),5514:_T("service","service_key_not_match"),5515:_T("service","service_ca_copy_failed"),5516:_T("service","service_ca_not_utf8"),5517:_T("certificate","inter_and_crt_verify_error"),5518:_T("certificate","not_support_dsa"),5519:_T("service","service_illegal_csr"),5600:_T("error","error_no_path"),5601:_T("file","error_bad_file_content"),5602:_T("error","error_error_system"),5603:_T("texteditor","LoadFileFail"),5604:_T("texteditor","SaveFileFail"),5605:_T("error","error_privilege_not_enough"),5606:_T("texteditor","CodepageConvertFail"),5607:_T("texteditor","AskForceSave"),5608:_WFT("error","error_encryption_long_path"),5609:_WFT("error","error_long_path"),5610:_WFT("error","error_quota_not_enough"),5611:_WFT("error","error_space_not_enough"),5612:_WFT("error","error_io"),5613:_WFT("error","error_privilege_not_enough"),5614:_WFT("error","error_fs_ro"),5615:_WFT("error","error_file_exist"),5616:_WFT("error","error_no_path"),5617:_WFT("error","error_dest_no_path"),5618:_WFT("error","error_testjoin"),5619:_WFT("error","error_reserved_name"),5620:_WFT("error","error_fat_reserved_name"),5621:_T("texteditor","exceed_load_max"),5703:_T("time","ntp_service_disable_warning"),5800:_T("error","error_invalid"),5801:_T("share","no_such_share"),5901:_T("error","error_subject"),5902:_T("firewall","firewall_vpnpassthrough_restore_failed"),5903:_T("firewall","firewall_vpnpassthrough_specific_platform"),6000:_T("error","error_error_system"),6001:_T("error","error_error_system"),6002:_T("error","error_error_system"),6003:_T("error","error_error_system"),6004:_T("common","loadsetting_fail"),6005:_T("error","error_subject"),6006:_T("error","error_service_start_failed"),6007:_T("error","error_service_stop_failed"),6008:_T("error","error_service_start_failed"),6009:_T("firewall","firewall_save_failed"),6010:_T("common","error_badip"),6011:_T("common","error_badip"),6012:_T("common","error_badip"),6013:_T("share","no_such_share"),6014:_T("cms","cms_no_volumes"),6200:_T("error","error_error_system"),6201:_WFT("error","error_acl_volume_not_support"),6202:_WFT("error","error_fat_privilege"),6203:_WFT("error","error_remote_privilege"),6204:_WFT("error","error_fs_ro"),6205:_WFT("error","error_privilege_not_enough"),6206:_WFT("error","error_no_path"),6207:_WFT("error","error_no_path"),6208:_WFT("error","error_testjoin"),6209:_WFT("error","error_privilege_not_enough"),6210:_WFT("acl_editor","admin_cannot_set_acl_perm"),6211:_WFT("acl_editor","error_invalid_user_or_group"),6212:_WFT("error","error_acl_mp_not_support"),6213:_WFT("acl_editor","quota_exceeded"),6703:_T("error","error_port_conflict"),6704:_T("error","error_port_conflict"),6705:_T("user","no_such_user"),6706:_T("user","error_nameused"),6708:_T("share","error_volume_not_found"),6709:_T("netbackup","err_create_service_share")};return a};SYNO.API.AssignErrorStr=function(){SYNO.API.Errors=SYNO.API.GetErrors()};SYNO.API.Erros=function(){if(Ext.isIE8){return SYNO.API.Errors}var c={},b=function(d){Object.defineProperty(c,d,{get:function(){SYNO.Debug.error("SYNO.API.Erros is deprecated (typo), please use SYNO.API.Errors instead.");return SYNO.API.Errors[d]},configurable:false})};for(var a in SYNO.API.Errors){if(SYNO.API.Errors.hasOwnProperty(a)){b(a)}}return c}();angular.createNameSpace("SYNO.Encryption");SYNO.Encryption.AES=(function(){var a=function(y,f){var i={},h=i.lib={},A=function(){},z=h.Base={extend:function(b){A.prototype=this;var d=new A;b&&d.mixIn(b);d.hasOwnProperty("init")||(d.init=function(){d.$super.init.apply(this,arguments)});d.init.prototype=d;d.$super=this;return d},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var d in b){b.hasOwnProperty(d)&&(this[d]=b[d])}b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},c=h.WordArray=z.extend({init:function(b,d){b=this.words=b||[];this.sigBytes=d!=f?d:4*b.length},toString:function(b){return(b||o).stringify(this)},concat:function(b){var p=this.words,n=b.words,l=this.sigBytes;b=b.sigBytes;this.clamp();if(l%4){for(var d=0;d<b;d++){p[l+d>>>2]|=(n[d>>>2]>>>24-8*(d%4)&255)<<24-8*((l+d)%4)}}else{if(65535<n.length){for(d=0;d<b;d+=4){p[l+d>>>2]=n[d>>>2]}}else{p.push.apply(p,n)}}this.sigBytes+=b;return this},clamp:function(){var b=this.words,d=this.sigBytes;b[d>>>2]&=4294967295<<32-8*(d%4);b.length=y.ceil(d/4)},clone:function(){var b=z.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var l=[],d=0;d<b;d+=4){l.push(4294967296*y.random()|0)}return new c.init(l,b)}}),m=i.enc={},o=m.Hex={stringify:function(b){var p=b.words;b=b.sigBytes;for(var n=[],l=0;l<b;l++){var d=p[l>>>2]>>>24-8*(l%4)&255;n.push((d>>>4).toString(16));n.push((d&15).toString(16))}return n.join("")},parse:function(b){for(var n=b.length,l=[],d=0;d<n;d+=2){l[d>>>3]|=parseInt(b.substr(d,2),16)<<24-4*(d%8)}return new c.init(l,n/2)}},j=m.Latin1={stringify:function(b){var n=b.words;b=b.sigBytes;for(var l=[],d=0;d<b;d++){l.push(String.fromCharCode(n[d>>>2]>>>24-8*(d%4)&255))}return l.join("")},parse:function(b){for(var n=b.length,l=[],d=0;d<n;d++){l[d>>>2]|=(b.charCodeAt(d)&255)<<24-8*(d%4)}return new c.init(l,n)}},k=m.Utf8={stringify:function(b){try{return decodeURIComponent(escape(j.stringify(b)))}catch(d){throw Error("Malformed UTF-8 data")}},parse:function(b){return j.parse(unescape(encodeURIComponent(b)))}},e=h.BufferedBlockAlgorithm=z.extend({reset:function(){this._data=new c.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=k.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(l){var t=this._data,s=t.words,p=t.sigBytes,n=this.blockSize,d=p/(4*n),d=l?y.ceil(d):y.max((d|0)-this._minBufferSize,0);l=d*n;p=y.min(4*l,p);if(l){for(var r=0;r<l;r+=n){this._doProcessBlock(s,r)}r=s.splice(0,l);t.sigBytes-=p}return new c.init(r,p)},clone:function(){var b=z.clone.call(this);b._data=this._data.clone();return b},_minBufferSize:0});h.Hasher=e.extend({cfg:z.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){e.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(d,l){return(new b.init(l)).finalize(d)}},_createHmacHelper:function(b){return function(d,l){return(new g.HMAC.init(b,l)).finalize(d)}}});var g=i.algo={};return i}(Math);(function(){var b=a,c=b.lib.WordArray;b.enc.Base64={stringify:function(k){var f=k.words,j=k.sigBytes,h=this._map;k.clamp();k=[];for(var i=0;i<j;i+=3){for(var e=(f[i>>>2]>>>24-8*(i%4)&255)<<16|(f[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|f[i+2>>>2]>>>24-8*((i+2)%4)&255,g=0;4>g&&i+0.75*g<j;g++){k.push(h.charAt(e>>>6*(3-g)&63))}}if(f=h.charAt(64)){for(;k.length%4;){k.push(f)}}return k.join("")},parse:function(m){var g=m.length,j=this._map,i=j.charAt(64);i&&(i=m.indexOf(i),-1!=i&&(g=i));for(var i=[],k=0,f=0;f<g;f++){if(f%4){var h=j.indexOf(m.charAt(f-1))<<2*(f%4),e=j.indexOf(m.charAt(f))>>>6-2*(f%4);i[k>>>2]|=(h|e)<<24-8*(k%4);k++}}return c.create(i,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(m){function e(d,t,l,s,r,q,p){d=d+(t&l|~t&s)+r+p;return(d<<q|d>>>32-q)+t}function g(d,t,l,s,r,q,p){d=d+(t&s|l&~s)+r+p;return(d<<q|d>>>32-q)+t}function f(d,t,l,s,r,q,p){d=d+(t^l^s)+r+p;return(d<<q|d>>>32-q)+t}function o(d,t,l,s,r,q,p){d=d+(l^(t|~s))+r+p;return(d<<q|d>>>32-q)+t}for(var n=a,c=n.lib,j=c.WordArray,k=c.Hasher,c=n.algo,h=[],i=0;64>i;i++){h[i]=4294967296*m.abs(m.sin(i+1))|0}c=c.MD5=k.extend({_doReset:function(){this._hash=new j.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(K,M){for(var V=0;16>V;V++){var U=M+V,T=K[U];K[U]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var V=this._hash.words,U=K[M+0],T=K[M+1],P=K[M+2],O=K[M+3],b=K[M+4],I=K[M+5],F=K[M+6],l=K[M+7],p=K[M+8],L=K[M+9],J=K[M+10],H=K[M+11],s=K[M+12],G=K[M+13],y=K[M+14],d=K[M+15],S=V[0],N=V[1],R=V[2],Q=V[3],S=e(S,N,R,Q,U,7,h[0]),Q=e(Q,S,N,R,T,12,h[1]),R=e(R,Q,S,N,P,17,h[2]),N=e(N,R,Q,S,O,22,h[3]),S=e(S,N,R,Q,b,7,h[4]),Q=e(Q,S,N,R,I,12,h[5]),R=e(R,Q,S,N,F,17,h[6]),N=e(N,R,Q,S,l,22,h[7]),S=e(S,N,R,Q,p,7,h[8]),Q=e(Q,S,N,R,L,12,h[9]),R=e(R,Q,S,N,J,17,h[10]),N=e(N,R,Q,S,H,22,h[11]),S=e(S,N,R,Q,s,7,h[12]),Q=e(Q,S,N,R,G,12,h[13]),R=e(R,Q,S,N,y,17,h[14]),N=e(N,R,Q,S,d,22,h[15]),S=g(S,N,R,Q,T,5,h[16]),Q=g(Q,S,N,R,F,9,h[17]),R=g(R,Q,S,N,H,14,h[18]),N=g(N,R,Q,S,U,20,h[19]),S=g(S,N,R,Q,I,5,h[20]),Q=g(Q,S,N,R,J,9,h[21]),R=g(R,Q,S,N,d,14,h[22]),N=g(N,R,Q,S,b,20,h[23]),S=g(S,N,R,Q,L,5,h[24]),Q=g(Q,S,N,R,y,9,h[25]),R=g(R,Q,S,N,O,14,h[26]),N=g(N,R,Q,S,p,20,h[27]),S=g(S,N,R,Q,G,5,h[28]),Q=g(Q,S,N,R,P,9,h[29]),R=g(R,Q,S,N,l,14,h[30]),N=g(N,R,Q,S,s,20,h[31]),S=f(S,N,R,Q,I,4,h[32]),Q=f(Q,S,N,R,p,11,h[33]),R=f(R,Q,S,N,H,16,h[34]),N=f(N,R,Q,S,y,23,h[35]),S=f(S,N,R,Q,T,4,h[36]),Q=f(Q,S,N,R,b,11,h[37]),R=f(R,Q,S,N,l,16,h[38]),N=f(N,R,Q,S,J,23,h[39]),S=f(S,N,R,Q,G,4,h[40]),Q=f(Q,S,N,R,U,11,h[41]),R=f(R,Q,S,N,O,16,h[42]),N=f(N,R,Q,S,F,23,h[43]),S=f(S,N,R,Q,L,4,h[44]),Q=f(Q,S,N,R,s,11,h[45]),R=f(R,Q,S,N,d,16,h[46]),N=f(N,R,Q,S,P,23,h[47]),S=o(S,N,R,Q,U,6,h[48]),Q=o(Q,S,N,R,l,10,h[49]),R=o(R,Q,S,N,y,15,h[50]),N=o(N,R,Q,S,I,21,h[51]),S=o(S,N,R,Q,s,6,h[52]),Q=o(Q,S,N,R,O,10,h[53]),R=o(R,Q,S,N,J,15,h[54]),N=o(N,R,Q,S,T,21,h[55]),S=o(S,N,R,Q,p,6,h[56]),Q=o(Q,S,N,R,d,10,h[57]),R=o(R,Q,S,N,F,15,h[58]),N=o(N,R,Q,S,G,21,h[59]),S=o(S,N,R,Q,b,6,h[60]),Q=o(Q,S,N,R,H,10,h[61]),R=o(R,Q,S,N,P,15,h[62]),N=o(N,R,Q,S,L,21,h[63]);V[0]=V[0]+S|0;V[1]=V[1]+N|0;V[2]=V[2]+R|0;V[3]=V[3]+Q|0},_doFinalize:function(){var d=this._data,r=d.words,l=8*this._nDataBytes,q=8*d.sigBytes;r[q>>>5]|=128<<24-q%32;var p=m.floor(l/4294967296);r[(q+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360;r[(q+64>>>9<<4)+14]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;d.sigBytes=4*(r.length+1);this._process();d=this._hash;r=d.words;for(l=0;4>l;l++){q=r[l],r[l]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360}return d},clone:function(){var d=k.clone.call(this);d._hash=this._hash.clone();return d}});n.MD5=k._createHelper(c);n.HmacMD5=k._createHmacHelper(c)})(Math);(function(){var c=a,f=c.lib,g=f.Base,b=f.WordArray,f=c.algo,e=f.EvpKDF=g.extend({cfg:g.extend({keySize:4,hasher:f.MD5,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(l,h){for(var j=this.cfg,v=j.hasher.create(),m=b.create(),t=m.words,i=j.keySize,j=j.iterations;t.length<i;){k&&v.update(k);var k=v.update(l).finalize(h);v.reset();for(var o=1;o<j;o++){k=v.finalize(k),v.reset()}m.concat(k)}m.sigBytes=4*i;return m}});c.EvpKDF=function(j,h,i){return e.create(i).compute(j,h)}})();a.lib.Cipher||function(B){var g=a,j=g.lib,i=j.Base,D=j.WordArray,C=j.BufferedBlockAlgorithm,e=g.enc.Base64,z=g.algo.EvpKDF,A=j.Cipher=C.extend({cfg:i.extend(),createEncryptor:function(c,b){return this.create(this._ENC_XFORM_MODE,c,b)},createDecryptor:function(c,b){return this.create(this._DEC_XFORM_MODE,c,b)},init:function(l,d,c){this.cfg=this.cfg.extend(c);this._xformMode=l;this._key=d;this.reset()},reset:function(){C.reset.call(this);this._doReset()},process:function(b){this._append(b);return this._process()},finalize:function(b){b&&this._append(b);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(b){return{encrypt:function(c,l,n){return("string"==typeof l?k:o).encrypt(b,c,l,n)},decrypt:function(c,l,n){return("string"==typeof l?k:o).decrypt(b,c,l,n)}}}});j.StreamCipher=A.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var m=g.mode={},y=function(p,n,l){var r=this._iv;r?this._iv=B:r=this._prevBlock;for(var q=0;q<l;q++){p[n+q]^=r[q]}},f=(j.BlockCipherMode=i.extend({createEncryptor:function(c,b){return this.Encryptor.create(c,b)},createDecryptor:function(c,b){return this.Decryptor.create(c,b)},init:function(c,b){this._cipher=c;this._iv=b}})).extend();f.Encryptor=f.extend({processBlock:function(n,l){var d=this._cipher,p=d.blockSize;y.call(this,n,l,p);d.encryptBlock(n,l);this._prevBlock=n.slice(l,l+p)}});f.Decryptor=f.extend({processBlock:function(p,n){var l=this._cipher,r=l.blockSize,q=p.slice(n,n+r);l.decryptBlock(p,n);y.call(this,p,n,r);this._prevBlock=q}});m=m.CBC=f;f=(g.pad={}).Pkcs7={pad:function(r,p){for(var u=4*p,u=u-r.sigBytes%u,s=u<<24|u<<16|u<<8|u,q=[],t=0;t<u;t+=4){q.push(s)}u=D.create(q,u);r.concat(u)},unpad:function(b){b.sigBytes-=b.words[b.sigBytes-1>>>2]&255}};j.BlockCipher=A.extend({cfg:A.cfg.extend({mode:m,padding:f}),reset:function(){A.reset.call(this);var l=this.cfg,d=l.iv,l=l.mode;if(this._xformMode==this._ENC_XFORM_MODE){var n=l.createEncryptor}else{n=l.createDecryptor,this._minBufferSize=1}this._mode=n.call(l,this,d&&d.words)},_doProcessBlock:function(d,c){this._mode.processBlock(d,c)},_doFinalize:function(){var d=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){d.pad(this._data,this.blockSize);var c=this._process(!0)}else{c=this._process(!0),d.unpad(c)}return c},blockSize:4});var h=j.CipherParams=i.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),m=(g.format={}).OpenSSL={stringify:function(d){var c=d.ciphertext;d=d.salt;return(d?D.create([1398893684,1701076831]).concat(d).concat(c):c).toString(e)},parse:function(l){l=e.parse(l);var d=l.words;if(1398893684==d[0]&&1701076831==d[1]){var n=D.create(d.slice(2,4));d.splice(0,4);l.sigBytes-=16}return h.create({ciphertext:l,salt:n})}},o=j.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(q,n,s,r){r=this.cfg.extend(r);var p=q.createEncryptor(s,r);n=p.finalize(n);p=p.cfg;return h.create({ciphertext:n,key:s,iv:p.iv,algorithm:q,mode:p.mode,padding:p.padding,blockSize:q.blockSize,formatter:r.format})},decrypt:function(n,l,q,p){p=this.cfg.extend(p);l=this._parse(l,p.format);return n.createDecryptor(q,p).finalize(l.ciphertext)},_parse:function(d,c){return"string"==typeof d?c.parse(d,this):d}}),g=(g.kdf={}).OpenSSL={execute:function(n,l,q,p){p||(p=D.random(8));n=z.create({keySize:l+q}).compute(n,p);q=D.create(n.words.slice(l),4*q);n.sigBytes=4*l;return h.create({key:n,iv:q,salt:p})}},k=j.PasswordBasedCipher=o.extend({cfg:o.cfg.extend({kdf:g}),encrypt:function(n,r,q,p){p=this.cfg.extend(p);q=p.kdf.execute(q,n.keySize,n.ivSize);p.iv=q.iv;n=o.encrypt.call(this,n,r,q.key,p);n.mixIn(q);return n},decrypt:function(n,r,q,p){p=this.cfg.extend(p);r=this._parse(r,p.format);q=p.kdf.execute(q,n.keySize,n.ivSize,r.salt);p.iv=q.iv;return o.decrypt.call(this,n,r,q.key,p)}})}();(function(){for(var C=a,K=C.lib.BlockCipher,Q=C.algo,M=[],E=[],D=[],I=[],m=[],A=[],S=[],h=[],J=[],L=[],T=[],R=0;256>R;R++){T[R]=128>R?R<<1:R<<1^283}for(var P=0,O=0,R=0;256>R;R++){var N=O^O<<1^O<<2^O<<3^O<<4,N=N>>>8^N&255^99;M[P]=N;E[N]=P;var f=T[P],B=T[f],o=T[B],g=257*T[N]^16843008*N;D[P]=g<<24|g>>>8;I[P]=g<<16|g>>>16;m[P]=g<<8|g>>>24;A[P]=g;g=16843009*o^65537*B^257*f^16843008*P;S[N]=g<<24|g>>>8;h[N]=g<<16|g>>>16;J[N]=g<<8|g>>>24;L[N]=g;P?(P=f^T[T[T[o^f]]],O^=T[T[O]]):P=O=1}var i=[0,1,2,4,8,16,32,64,128,27,54],Q=Q.AES=K.extend({_doReset:function(){for(var b=this._key,r=b.words,q=b.sigBytes/4,b=4*((this._nRounds=q+6)+1),p=this._keySchedule=[],n=0;n<b;n++){if(n<q){p[n]=r[n]}else{var l=p[n-1];n%q?6<q&&4==n%q&&(l=M[l>>>24]<<24|M[l>>>16&255]<<16|M[l>>>8&255]<<8|M[l&255]):(l=l<<8|l>>>24,l=M[l>>>24]<<24|M[l>>>16&255]<<16|M[l>>>8&255]<<8|M[l&255],l^=i[n/q|0]<<24);p[n]=p[n-q]^l}}r=this._invKeySchedule=[];for(q=0;q<b;q++){n=b-q,l=q%4?p[n]:p[n-4],r[q]=4>q||4>=n?l:S[M[l>>>24]]^h[M[l>>>16&255]]^J[M[l>>>8&255]]^L[M[l&255]]}},encryptBlock:function(d,c){this._doCryptBlock(d,c,this._keySchedule,D,I,m,A,M)},decryptBlock:function(b,j){var e=b[j+1];b[j+1]=b[j+3];b[j+3]=e;this._doCryptBlock(b,j,this._invKeySchedule,S,h,J,L,E);e=b[j+1];b[j+1]=b[j+3];b[j+3]=e},_doCryptBlock:function(ac,ab,aa,Z,Y,U,G,X){for(var F=this._nRounds,W=ac[ab]^aa[0],V=ac[ab+1]^aa[1],H=ac[ab+2]^aa[2],z=ac[ab+3]^aa[3],y=4,w=1;w<F;w++){var x=Z[W>>>24]^Y[V>>>16&255]^U[H>>>8&255]^G[z&255]^aa[y++],v=Z[V>>>24]^Y[H>>>16&255]^U[z>>>8&255]^G[W&255]^aa[y++],u=Z[H>>>24]^Y[z>>>16&255]^U[W>>>8&255]^G[V&255]^aa[y++],z=Z[z>>>24]^Y[W>>>16&255]^U[V>>>8&255]^G[H&255]^aa[y++],W=x,V=v,H=u}x=(X[W>>>24]<<24|X[V>>>16&255]<<16|X[H>>>8&255]<<8|X[z&255])^aa[y++];v=(X[V>>>24]<<24|X[H>>>16&255]<<16|X[z>>>8&255]<<8|X[W&255])^aa[y++];u=(X[H>>>24]<<24|X[z>>>16&255]<<16|X[W>>>8&255]<<8|X[V&255])^aa[y++];z=(X[z>>>24]<<24|X[W>>>16&255]<<16|X[V>>>8&255]<<8|X[H&255])^aa[y++];ac[ab]=x;ac[ab+1]=v;ac[ab+2]=u;ac[ab+3]=z},keySize:8});C.AES=K._createHelper(Q)})();return a.AES})();angular.createNameSpace("SYNO.Encryption");SYNO.Encryption.Base64=(function(){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var a="=";return{hex2b64:function(f){var e;var g;var d="";for(e=0;e+3<=f.length;e+=3){g=parseInt(f.substring(e,e+3),16);d+=b.charAt(g>>6)+b.charAt(g&63)}if(e+1==f.length){g=parseInt(f.substring(e,e+1),16);d+=b.charAt(g<<2)}else{if(e+2==f.length){g=parseInt(f.substring(e,e+2),16);d+=b.charAt(g>>2)+b.charAt((g&3)<<4)}}while((d.length&3)>0){d+=a}return d},b64tohex:function(h){var f="";var g;var d=0;var e;for(g=0;g<h.length;++g){if(h.charAt(g)==a){break}var c=b.indexOf(h.charAt(g));if(c<0){continue}if(d===0){f+=int2char(c>>2);e=c&3;d=1}else{if(d==1){f+=int2char((e<<2)|(c>>4));e=c&15;d=2}else{if(d==2){f+=int2char(e);f+=int2char(c>>2);e=c&3;d=3}else{f+=int2char((e<<2)|(c>>4));f+=int2char(c&15);d=0}}}}if(d==1){f+=int2char(e<<2)}return f},b64toBA:function(f){var e=this.b64tohex(f);var d;var c=[];for(d=0;2*d<e.length;++d){c[d]=parseInt(e.substring(2*d,2*d+2),16)}return c}}})();angular.createNameSpace("SYNO.Encryption");SYNO.Encryption.BigInteger=(function(){var G;var Y=244837814094590;var f=((Y&16777215)==15715070);function d(aa,Z,ab){if(!angular.isEmpty(aa)){if("number"==typeof aa){this.fromNumber(aa,Z,ab)}else{if(angular.isEmpty(Z)&&"string"!=typeof aa){this.fromString(aa,256)}else{this.fromString(aa,Z)}}}}function l(){return new d(null)}function K(ad,Z,aa,ac,af,ae){while(--ae>=0){var ab=Z*this[ad++]+aa[ac]+af;af=Math.floor(ab/67108864);aa[ac++]=ab&67108863}return af}function J(ad,ai,aj,ac,ag,Z){var af=ai&32767,ah=ai>>15;while(--Z>=0){var ab=this[ad]&32767;var ae=this[ad++]>>15;var aa=ah*ab+ae*af;ab=af*ab+((aa&32767)<<15)+aj[ac]+(ag&1073741823);ag=(ab>>>30)+(aa>>>15)+ah*ae+(ag>>>30);aj[ac++]=ab&1073741823}return ag}function I(ad,ai,aj,ac,ag,Z){var af=ai&16383,ah=ai>>14;while(--Z>=0){var ab=this[ad]&16383;var ae=this[ad++]>>14;var aa=ah*ab+ae*af;ab=af*ab+((aa&16383)<<14)+aj[ac]+ag;ag=(ab>>28)+(aa>>14)+ah*ae;aj[ac++]=ab&268435455}return ag}if(f&&(navigator.appName=="Microsoft Internet Explorer")){d.prototype.am=J;G=30}else{if(f&&(navigator.appName!="Netscape")){d.prototype.am=K;G=26}else{d.prototype.am=I;G=28}}d.prototype.DB=G;d.prototype.DM=((1<<G)-1);d.prototype.DV=(1<<G);var m=52;d.prototype.FV=Math.pow(2,m);d.prototype.F1=m-G;d.prototype.F2=2*G-m;var t="0123456789abcdefghijklmnopqrstuvwxyz";var x=[];var D,o;D="0".charCodeAt(0);for(o=0;o<=9;++o){x[D++]=o}D="a".charCodeAt(0);for(o=10;o<36;++o){x[D++]=o}D="A".charCodeAt(0);for(o=10;o<36;++o){x[D++]=o}function w(Z){return t.charAt(Z)}function B(aa,Z){var ab=x[aa.charCodeAt(Z)];return(angular.isEmpty(ab))?-1:ab}function n(aa){for(var Z=this.t-1;Z>=0;--Z){aa[Z]=this[Z]}aa.t=this.t;aa.s=this.s}function Q(Z){this.t=1;this.s=(Z<0)?-1:0;if(Z>0){this[0]=Z}else{if(Z<-1){this[0]=Z+DV}else{this.t=0}}}function b(Z){var aa=l();aa.fromInt(Z);return aa}function L(af,aa){var ac;if(aa==16){ac=4}else{if(aa==8){ac=3}else{if(aa==256){ac=8}else{if(aa==2){ac=1}else{if(aa==32){ac=5}else{if(aa==4){ac=2}else{this.fromRadix(af,aa);return}}}}}}this.t=0;this.s=0;var ae=af.length,ab=false,ad=0;while(--ae>=0){var Z=(ac==8)?af[ae]&255:B(af,ae);if(Z<0){if(af.charAt(ae)=="-"){ab=true}continue}ab=false;if(ad===0){this[this.t++]=Z}else{if(ad+ac>this.DB){this[this.t-1]|=(Z&((1<<(this.DB-ad))-1))<<ad;this[this.t++]=(Z>>(this.DB-ad))}else{this[this.t-1]|=Z<<ad}}ad+=ac;if(ad>=this.DB){ad-=this.DB}}if(ac==8&&(af[0]&128)!==0){this.s=-1;if(ad>0){this[this.t-1]|=((1<<(this.DB-ad))-1)<<ad}}this.clamp();if(ab){d.ZERO.subTo(this,this)}}function O(){var Z=this.s&this.DM;while(this.t>0&&this[this.t-1]==Z){--this.t}}function S(aa){if(this.s<0){return"-"+this.negate().toString(aa)}var ab;if(aa==16){ab=4}else{if(aa==8){ab=3}else{if(aa==2){ab=1}else{if(aa==32){ab=5}else{if(aa==4){ab=2}else{return this.toRadix(aa)}}}}}var ad=(1<<ab)-1,ag,Z=false,ae="",ac=this.t;var af=this.DB-(ac*this.DB)%ab;if(ac-->0){if(af<this.DB&&(ag=this[ac]>>af)>0){Z=true;ae=w(ag)}while(ac>=0){if(af<ab){ag=(this[ac]&((1<<af)-1))<<(ab-af);ag|=this[--ac]>>(af+=this.DB-ab)}else{ag=(this[ac]>>(af-=ab))&ad;if(af<=0){af+=this.DB;--ac}}if(ag>0){Z=true}if(Z){ae+=w(ag)}}}return Z?ae:"0"}function M(){var Z=l();d.ZERO.subTo(this,Z);return Z}function F(){return(this.s<0)?this.negate():this}function U(Z){var ab=this.s-Z.s;if(ab!==0){return ab}var aa=this.t;ab=aa-Z.t;if(ab!==0){return ab}while(--aa>=0){if((ab=this[aa]-Z[aa])!==0){return ab}}return 0}function T(Z){var ab=1,aa;if((aa=Z>>>16)!==0){Z=aa;ab+=16}if((aa=Z>>8)!==0){Z=aa;ab+=8}if((aa=Z>>4)!==0){Z=aa;ab+=4}if((aa=Z>>2)!==0){Z=aa;ab+=2}if((aa=Z>>1)!==0){Z=aa;ab+=1}return ab}function g(){if(this.t<=0){return 0}return this.DB*(this.t-1)+T(this[this.t-1]^(this.s&this.DM))}function a(ab,aa){var Z;for(Z=this.t-1;Z>=0;--Z){aa[Z+ab]=this[Z]}for(Z=ab-1;Z>=0;--Z){aa[Z]=0}aa.t=this.t+ab;aa.s=this.s}function y(ab,aa){for(var Z=ab;Z<this.t;++Z){aa[Z-ab]=this[Z]}aa.t=Math.max(this.t-ab,0);aa.s=this.s}function s(ag,ac){var aa=ag%this.DB;var Z=this.DB-aa;var ae=(1<<Z)-1;var ad=Math.floor(ag/this.DB),af=(this.s<<aa)&this.DM,ab;for(ab=this.t-1;ab>=0;--ab){ac[ab+ad+1]=(this[ab]>>Z)|af;af=(this[ab]&ae)<<aa}for(ab=ad-1;ab>=0;--ab){ac[ab]=0}ac[ad]=af;ac.t=this.t+ad+1;ac.s=this.s;ac.clamp()}function P(af,ac){ac.s=this.s;var ad=Math.floor(af/this.DB);if(ad>=this.t){ac.t=0;return}var aa=af%this.DB;var Z=this.DB-aa;var ae=(1<<aa)-1;ac[0]=this[ad]>>aa;for(var ab=ad+1;ab<this.t;++ab){ac[ab-ad-1]|=(this[ab]&ae)<<Z;ac[ab-ad]=this[ab]>>aa}if(aa>0){ac[this.t-ad-1]|=(this.s&ae)<<Z}ac.t=this.t-ad;ac.clamp()}function h(aa,ac){var ab=0,ad=0,Z=Math.min(aa.t,this.t);while(ab<Z){ad+=this[ab]-aa[ab];ac[ab++]=ad&this.DM;ad>>=this.DB}if(aa.t<this.t){ad-=aa.s;while(ab<this.t){ad+=this[ab];ac[ab++]=ad&this.DM;ad>>=this.DB}ad+=this.s}else{ad+=this.s;while(ab<aa.t){ad-=aa[ab];ac[ab++]=ad&this.DM;ad>>=this.DB}ad-=aa.s}ac.s=(ad<0)?-1:0;if(ad<-1){ac[ab++]=this.DV+ad}else{if(ad>0){ac[ab++]=ad}}ac.t=ab;ac.clamp()}function N(aa,ac){var Z=this.abs(),ad=aa.abs();var ab=Z.t;ac.t=ab+ad.t;while(--ab>=0){ac[ab]=0}for(ab=0;ab<ad.t;++ab){ac[ab+Z.t]=Z.am(0,ad[ab],ac,ab,0,Z.t)}ac.s=0;ac.clamp();if(this.s!=aa.s){d.ZERO.subTo(ac,ac)}}function z(ab){var aa,Z=this.abs();aa=ab.t=2*Z.t;while(--aa>=0){ab[aa]=0}for(aa=0;aa<Z.t-1;++aa){var ac=Z.am(aa,Z[aa],ab,2*aa,0,1);if((ab[aa+Z.t]+=Z.am(aa+1,2*Z[aa],ab,2*aa+1,ac,Z.t-aa-1))>=Z.DV){ab[aa+Z.t]-=Z.DV;ab[aa+Z.t+1]=1}}if(ab.t>0){ab[ab.t-1]+=Z.am(aa,Z[aa],ab,2*aa,0,1)}ab.s=0;ab.clamp()}function H(ai,af,ae){var ao=ai.abs();if(ao.t<=0){return}var ag=this.abs();if(ag.t<ao.t){if(!angular.isEmpty(af)){af.fromInt(0)}if(!angular.isEmpty(ae)){this.copyTo(ae)}return}if(angular.isEmpty(ae)){ae=l()}var ac=l(),Z=this.s,ah=ai.s;var an=this.DB-T(ao[ao.t-1]);if(an>0){ao.lShiftTo(an,ac);ag.lShiftTo(an,ae)}else{ao.copyTo(ac);ag.copyTo(ae)}var ak=ac.t;var aa=ac[ak-1];if(aa===0){return}var aj=aa*(1<<this.F1)+((ak>1)?ac[ak-2]>>this.F2:0);var ar=this.FV/aj,aq=(1<<this.F1)/aj,ap=1<<this.F2;var am=ae.t,al=am-ak,ad=(angular.isEmpty(af))?l():af;ac.dlShiftTo(al,ad);if(ae.compareTo(ad)>=0){ae[ae.t++]=1;ae.subTo(ad,ae)}d.ONE.dlShiftTo(ak,ad);ad.subTo(ac,ac);while(ac.t<ak){ac[ac.t++]=0}while(--al>=0){var ab=(ae[--am]==aa)?this.DM:Math.floor(ae[am]*ar+(ae[am-1]+ap)*aq);if((ae[am]+=ac.am(0,ab,ae,al,0,ak))<ab){ac.dlShiftTo(al,ad);ae.subTo(ad,ae);while(ae[am]<--ab){ae.subTo(ad,ae)}}}if(!angular.isEmpty(af)){ae.drShiftTo(ak,af);if(Z!=ah){d.ZERO.subTo(af,af)}}ae.t=ak;ae.clamp();if(an>0){ae.rShiftTo(an,ae)}if(Z<0){d.ZERO.subTo(ae,ae)}}function j(Z){var aa=l();this.abs().divRemTo(Z,null,aa);if(this.s<0&&aa.compareTo(d.ZERO)>0){Z.subTo(aa,aa)}return aa}function V(Z){this.m=Z}function v(Z){if(Z.s<0||Z.compareTo(this.m)>=0){return Z.mod(this.m)}else{return Z}}function p(Z){return Z}function c(Z){Z.divRemTo(this.m,null,Z)}function W(Z,ab,aa){Z.multiplyTo(ab,aa);this.reduce(aa)}function X(Z,aa){Z.squareTo(aa);this.reduce(aa)}V.prototype.convert=v;V.prototype.revert=p;V.prototype.reduce=c;V.prototype.mulTo=W;V.prototype.sqrTo=X;function r(){if(this.t<1){return 0}var Z=this[0];if((Z&1)===0){return 0}var aa=Z&3;aa=(aa*(2-(Z&15)*aa))&15;aa=(aa*(2-(Z&255)*aa))&255;aa=(aa*(2-(((Z&65535)*aa)&65535)))&65535;aa=(aa*(2-Z*aa%this.DV))%this.DV;return(aa>0)?this.DV-aa:-aa}function A(Z){this.m=Z;this.mp=Z.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(Z.DB-15))-1;this.mt2=2*Z.t}function q(Z){var aa=l();Z.abs().dlShiftTo(this.m.t,aa);aa.divRemTo(this.m,null,aa);if(Z.s<0&&aa.compareTo(d.ZERO)>0){this.m.subTo(aa,aa)}return aa}function R(Z){var aa=l();Z.copyTo(aa);this.reduce(aa);return aa}function E(Z){while(Z.t<=this.mt2){Z[Z.t++]=0}for(var ab=0;ab<this.m.t;++ab){var aa=Z[ab]&32767;var ac=(aa*this.mpl+(((aa*this.mph+(Z[ab]>>15)*this.mpl)&this.um)<<15))&Z.DM;aa=ab+this.m.t;Z[aa]+=this.m.am(0,ac,Z,ab,0,this.m.t);while(Z[aa]>=Z.DV){Z[aa]-=Z.DV;Z[++aa]++}}Z.clamp();Z.drShiftTo(this.m.t,Z);if(Z.compareTo(this.m)>=0){Z.subTo(this.m,Z)}}function k(Z,aa){Z.squareTo(aa);this.reduce(aa)}function i(Z,ab,aa){Z.multiplyTo(ab,aa);this.reduce(aa)}A.prototype.convert=q;A.prototype.revert=R;A.prototype.reduce=E;A.prototype.mulTo=i;A.prototype.sqrTo=k;function u(){return 0===((this.t>0)?(this[0]&1):this.s)}function e(ae,af){if(ae>4294967295||ae<1){return d.ONE}var ad=l(),Z=l(),ac=af.convert(this),ab=T(ae)-1;ac.copyTo(ad);while(--ab>=0){af.sqrTo(ad,Z);if((ae&(1<<ab))>0){af.mulTo(Z,ac,ad)}else{var aa=ad;ad=Z;Z=aa}}return af.revert(ad)}function C(aa,Z){var ab;if(aa<256||Z.isEven()){ab=new V(Z)}else{ab=new A(Z)}return this.exp(aa,ab)}d.prototype.copyTo=n;d.prototype.fromInt=Q;d.prototype.fromString=L;d.prototype.clamp=O;d.prototype.dlShiftTo=a;d.prototype.drShiftTo=y;d.prototype.lShiftTo=s;d.prototype.rShiftTo=P;d.prototype.subTo=h;d.prototype.multiplyTo=N;d.prototype.squareTo=z;d.prototype.divRemTo=H;d.prototype.invDigit=r;d.prototype.isEven=u;d.prototype.exp=e;d.prototype.toString=S;d.prototype.negate=M;d.prototype.abs=F;d.prototype.compareTo=U;d.prototype.bitLength=g;d.prototype.mod=j;d.prototype.modPowInt=C;d.ZERO=b(0);d.ONE=b(1);return d})();angular.createNameSpace("SYNO.Encryption");SYNO.Encryption.SecureRandom=(function(){function g(){this.i=0;this.j=0;this.S=[]}function l(s){var r,p,q;for(r=0;r<256;++r){this.S[r]=r}p=0;for(r=0;r<256;++r){p=(p+this.S[r]+s[r%s.length])&255;q=this.S[r];this.S[r]=this.S[p];this.S[p]=q}this.i=0;this.j=0}function d(){var p;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;p=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=p;return this.S[(p+this.S[this.i])&255]}g.prototype.init=l;g.prototype.next=d;function j(){return new g()}var m=256;var k;var b;var f;function h(p){b[f++]^=p&255;b[f++]^=(p>>8)&255;b[f++]^=(p>>16)&255;b[f++]^=(p>>24)&255;if(f>=m){f-=m}}function o(){h(new Date().getTime())}if(angular.isEmpty(b)){b=[];f=0;var n;if(navigator.appName=="Netscape"&&navigator.appVersion<"5"&&window.crypto){var i=window.crypto.random(32);for(n=0;n<i.length;++n){b[f++]=i.charCodeAt(n)&255}}while(f<m){n=Math.floor(65536*Math.random());b[f++]=n>>>8;b[f++]=n&255}f=0;o()}function c(){if(angular.isEmpty(k)){o();k=j();k.init(b);for(f=0;f<b.length;++f){b[f]=0}f=0}return k.next()}function e(q){var p;for(p=0;p<q.length;++p){q[p]=c()}}function a(){}a.prototype.nextBytes=e;a.rng_seed_time=o;return a})();angular.createNameSpace("SYNO.Encryption");SYNO.Encryption.RSA=(function(){function b(h,g){return new SYNO.Encryption.BigInteger(h,g)}function a(k,o){if(o<k.length+11){return null}var m=[];var j=k.length-1;while(j>=0&&o>0){var l=k.charCodeAt(j--);if(l<128){m[--o]=l}else{if((l>127)&&(l<2048)){m[--o]=(l&63)|128;m[--o]=(l>>6)|192}else{m[--o]=(l&63)|128;m[--o]=((l>>6)&63)|128;m[--o]=(l>>12)|224}}}m[--o]=0;var h=new SYNO.Encryption.SecureRandom();var g=[];while(o>2){g[0]=0;while(g[0]===0){h.nextBytes(g)}m[--o]=g[0]}m[--o]=2;m[--o]=0;return new SYNO.Encryption.BigInteger(m)}function d(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function e(h,g){if(!angular.isEmpty(h)&&!angular.isEmpty(g)&&h.length>0&&g.length>0){this.n=b(h,16);this.e=parseInt(g,16)}else{}}function f(g){return g.modPowInt(this.e,this.n)}function c(j){var g=a(j,(this.n.bitLength()+7)>>3);if(angular.isEmpty(g)){return null}var k=this.doPublic(g);if(angular.isEmpty(k)){return null}var i=k.toString(16);if((i.length&1)===0){return i}else{return"0"+i}}d.prototype.doPublic=f;d.prototype.setPublic=e;d.prototype.encrypt=c;return d})();angular.createNameSpace("SYNO.Encryption");SYNO.Encryption.CipherKey="";SYNO.Encryption.RSAModulus="";SYNO.Encryption.CipherToken="";SYNO.Encryption.TimeBias=0;SYNO.Encryption.GenRandomKey=function(){var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~!@#$%^&*()_+-/".split("");return function(b){var c=[];while(b>0){c.push(a[Math.floor(Math.random()*(a.length+1))]);b--}return c.join("")}}();SYNO.Encryption.EncryptParam=function(g){var e,c,b,d={},a={},f=SYNO.Encryption.GenRandomKey(501);if(!SYNO.Encryption.CipherKey||!SYNO.Encryption.RSAModulus||!SYNO.Encryption.CipherToken){return g}e=new SYNO.Encryption.RSA();e.setPublic(SYNO.Encryption.RSAModulus,"10001");d[SYNO.Encryption.CipherToken]=Math.floor(+new Date()/1000)+SYNO.Encryption.TimeBias;c=e.encrypt(f);if(!c){return g}angular.apply(d,g);b=SYNO.Encryption.AES.encrypt(angular.urlEncode(d),f).toString();if(!b){return g}a[SYNO.Encryption.CipherKey]=JSON.stringify({rsa:SYNO.Encryption.Base64.hex2b64(c),aes:b});return a};